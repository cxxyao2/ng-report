(self.webpackChunkng_center=self.webpackChunkng_center||[]).push([["main"],{8255:R=>{function N(l){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+l+"'");throw D.code="MODULE_NOT_FOUND",D})}N.keys=()=>[],N.resolve=N,N.id=8255,R.exports=N},3806:(R,N,l)=>{"use strict";l.d(N,{q:()=>W});var D=l(9238),t=l(4785),Y=l(3461),Q=l(7636),U=l(1386),j=l(1394),a=l(552),Z=l(2796),G=l(5072),O=l(1554),k=l(346),b=l(6410),V=l(1095),A=l(2542),m=l(3738),u=l(7539),w=l(8341),C=l(4553),y=l(3220),B=l(2238),Re=l(1769),$e=l(171),ze=l(4929),Be=l(6627),He=l(9983),Ct=l(7746),v=l(3935),St=l(2458),Gt=l(9692),h=l(2178),je=l(4885),Ge=l(2613),We=l(7441),st=l(4935),tt=l(4436),vt=l(5396),lt=l(7001),ct=l(1494),Ke=l(2091),Xe=l(5939),Ve=l(2522),tn=l(1436),en=l(1933),nn=l(625),on=l(8295),dt=l(7716);class W{}W.\u0275fac=function(Tt){return new(Tt||W)},W.\u0275mod=dt.oAB({type:W}),W.\u0275inj=dt.cJS({imports:[D.rt,t.Iq,j.U5,a.HT,Z.nZ,Y._t,G.xu,O.Bb,k.g,b._r,V.ot,A.vV,m.QW,u.p9,w.Hi,C.T5,y.FA,B.Is,Re.t,$e.To,ze.N6,Be.Ps,He.c,Ct.ie,v.Tx,St.XK,Gt.TU,h.Cv,je.Cq,Ge.Fk,St.si,We.LD,st.SJ,tt.KP,vt.rP,lt.ZX,ct.JX,Ke.p0,Xe.Nh,Ve.g0,tn.AV,en.dp,nn.U8,Q.eL,U.Cl,on.lN]})},7556:(R,N,l)=>{"use strict";l.d(N,{e:()=>Z});var D=l(8248),t=l(2340),Y=l(3342),Q=l(7716),U=l(1841),j=l(1584),a=l(4876);class Z{constructor(O,k,b){this.http=O,this.cookieService=k,this.logsSrv=b,this.configUrl=t.N.apiUrl,this.tokenKey="token",this.currentUser=null}registerUser(O){const k=this.configUrl+"/users";return this.http.post(k,O)}findUserByEmail(O){const k=this.configUrl+"/users/?email="+O;return this.http.get(k)}sendResetPasswordEmail(O){const k=this.configUrl+"/auth/send-reset-email";return this.http.post(k,{email:O})}sendPlaceOrderEmail(O,k,b,V,A){const m=this.configUrl+"/auth/send-place-order-email";return this.http.post(m,{email:O,name:k,amount:b,tax:V,total:A})}resetPassword(O,k){const b=this.configUrl+"/auth/reset-password?token="+k;return this.http.post(b,{newPassword:O})}updatePassword(O,k){const b=this.configUrl+"/auth";return this.http.put(b,{password:O,newPassword:k})}login(O,k){const b=this.configUrl+"/auth";return this.http.post(b,{email:O,password:k}).pipe((0,Y.b)(V=>{V.token&&this.cookieService.set(t.N.cookieName,V.token)}))}getToken(){return this.cookieService.get(t.N.cookieName)||""}loginWithJwt(){this.logsSrv.addLog("login")}setCurrentUser(){const O=this.getToken();if(O&&O.length>=1)try{this.currentUser=(0,D.Z)(O)}catch(k){this.currentUser=null}}logout(){this.logsSrv.addLog("logout"),this.cookieService.delete(t.N.cookieName),window.location.reload()}}Z.\u0275fac=function(O){return new(O||Z)(Q.LFG(U.eN),Q.LFG(j.N),Q.LFG(a.P))},Z.\u0275prov=Q.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})},4876:(R,N,l)=>{"use strict";l.d(N,{P:()=>U});var D=l(4945),t=l(2340),Y=l(7716),Q=l(1841);class U{constructor(a){this.http=a,this.ipAddress="",this.configUrl=t.N.apiUrl+"/logs"}getLog(a){const Z=`${this.configUrl}/${a}`;return this.http.get(Z)}deleteLog(a){const Z=`${this.configUrl}/${a}`;return this.http.delete(Z)}getLogs(a,Z,G,O){let k=this.configUrl;return void 0!==a&&void 0!==Z&&null!=G?k=`${this.configUrl}?startDate=${a}&endDate=${Z}&userId=${G}&content=${O}`:void 0!==a&&void 0!==Z&&(k=`${this.configUrl}?startDate=${a}&endDate=${Z}`),this.http.get(k).pipe((0,D.X)(1))}addLog(a){this.http.post(this.configUrl,{content:a}).subscribe()}getIPAddress(){this.http.get("https://api.ipify.org/?format=json").subscribe(a=>{this.ipAddress=a.ip})}}U.\u0275fac=function(a){return new(a||U)(Y.LFG(Q.eN))},U.\u0275prov=Y.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})},3071:(R,N,l)=>{"use strict";l.d(N,{K:()=>U});var D=l(4945),t=l(2340),Y=l(7716),Q=l(1841);class U{constructor(a){this.http=a,this.configUrl=t.N.apiUrl+"/users"}getUser(a){const Z=`${this.configUrl}/${a}`;return this.http.get(Z)}getUsers(){return this.http.get(this.configUrl).pipe((0,D.X)(1))}updateUser(a,Z){const G=`${this.configUrl}/${a}`;return this.http.put(G,Z)}}U.\u0275fac=function(a){return new(a||U)(Y.LFG(Q.eN))},U.\u0275prov=Y.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})},2340:(R,N,l)=>{"use strict";l.d(N,{N:()=>D});const D={production:!1,apiUrl:" https://bakend-jennifer.herokuapp.com/api",imageUrl:"https://bakend-jennifer.herokuapp.com",mapKey:"w",weatherUrl:"https://weather.",cookieName:"my-xsrf-token",tokenHeaderName:"my-x-xsrf-token"}},754:(R,N,l)=>{"use strict";var D=l(9075),t=l(7716),Y=l(6237),Q=l(4785),U=l(1584),j=l(5566),a=l(3679),Z=l(9010);class G{constructor(){this.apiUrl="",this.enableDebug=!0}}const k={provide:G,useFactory:()=>{const o=new G,n=window||{};for(const e in n)n.hasOwnProperty(e)&&("apiUrl"===e&&(o.apiUrl=n.apiUrl),"enableDebug"===e&&(o.enableDebug=n.enableDebug));return o},deps:[]};var b=l(1841),V=l(6571),A=l(3423),m=l(7238),u=l(8583),w=l(5618),C=l(1095),y=l(6627),B=l(8030);function Re(o,n){1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._UZ(2,"img",8),t.qZA(),t.TgZ(3,"div",9),t.TgZ(4,"h3",10),t._uU(5,"Best gas station near your house"),t.qZA(),t.TgZ(6,"h4"),t._uU(7,"24/7 service without stopping"),t.qZA(),t.TgZ(8,"p",11),t.TgZ(9,"button",12),t._uU(10," Know more..."),t.TgZ(11,"mat-icon"),t._uU(12,"navigate_next"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&t.Q6J("@flyInOut",void 0)}function $e(o,n){1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._UZ(2,"img",13),t.qZA(),t.TgZ(3,"div",14),t.TgZ(4,"h3",10),t._uU(5,"Best engineers. Best service."),t.qZA(),t.TgZ(6,"div",15),t.TgZ(7,"div",16),t.TgZ(8,"p",17),t._uU(9,"1200"),t.qZA(),t.TgZ(10,"p"),t._uU(11,"qualified engineers"),t.qZA(),t.qZA(),t.TgZ(12,"div",18),t.TgZ(13,"p",17),t._uU(14,"12000"),t.qZA(),t.TgZ(15,"p"),t._uU(16,"franchised service centers"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&t.Q6J("@flyInOut",void 0)}function ze(o,n){1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._UZ(2,"img",19),t.qZA(),t.TgZ(3,"div",14),t.TgZ(4,"h3",10),t._uU(5,"All in One"),t.qZA(),t.TgZ(6,"p",11),t._uU(7," From Oct 1 2021 , we will supply one year free car-washing service for customers whose order value is more than $100. Download our app for more information about discounts and products on-sale. "),t.qZA(),t.qZA(),t.qZA()),2&o&&t.Q6J("@flyInOut",void 0)}const Be=function(o){return{active:o}};function He(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"li",20),t.TgZ(1,"a",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().jumpToSlide(s)}),t._uU(2),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Be,e===i.activeSlideIdx)),t.xp6(2),t.Oqu(e+1)}}class Ct{constructor(){this.activeSlideIdx=0,this.slides=[0,1,2]}ngOnInit(){this.slideId=window.setInterval(()=>{this.plusSlides(1)},5e3)}ngOnDestroy(){window.clearInterval(this.slideId)}changeSlideManually(n){window.clearInterval(this.slideId),this.plusSlides(n)}plusSlides(n){this.activeSlideIdx+=n,this.activeSlideIdx>2&&(this.activeSlideIdx=0),this.activeSlideIdx<0&&(this.activeSlideIdx=2)}jumpToSlide(n){window.clearInterval(this.slideId),this.activeSlideIdx=n}}Ct.\u0275fac=function(n){return new(n||Ct)},Ct.\u0275cmp=t.Xpm({type:Ct,selectors:[["app-slide-shows"]],decls:10,vars:4,consts:[[1,"slideshow-container"],["fxLayout","row wrap ","fxLayoutAlign","space-between",4,"ngIf"],[1,"slideshow-dots"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"prev",3,"click"],[1,"next",3,"click"],["fxLayout","row wrap ","fxLayoutAlign","space-between"],["fxFlex","48%","fxFlex.lt-md","100%"],["src","./assets/station.jpg","alt","slide image",1,"slide-image"],["fxFlex","48%","fxFlex.lt-md","100%",1,"slideshow-text-wrapper"],[1,"slideshow-text-header"],[1,"slideshow-text-details"],["mat-raised-button","","color","primary","routerLink","/find-store"],["src","./assets/garage.jpg","alt","slide image",1,"slide-image"],["fxFlex","48%","fxFlex.lt-md","100%",1,"slideshow-text-area"],[2,"display","flex","justify-content","flex-start","padding","8px"],[2,"border-right","1px solid lightgray","padding-right","8px"],[2,"font-size","16px","font-weight","bold"],[2,"padding-left","8px"],["src","./assets/carwashing.jpg","alt","slide image",1,"slide-image"],[3,"ngClass"],[3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Re,13,1,"div",1),t.YNc(2,$e,17,1,"div",1),t.YNc(3,ze,8,1,"div",1),t.TgZ(4,"ul",2),t.YNc(5,He,3,4,"li",3),t.qZA(),t.TgZ(6,"a",4),t.NdJ("click",function(){return e.changeSlideManually(-1)}),t._uU(7,"\u276e"),t.qZA(),t.TgZ(8,"a",5),t.NdJ("click",function(){return e.changeSlideManually(1)}),t._uU(9,"\u276f"),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",0===e.activeSlideIdx),t.xp6(1),t.Q6J("ngIf",1===e.activeSlideIdx),t.xp6(1),t.Q6J("ngIf",2===e.activeSlideIdx),t.xp6(2),t.Q6J("ngForOf",e.slides))},directives:[u.O5,u.sg,w.xw,w.Wh,w.yH,C.lW,A.rH,y.Hw,u.mk,B.oO],styles:[".slideshow-container[_ngcontent-%COMP%]{position:relative;width:100%;border-radius:8px;overflow:hidden}.slide-image[_ngcontent-%COMP%]{width:100%;vertical-align:middle;object-fit:cover;height:300px}.slideshow-text-wrapper[_ngcontent-%COMP%]{padding:8px}.slideshow-text-header[_ngcontent-%COMP%]{margin-top:16px;font-size:24px}.slideshow-text-details[_ngcontent-%COMP%]{margin:16px 0}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;width:auto;margin-top:-22px;padding:16px;color:#979797;font-weight:bold;font-size:18px;transition:.6s ease;border-radius:0 3px 3px 0}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{background-color:#dadada}.next[_ngcontent-%COMP%]{right:0;border-radius:3px 0 0 3px}.slideshow-dots[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:10px;text-align:center;list-style:none;z-index:100}.slideshow-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin:0;padding:0}.slideshow-dots[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;width:20px;height:20px;margin:0 5px;border-radius:20px;opacity:.3;transition:.3s;text-indent:1000px}.slideshow-dots[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.6}.slideshow-dots[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:1}@media screen and (max-width: 960px){.slideshow-container[_ngcontent-%COMP%]{height:600px}.slideshow-container[_ngcontent-%COMP%]   .slideshow-text[_ngcontent-%COMP%]{margin-top:16px}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{top:150px}}"],data:{animation:[(0,m.X$)("flyInOut",[(0,m.eR)("void => *",[(0,m.oB)({position:"absolute",left:"0",top:"0",transform:"translateX(-100%)"}),(0,m.jt)(1e3)]),(0,m.eR)("* => void",[(0,m.jt)(1e3,(0,m.oB)({position:"absolute",left:"0",top:"0",opacity:0,transform:"translateX(100%)"}))])])]}});var v=l(9765),St=l(6797),Gt=l(3342),h=l(6782);const je=(0,m.X$)("customSlide",[(0,m.eR)(":enter",[(0,m.oB)({bottom:"-200px",opacity:"0.4"}),(0,m.jt)("{{ time }}ms",(0,m.oB)({bottom:"-5px",opacity:"1"}))],{params:{time:"500"}}),(0,m.eR)(":leave",(0,m.jt)("2s",(0,m.oB)({opacity:"0"})))]),Ge=(0,m.X$)("customRotate",[(0,m.eR)(":enter",[(0,m.jt)("{{ time }}ms ease-in",(0,m.F4)([(0,m.oB)({transform:"rotate(0deg)",opacity:"0.2"}),(0,m.oB)({transform:"rotate(360deg)",opacity:"0.9"})]))],{params:{time:"500"}}),(0,m.eR)(":leave",(0,m.jt)("2s",(0,m.oB)({opacity:"0"})))]),We=(0,m.X$)("customFade",[(0,m.eR)(":enter",[(0,m.jt)("{{ time }}ms ease-in",(0,m.F4)([(0,m.oB)({transform:"scale(1)",opacity:"0.2"}),(0,m.oB)({transform:"scale(1.2)",opacity:"0.5"}),(0,m.oB)({transform:"scale(1)",opacity:"1"})]))],{params:{time:"500"}}),(0,m.eR)(":leave",(0,m.jt)("2s",(0,m.oB)({opacity:"0"})))]);var st=l(6215);class tt{constructor(){this.darkTheme=new st.X(!1),this.handsetFlag=new st.X(!1),this.isDarkTheme=this.darkTheme.asObservable(),this.isHandset=this.handsetFlag.asObservable()}setDarkTheme(n){this.darkTheme.next(n)}setHandset(n){this.handsetFlag.next(n)}}tt.\u0275fac=function(n){return new(n||tt)},tt.\u0275prov=t.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"});class vt{constructor(){}ngOnInit(){}}vt.\u0275fac=function(n){return new(n||vt)},vt.\u0275cmp=t.Xpm({type:vt,selectors:[["app-animate-card"]],inputs:{imageSrc:"imageSrc",imageSlogan:"imageSlogan"},decls:4,vars:2,consts:[[1,"card"],[1,"card-image",3,"src"],[1,"card-slogan"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2),t._uU(3),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("src",e.imageSrc,t.LSH),t.xp6(2),t.Oqu(e.imageSlogan))},styles:[".card[_ngcontent-%COMP%]{position:relative;width:19rem;height:20rem;background-color:transparent;box-shadow:0 1px 5px 3px #2e32341a;border-radius:1rem;transition:box-shadow .3s ease-in-out;overflow:hidden}.card-image[_ngcontent-%COMP%]{width:19rem;height:20rem;object-fit:cover;border-radius:1rem;overflow:hidden}.card-slogan[_ngcontent-%COMP%]{position:absolute;top:45%;color:#fff;font-size:1.5rem;width:100%;text-align:center}"]});const lt=function(o){return{time:o}},ct=function(o){return{value:":enter",params:o}};function Ke(o,n){if(1&o&&t._UZ(0,"app-animate-card",7),2&o){const e=t.oxw();t.Q6J("@customSlide",t.VKq(5,ct,t.VKq(3,lt,e.speed)))("imageSlogan",e.imageSloganTop)("imageSrc",e.imageSrc)}}function Xe(o,n){if(1&o&&t._UZ(0,"app-animate-card",7),2&o){const e=t.oxw();t.Q6J("@customSlide",t.VKq(5,ct,t.VKq(3,lt,e.speed)))("imageSlogan",e.imageSloganTop)("imageSrc",e.imageSrc)}}function Ve(o,n){if(1&o&&t._UZ(0,"app-animate-card",7),2&o){const e=t.oxw();t.Q6J("@customRotate",t.VKq(5,ct,t.VKq(3,lt,e.speed)))("imageSlogan",e.imageSloganTop)("imageSrc",e.imageSrc)}}function tn(o,n){if(1&o&&t._UZ(0,"app-animate-card",7),2&o){const e=t.oxw();t.Q6J("@customRotate",t.VKq(5,ct,t.VKq(3,lt,e.speed)))("imageSlogan",e.imageSloganTop)("imageSrc",e.imageSrc)}}function en(o,n){if(1&o&&t._UZ(0,"app-animate-card",7),2&o){const e=t.oxw();t.Q6J("@customFade",t.VKq(5,ct,t.VKq(3,lt,e.speed)))("imageSlogan",e.imageSloganTop)("imageSrc",e.imageSrc)}}function nn(o,n){if(1&o&&t._UZ(0,"app-animate-card",7),2&o){const e=t.oxw();t.Q6J("@customFade",t.VKq(5,ct,t.VKq(3,lt,e.speed)))("imageSlogan",e.imageSloganTop)("imageSrc",e.imageSrc)}}const on=function(o){return{dark:o}};class dt{constructor(n){this.themeSrv=n,this.destroy$=new v.xQ,this.antStatus="normal",this.noDisplay=!1,this.innerWidth=300,this.innerHeight=400,this.darkMode=!1,this.garage="./assets/garage.jpg",this.gas="./assets/gasoline.jpg",this.imageSrcTop=this.garage,this.imageSrcBottom=this.gas,this.imageSloganTop="Service",this.imageSloganBottom="Gasoline",this.imageSrc=this.imageSrcTop,this.showTop=!0,this.ob1=(0,St.H)(0,2e3),this.speed=1e3,this.leaveSpeed=2e3,this.oldTop=""}ngOnInit(){this.ob1.pipe((0,Gt.b)(n=>{const e=Math.ceil(4*Math.random());this.imageSrc=`./assets/animate${e}.jpg`,this.showTop=!this.showTop}),(0,h.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}dt.\u0275fac=function(n){return new(n||dt)(t.Y36(tt))},dt.\u0275cmp=t.Xpm({type:dt,selectors:[["app-animate-card-list"]],decls:19,vars:13,consts:[[2,"margin","1rem auto","width","100%","max-width","300px","text-align","center",3,"ngClass"],["type","range","id","volume","name","volume","min","500","max","2000",3,"ngModel","ngModelChange"],["animateSpeed",""],[1,"animatons_contain"],[1,"card_wrapper"],[1,"card_area"],["id","topCard",3,"imageSlogan","imageSrc",4,"ngIf"],["id","topCard",3,"imageSlogan","imageSrc"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"input",1,2),t.NdJ("ngModelChange",function(r){return e.speed=r}),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.YNc(9,Ke,1,7,"app-animate-card",6),t.YNc(10,Xe,1,7,"app-animate-card",6),t.qZA(),t.qZA(),t.TgZ(11,"div",4),t.TgZ(12,"div",5),t.YNc(13,Ve,1,7,"app-animate-card",6),t.YNc(14,tn,1,7,"app-animate-card",6),t.qZA(),t.qZA(),t.TgZ(15,"div",4),t.TgZ(16,"div",5),t.YNc(17,en,1,7,"app-animate-card",6),t.YNc(18,nn,1,7,"app-animate-card",6),t.qZA(),t.qZA(),t.qZA()),2&n){const i=t.MAs(3);t.Q6J("ngClass",t.VKq(11,on,t.lcZ(1,9,e.themeSrv.isDarkTheme))),t.xp6(2),t.Q6J("ngModel",e.speed),t.xp6(3),t.hij(" Animation Speed: \xa0",i.value,"\xa0ms"),t.xp6(4),t.Q6J("ngIf",e.showTop),t.xp6(1),t.Q6J("ngIf",!e.showTop),t.xp6(3),t.Q6J("ngIf",e.showTop),t.xp6(1),t.Q6J("ngIf",!e.showTop),t.xp6(3),t.Q6J("ngIf",e.showTop),t.xp6(1),t.Q6J("ngIf",!e.showTop)}},directives:[u.mk,B.oO,a.eT,a.Fj,a.JJ,a.On,u.O5,vt],pipes:[u.Ov],styles:[".animatons_contain[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around;grid-gap:1rem;gap:1rem}.card_wrapper[_ngcontent-%COMP%]{position:relative;width:19rem;height:20rem;overflow:hidden;border-radius:1rem}.card_area[_ngcontent-%COMP%]{position:absolute;width:19rem;height:20rem;border-radius:1rem;border:solid 1px transparent;transition:all 1s;overflow:hidden}app-animate-card[_ngcontent-%COMP%]{position:absolute;z-index:90}#topCard[_ngcontent-%COMP%]{z-index:100}@keyframes slide{0%{bottom:-200px;opacity:0}to{bottom:-5px;opacity:1}}input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;width:100%;background:transparent}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none}input[type=range][_ngcontent-%COMP%]:focus{outline:none}input[type=range][_ngcontent-%COMP%]::-ms-track{width:100%;cursor:pointer;background:transparent;border-color:transparent;color:transparent}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:1.3rem;width:1.3rem;border-radius:100%;background:#2b244d;cursor:pointer;margin-top:-6px;box-shadow:0 0 #0000ff80}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{height:1.3rem;width:1.3rem;border-radius:100%;background:#2b244d;cursor:pointer;margin-top:-6px;box-shadow:0 0 #0000ff80}input[type=range][_ngcontent-%COMP%]::-ms-thumb{height:1.3rem;width:1.3rem;border-radius:100%;background:#2b244d;cursor:pointer;margin-top:-6px;box-shadow:0 0 #0000ff80}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:1rem;cursor:pointer;background-color:#00000080;border-color:transparent;border-radius:.5rem;color:transparent}input[type=range][_ngcontent-%COMP%]:focus::-webkit-slider-runnable-track{background-color:#00000080}input[type=range][_ngcontent-%COMP%]::-moz-range-track{width:100%;height:1rem;cursor:pointer;background-color:#00000080;border-color:transparent;border-radius:.5rem;color:transparent}input[type=range][_ngcontent-%COMP%]::-ms-track{width:100%;height:1rem;cursor:pointer;background-color:#00000080;border-color:transparent;border-radius:.5rem;color:transparent}input[type=range][_ngcontent-%COMP%]::-ms-fill-lower{background:#2a6495;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}input[type=range][_ngcontent-%COMP%]:focus::-ms-fill-lower{background:#3071a9}input[type=range][_ngcontent-%COMP%]::-ms-fill-upper{background:#3071a9;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{background:white}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{background:white}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-thumb{background:white}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{background-color:#ff0070}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus::-webkit-slider-runnable-track{background-color:#ff0070}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-track{background-color:#ff0070}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-track{background-color:#ff0070}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-fill-lower{background:#2a6495;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus::-ms-fill-lower{background:#3071a9}.dark[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-fill-upper{background:#3071a9;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}"],data:{animation:[je,Ge,We]}});class W{constructor(){}ngOnInit(){}}W.\u0275fac=function(n){return new(n||W)},W.\u0275cmp=t.Xpm({type:W,selectors:[["app-home"]],decls:12,vars:0,consts:[[1,"introduction-wrapper"],[1,"introduction"],[1,"banner-wrapper"],["src","./assets/homepage.jpg",1,"banner-image"],[1,"banner-text"]],template:function(n,e){1&n&&(t._UZ(0,"app-slide-shows"),t._UZ(1,"app-animate-card-list"),t.TgZ(2,"div",0),t.TgZ(3,"p",1),t._uU(4," Find your nearest gas Station using our station locator tool, and plan your route. And when you\u2019re done, find out how new series V-Power Premium Gasoline provides the best total engine protection you can get, delivering unbeatable protection against gunk and corrosion and superior protection against wear. "),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"p",1),t._uU(7," Enjoy your journey with happiness and without any worry, because we put the service back into service-station, ensuring you always leave us a little happier than when you arrived. "),t.qZA(),t.qZA(),t.TgZ(8,"div",2),t._UZ(9,"img",3),t.TgZ(10,"h1",4),t._uU(11,"Best gas and Best Service for all the world!"),t.qZA(),t.qZA())},directives:[Ct,dt],styles:[".introduction-wrapper[_ngcontent-%COMP%]{margin:16px 0;position:relative}p.introduction[_ngcontent-%COMP%]:first-letter{font-size:200%;color:#8a2be2}.banner-wrapper[_ngcontent-%COMP%]{position:relative;margin:0 auto;padding:0;overflow:hidden;width:80%}.banner-image[_ngcontent-%COMP%]{-webkit-clip-path:polygon(0 1%,100% 1%,100% 100%,0 47%);clip-path:polygon(0 1%,100% 1%,100% 100%,0 47%);width:100%;object-fit:cover;vertical-align:middle}.banner-text[_ngcontent-%COMP%]{position:absolute;left:10px;bottom:10%;text-shadow:1px 1px 2px deepskyblue}"]});var T=l(3738);class Tt{constructor(){}ngOnInit(){}}Tt.\u0275fac=function(n){return new(n||Tt)},Tt.\u0275cmp=t.Xpm({type:Tt,selectors:[["app-page-not-found"]],decls:8,vars:0,consts:[["align","end"],["mat-raised-button","","color","primary","routerLink","/home"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"404"),t.qZA(),t.TgZ(3,"mat-card-content"),t._uU(4,"Page Not Found"),t.qZA(),t.TgZ(5,"mat-card-actions",0),t.TgZ(6,"button",1),t._uU(7,"Back To Home"),t.qZA(),t.qZA(),t.qZA())},directives:[T.a8,T.n5,T.dn,T.hq,C.lW,A.rH],styles:[""]});var Se=l(3461),E=l(3190),rn=l(4612),an=l(5758),S=l(5917),sn=l(4402),Ie=l(205);function nt(o){const n=o.getFullYear(),e=o.getMonth()+1,i=o.getDate(),r=e.toString(),s=i.toString(),c=r.padStart(2,"0"),d=s.padStart(2,"0");return n.toString()+"-"+c+"-"+d}var At=l(4945),P=l(2340);class wt{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/contactplans"}getContactPlans(n,e){const i=P.N.apiUrl+`/contactplans?contactDate=${n}&salesperson=${e}`;return this.http.get(i).pipe((0,At.X)(1))}addContactPlan(n){return this.http.post(this.configUrl,n)}deleteContactPlan(n){const e=`${this.configUrl}/${n}`;return this.http.delete(e)}updateContactPlan(n,e){const i=`${this.configUrl}/${n}`;return this.http.put(i,e)}}wt.\u0275fac=function(n){return new(n||wt)(t.LFG(b.eN))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"});class yt{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/contactrecords"}getContactRecords(n,e){const i=this.configUrl+`?contactDate=${n}&salesperson=${e}`;return this.http.get(i).pipe((0,At.X)(1))}addContactRecord(n){return this.http.post(this.configUrl,n)}deleteContactRecord(n){const e=`${this.configUrl}/${n}`;return this.http.delete(e)}deleteSpecificDatePlan(n,e){const i=this.configUrl+"?contactDate="+n+"&createUser="+e;return this.http.delete(i)}updateContactRecord(n,e){const i=`${this.configUrl}/${n}`;return this.http.put(i,e)}}yt.\u0275fac=function(n){return new(n||yt)(t.LFG(b.eN))},yt.\u0275prov=t.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"});class K{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/customers"}getCustomer(n){const e=`${this.configUrl}/${n}`;return this.http.get(e)}getAllAuthorizedCustomers(){const n=`${this.configUrl}?isAuthorized=true`;return this.http.get(n)}updateCustomer(n,e){const i=`${this.configUrl}/${n}`;return this.http.put(i,e)}deleteCustomer(n){const e=`${this.configUrl}/${n}`;return this.http.delete(e)}getCustomers(){const n=P.N.apiUrl+"/customers";return this.http.get(n)}addCustomer(n){return this.http.post(this.configUrl,n)}}K.\u0275fac=function(n){return new(n||K)(t.LFG(b.eN))},K.\u0275prov=t.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"});var $=l(7556),Pn=l(4762),M=l(2238);class Wt{constructor(n){this.data=n}ngOnInit(){}}Wt.\u0275fac=function(n){return new(n||Wt)(t.Y36(M.WI))},Wt.\u0275cmp=t.Xpm({type:Wt,selectors:[["app-confirm"]],decls:13,vars:8,consts:[[1,"header"],["mat-dialog-title",""],["mat-icon-button","",3,"mat-dialog-close"],["mat-dialog-content",""],["mat-dialog-actions","",3,"align"],["mat-raised-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.TgZ(4,"mat-icon"),t._uU(5,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t._uU(7),t.qZA(),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t._uU(10),t.qZA(),t.TgZ(11,"button",6),t._uU(12),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Oqu(null==e.data?null:e.data.title),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(4),t.Oqu(null==e.data?null:e.data.message),t.xp6(1),t.Q6J("align","end"),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",null==e.data?null:e.data.cancelText," "),t.xp6(1),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",null==e.data?null:e.data.confirmText," "))},directives:[M.uh,C.lW,M.ZT,y.Hw,M.xY,M.H8],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]});class ot{constructor(n){this.dialog=n}confirmDialog(n){return this.dialog.open(Wt,{data:n,width:"400px",disableClose:!0}).afterClosed()}openLazyDialog(n){return(0,Pn.mG)(this,void 0,void 0,function*(){const e=yield l(7395)(`./${n}/${n}.component`),i=Object.values(e)[0];return this.dialog.open(i)})}}ot.\u0275fac=function(n){return new(n||ot)(t.LFG(M.uw))},ot.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"});var f=l(8295),z=l(9983),H=l(3220),it=l(1769);class pt{constructor(){this.message=null}ngOnInit(){}}pt.\u0275fac=function(n){return new(n||pt)},pt.\u0275cmp=t.Xpm({type:pt,selectors:[["app-success"]],inputs:{message:"message"},decls:3,vars:1,consts:[[1,"success-wrapper"],[1,"success-message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t._uU(2),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Oqu(e.message))},styles:[".success-wrapper[_ngcontent-%COMP%]{position:fixed;left:240px;top:100px;width:calc(100% - 240px);background-color:#fff;color:#039be5;height:4rem;border-radius:.25rem .25rem 0 0;display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;transition:transform 1s ease-in-out;z-index:9999999999;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.success-message[_ngcontent-%COMP%]{text-align:left;font-size:14pxm;letter-spacing:inherit;text-transform:capitalize;line-height:1.1rem;display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:80%}@media screen and (max-width: 800px){.success-wrapper[_ngcontent-%COMP%]{top:60px;width:100%;left:0}}"]});const qn=function(o){return{"error-wrapper-active":o}};function Un(o,n){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,qn,e.message)),t.xp6(2),t.Oqu(e.message)}}class q{constructor(){this.message=null,this.action="GOT IT"}ngOnInit(){}hideMe(){this.message=null}}function kn(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=n.index,r=t.oxw(2);t.xp6(1),t.AsE(" ",r.getStringFromPosition(i),"\xa0\xa0",e," ")}}function Dn(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Sn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",16),t.TgZ(2,"div",17),t.TgZ(3,"h3"),t._uU(4,"Visit Plan"),t.qZA(),t.TgZ(5,"div",18,19),t.NdJ("cdkDropListDropped",function(r){return t.CHM(e),t.oxw().drop(r)}),t.YNc(7,kn,2,2,"div",20),t.qZA(),t.qZA(),t.TgZ(8,"div",17),t.TgZ(9,"h3"),t._uU(10,"Waiting List"),t.qZA(),t.TgZ(11,"div",21,22),t.NdJ("cdkDropListDropped",function(r){return t.CHM(e),t.oxw().drop(r)}),t.YNc(13,Dn,2,1,"div",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"h3",23),t._uU(15),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(6),i=t.MAs(12),r=t.oxw();t.xp6(5),t.Q6J("cdkDropListData",r.todo)("cdkDropListConnectedTo",i),t.xp6(2),t.Q6J("ngForOf",r.todo),t.xp6(4),t.Q6J("cdkDropListData",r.done)("cdkDropListConnectedTo",e),t.xp6(2),t.Q6J("ngForOf",r.done),t.xp6(2),t.AsE(" Summary: Today you need visit ",r.todo.length," clients and drive ",r.tourLength," kilometers. Good trip. ")}}function In(o,n){1&o&&(t.TgZ(0,"mat-card"),t._uU(1,"No data matching the criteria."),t.qZA())}function Nn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"map-marker",25,26),t.NdJ("mapClick",function(){const s=t.CHM(e).$implicit,c=t.MAs(1);return t.oxw().openInfo(c,s.info)}),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("position",e.position)("label",e.label)("title",e.title)("options",e.options)}}function Fn(o,n){if(1&o&&t._UZ(0,"app-success",27),2&o){const e=t.oxw();t.Q6J("message",e.successMessage)}}function Qn(o,n){if(1&o&&t._UZ(0,"app-error",27),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}q.\u0275fac=function(n){return new(n||q)},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-error"]],inputs:{message:"message",action:"action"},decls:1,vars:1,consts:[["class","error-wrapper",3,"ngClass",4,"ngIf"],[1,"error-wrapper",3,"ngClass"],[1,"error-message"]],template:function(n,e){1&n&&t.YNc(0,Un,3,4,"div",0),2&n&&t.Q6J("ngIf",e.message)},directives:[u.O5,u.mk,B.oO],styles:[".error-wrapper[_ngcontent-%COMP%]{position:fixed;left:240px;top:100px;width:calc(100% - 240px);background-color:#dc143c;color:#fff;height:4rem;border-radius:.25rem .25rem 0 0;display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;transition:transform 1s ease-in-out;z-index:9999999999}.error-message[_ngcontent-%COMP%]{text-align:left;font-size:14pxm;letter-spacing:inherit;text-transform:capitalize;line-height:1.1rem;display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:80%}.error-btn[_ngcontent-%COMP%]{outline:none;border:none;padding:1rem;background-color:#ffffff4d;font-size:14px;color:#fff}@media screen and (max-width: 800px){.error-wrapper[_ngcontent-%COMP%]{top:60px;width:100%;left:0}}"]});class Kt{constructor(n,e,i,r,s){this.planSrv=n,this.recordSrv=e,this.customerSrv=i,this.authSrv=r,this.dialogService=s,this.destroy$=new v.xQ,this.dateControl=new a.NI,this.errorMessage="",this.successMessage="",this.zoom=12,this.options={mapTypeId:"hybrid",zoomControl:!0,scrollwheel:!1,disableDoubleClickZoom:!1,maxZoom:15,minZoom:8},this.markers=[],this.infoContent="aaa",this.tourLength=300,this.initPlans=[],this.initRecords=[],this.todo=[""],this.done=[""],this.customerArray=[],this.selectedDate=null}ngOnInit(){var o;(o={enableHighAccuracy:!0,timeout:5e3,maximumAge:6e4},new Promise((n,e)=>navigator.geolocation.getCurrentPosition(n,e,o))).then(e=>{this.center={lat:e.coords.latitude,lng:e.coords.longitude}}).catch(e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)}),this.customerSrv.getCustomers().pipe((0,h.R)(this.destroy$)).subscribe(e=>{this.customerArray=e},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},0)}),this.dateControl.valueChanges.pipe((0,E.w)(e=>{var i;if(e){this.selectedDate=e;const r=nt(e),s=(null===(i=this.authSrv.currentUser)||void 0===i?void 0:i._id)||"";return(0,an.D)({plans:this.planSrv.getContactPlans(r,s),records:this.recordSrv.getContactRecords(r,s)})}return(0,S.of)({plans:[],records:[]})}),(0,h.R)(this.destroy$)).subscribe(e=>(this.initPlans=[...e.plans],this.initRecords=[...e.records],this.initRecords&&this.initRecords.length>0?this.resetTodoAndDone(this.initRecords):this.resetTodoAndDone(this.initPlans)),e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}resetTodoAndDone(n){this.todo=[],this.done=[],n.forEach(e=>{this.todo.push(e.customerName)}),this.customerArray.forEach(e=>{this.todo.find(r=>r===e.name)||this.done.push(e.name)}),this.addMarker()}onSubmit(){if(!(this.todo&&this.todo.length>0))return this.errorMessage="No plan need to be saved.",void setTimeout(()=>{this.errorMessage=""},2e3);if(!this.selectedDate)return this.errorMessage="Please select a valid date.",void setTimeout(()=>{this.errorMessage=""},2e3);let n=0;(0,sn.D)(this.todo).pipe((0,rn.b)(e=>{const i=this.customerArray.findIndex(c=>c.name===e);if(i<0)return(0,Ie._)(e+"is not found in database");const r=nt(this.selectedDate||new Date),s=this.getStringFromPosition(n);return n+=1,this.recordSrv.addContactRecord({customerId:this.customerArray[i]._id,contactDate:r,contactPeriod:s})}),(0,h.R)(this.destroy$)).subscribe(e=>{this.errorMessage="",this.successMessage="Your visit plan has been saved successfully.",setTimeout(()=>{this.successMessage=""},2e3)},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}getInitTask(){if(!this.selectedDate)return this.errorMessage="Please select a valid date.",void setTimeout(()=>{this.errorMessage=""},2e3);this.initRecords&&this.initRecords.length>1&&this.dialogService.confirmDialog({title:"Contact Management",message:"Are you sure you to delete this plan?",confirmText:"Yes",cancelText:"No"}).pipe((0,E.w)(n=>{var e;if(n){const i=nt(this.selectedDate||new Date),r=(null===(e=this.authSrv.currentUser)||void 0===e?void 0:e._id)||"";return(0,an.D)({deletedOldRecords:this.recordSrv.deleteSpecificDatePlan(i,r),initPlans:this.planSrv.getContactPlans(i,r)})}return(0,S.of)(null)}),(0,h.R)(this.destroy$)).subscribe(n=>{n&&(this.initPlans=(null==n?void 0:n.initPlans)||[],this.resetTodoAndDone(this.initPlans))},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)})}drop(n){if("todo"===n.container.id&&n.container.data.length>=8)return this.errorMessage="A salesperson can visit au maximum 8 clients daily.",void setTimeout(()=>{this.errorMessage=""},2e3);n.previousContainer===n.container?(0,Se.bA)(n.container.data,n.previousIndex,n.currentIndex):(0,Se.EA)(n.previousContainer.data,n.container.data,n.previousIndex,n.currentIndex),this.tourLength=50*this.todo.length,this.addMarker()}zoomIn(){this.zoom<(this.options.maxZoom?this.options.maxZoom:7)&&this.zoom++}zoomOut(){this.zoom>(this.options.minZoom?this.options.minZoom:7)&&this.zoom--}click(n){}addMarker(){this.markers=[],this.todo.forEach(n=>{const e=this.customerArray.findIndex(i=>i.name===n);if(e>=0){const i=parseFloat(this.customerArray[e].latitude||"0"),r=parseFloat(this.customerArray[e].longitude||"0");this.markers.push({position:{lat:i,lng:r},label:{color:"red",text:n},title:n,info:n,options:{animation:google.maps.Animation.DROP}})}})}openInfo(n,e){this.infoContent=e+" is a excellent location",this.info.open(n)}getStringFromPosition(n){const e=(n+8).toString(),i=(n+9).toString();return e.padStart(2,"0")+":00-"+i.padStart(2,"0")+":00"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Kt.\u0275fac=function(n){return new(n||Kt)(t.Y36(wt),t.Y36(yt),t.Y36(K),t.Y36($.e),t.Y36(ot))},Kt.\u0275cmp=t.Xpm({type:Kt,selectors:[["app-todo"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Z.b6,5),t.Gf(Z.ch,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.map=i.first),t.iGM(i=t.CRH())&&(e.info=i.first)}},decls:27,vars:12,consts:[[1,"header"],[1,"search-section"],["appearance","fill"],["matInput","",3,"formControl","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[4,"ngIf","ngIfElse"],["noData",""],[2,"margin","8px auto"],[1,"map-wrapper"],["height","500px","width","100%",3,"zoom","center","options","mapClick"],[3,"position","label","title","options","mapClick",4,"ngFor","ngForOf"],[2,"width","150px","height","150px","color","blue"],[3,"message",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","45%","fxFlex.xs","100%"],["cdkDropList","","id","todo",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","list-item","cdkDrag","",4,"ngFor","ngForOf"],["id","done","cdkDropList","",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"todo-summary"],["cdkDrag","",1,"list-item"],[3,"position","label","title","options","mapClick"],["markerElem","mapMarker"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"h2"),t._uU(3,"Contact Management"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"mat-form-field",2),t.TgZ(6,"mat-label"),t._uU(7,"Choose a date"),t.qZA(),t._UZ(8,"input",3),t._UZ(9,"mat-datepicker-toggle",4),t._UZ(10,"mat-datepicker",null,5),t.qZA(),t.TgZ(12,"button",6),t.NdJ("click",function(){return e.getInitTask()}),t._uU(13,"Get Init Task"),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){return e.onSubmit()}),t._uU(15," Confirm "),t.qZA(),t.qZA(),t.qZA(),t.YNc(16,Sn,16,8,"div",8),t.YNc(17,In,2,0,"ng-template",null,9,t.W1O),t._UZ(19,"mat-divider",10),t.TgZ(20,"div",11),t.TgZ(21,"google-map",12),t.NdJ("mapClick",function(r){return e.click(r)}),t.YNc(22,Nn,2,4,"map-marker",13),t.TgZ(23,"map-info-window",14),t._uU(24),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,Fn,1,1,"app-success",15),t.YNc(26,Qn,1,1,"app-error",15)),2&n){const i=t.MAs(11),r=t.MAs(18);t.xp6(8),t.Q6J("formControl",e.dateControl)("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(7),t.Q6J("ngIf",e.initPlans.length>=1)("ngIfElse",r),t.xp6(5),t.Q6J("zoom",e.zoom)("center",e.center)("options",e.options),t.xp6(1),t.Q6J("ngForOf",e.markers),t.xp6(2),t.Oqu(e.infoContent),t.xp6(1),t.Q6J("ngIf",e.successMessage),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}},directives:[f.KE,f.hX,z.Nt,a.Fj,H.hl,a.JJ,a.oH,H.nW,f.R9,H.Mq,C.lW,u.O5,it.d,Z.b6,u.sg,Z.ch,w.xw,w.SQ,w.yH,Se.Wj,Se.Zt,T.a8,Z.O_,pt,q],styles:[".container[_ngcontent-%COMP%]{max-width:600px;width:100%;margin:0 20px;display:inline-block;vertical-align:top}.search-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;display:block;overflow:hidden}.list-item[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;box-sizing:border-box;cursor:move;background:white;color:#000;font-size:14px}.list-item[_ngcontent-%COMP%]:last-child{border:none}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.map-wrapper[_ngcontent-%COMP%]{margin-top:16px}.btn-disabled[_ngcontent-%COMP%]{background-color:#d3d3d3}.btn-disabled[_ngcontent-%COMP%]:hover{background:lightgray}"]});class Xt{constructor(){this.data={imageId:"pDGNBK9A0sk",state:"default"}}ngOnInit(){}cardClicked(){"default"===this.data.state?this.data.state="flipped":this.data.state="default"}}Xt.\u0275fac=function(n){return new(n||Xt)},Xt.\u0275cmp=t.Xpm({type:Xt,selectors:[["app-game-card"]],decls:5,vars:1,consts:[[1,"card",3,"click"],[1,"face","back"],["src","assets/animations/photo-back.jpg"],[1,"face","front"],["src","assets/animations/photo-face.jpg"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return e.cardClicked()}),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.qZA()),2&n&&t.Q6J("@cardFlip",e.data.state)},styles:["[_nghost-%COMP%]{display:block;perspective:600px;-webkit-perspective:600px}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}"],data:{animation:[(0,m.X$)("cardFlip",[(0,m.SB)("default",(0,m.oB)({transform:"none"})),(0,m.SB)("flipped",(0,m.oB)({transform:"rotateY(180deg)"})),(0,m.eR)("default=>flipped",[(0,m.jt)("400ms")]),(0,m.eR)("flipped=>default",[(0,m.jt)("200ms")])])]}});var Cn=l(9761),rt=l(8002);class bt{constructor(){this.searchTerms=new st.X(null),this.searchTermObs=this.searchTerms.asObservable()}setSearchTerms(n){this.searchTerms.next(n)}}bt.\u0275fac=function(n){return new(n||bt)},bt.\u0275prov=t.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"});class Mt{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/products",this.products=[]}getProducts(n){const e=`${this.configUrl}?productName=${n}`;return this.http.get(e).pipe((0,At.X)(1))}updateProduct(n){const e=`${this.configUrl}/${n._id}`;return this.http.put(e,n)}addProduct(n){return this.http.post(this.configUrl,n)}deleteProduct(n){const e=`${this.configUrl}/${n._id}`;return this.http.delete(e)}}Mt.\u0275fac=function(n){return new(n||Mt)(t.LFG(b.eN))},Mt.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"});const Ne_tps=.05,Ne_tvq=.09975;var ut=l(5304);class X{constructor(n,e){this.http=n,this.authSrv=e,this.configUrl=P.N.apiUrl+"/carts",this.items=[]}getTotalQuantity(){return this.items.map(n=>n.selected?n.quantity:0).reduce((n,e)=>n+e,0)}getAmount(){return this.items.filter(n=>!0===n.selected).reduce((n,e)=>n+e.quantity*e.price,0)}getCartItems(){var n,e;const i=null===(n=this.currentCustomer)||void 0===n?void 0:n._id,r=null===(e=this.authSrv.currentUser)||void 0===e?void 0:e._id,s=this.configUrl+"?createUser="+r+"&customer="+i;return this.http.get(s)}removeProductFromCart(n=""){const e=this.items.findIndex(r=>r._id===n);e>=0&&this.items.splice(e,1);const i=this.configUrl+"?id="+n;return this.http.delete(i)}clearCart(){var n,e;const i=null===(n=this.currentCustomer)||void 0===n?void 0:n._id,r=null===(e=this.authSrv.currentUser)||void 0===e?void 0:e._id,s=this.configUrl+"?customer="+i+"&createUser="+r;return this.http.delete(s)}addProductToCart(n){var e,i,r,s;const c=this.items.find(d=>d.productId===n._id);if(c){c.quantity+=1;const d=this.configUrl+"/"+c._id;this.http.put(d,{quantity:c.quantity}).subscribe()}else{const d={selected:!0,productId:n._id,productName:n.name,quantity:1,price:n.price,stock:n.stock,customerId:null===(e=this.currentCustomer)||void 0===e?void 0:e._id,customerName:null===(i=this.currentCustomer)||void 0===i?void 0:i.name,salespersonId:null===(r=this.authSrv.currentUser)||void 0===r?void 0:r._id,salespersonName:null===(s=this.authSrv.currentUser)||void 0===s?void 0:s.name,imageUrl:n.imageUrl?n.imageUrl:""};this.http.post(this.configUrl,d).subscribe(g=>{const _=g._id;this.items.push(Object.assign({_id:_},d))})}}updateProductQtyInCart(n="",e){const i=this.items.find(r=>r._id===n);if(i){i.quantity=e;const r=this.configUrl+"/"+n;return this.http.put(r,{quantity:e})}return(0,S.of)([])}toggleProductSelected(n="",e){const i=this.items.findIndex(r=>r._id===n);if(i>=0){const r=Object.assign({},this.items[i]);r.selected=e,this.items.splice(i,1,r);const s=this.configUrl+"/"+n;return this.http.put(s,{selected:e})}return(0,S.of)([])}addCartItemsToOrder(){var n;const e=P.N.apiUrl+"/orders",i=P.N.apiUrl+"/orderheaders",s=nt(new Date),c=this.getAmount(),d=c*Ne_tps,g=c*Ne_tvq,_=c+d+g,x=this.items.filter(L=>L.selected);return this.http.post(i,{customerId:null===(n=this.currentCustomer)||void 0===n?void 0:n._id,orderDate:s}).pipe((0,ut.K)(L=>(0,S.of)("orderHeader save error "+L)),(0,E.w)(L=>{var Zt,Zn;return(0,an.D)({v1:(0,sn.D)(x).pipe((0,rn.b)(xt=>{var Dt;return this.http.post(e,{orderHeader:L._id,orderDate:L.orderDate,customerId:null===(Dt=this.currentCustomer)||void 0===Dt?void 0:Dt._id,productId:xt.productId,quantity:xt.quantity,price:xt.price,amount:xt.price*xt.quantity}).pipe((0,ut.K)(Il=>(0,S.of)("order detail save error"+Il)))})),v2:this.authSrv.sendPlaceOrderEmail(null===(Zt=this.currentCustomer)||void 0===Zt?void 0:Zt.email,null===(Zn=this.currentCustomer)||void 0===Zn?void 0:Zn.name,c,d+g,_).pipe((0,ut.K)(xt=>{var Dt;return console.log("email error , email is ",null===(Dt=this.currentCustomer)||void 0===Dt?void 0:Dt.email,JSON.stringify(xt)),(0,S.of)("send email error is"+xt)}))})}))}}X.\u0275fac=function(n){return new(n||X)(t.LFG(b.eN),t.LFG($.e))},X.\u0275prov=t.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"});var Fe=l(1554),ln=l(8341);function Ln(o,n){1&o&&(t.TgZ(0,"mat-icon"),t._uU(1,"check"),t.qZA())}function Yn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip",2,3),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(1);return t.oxw().toggleSelection(r)}),t.YNc(2,Ln,2,0,"mat-icon",4),t._uU(3),t.qZA()}if(2&o){const e=n.$implicit,i=t.MAs(1);t.Q6J("value",e),t.xp6(2),t.Q6J("ngIf",i.selected),t.xp6(1),t.hij("",e,"\n")}}class It{constructor(){this.options=[],this.destroy$=new v.xQ,this.value=[],this.disabled=!1}ngOnInit(){}toggleSelection(n){this.disabled||n.toggleSelected()}writeValue(n){this.chipList&&n?this.selectChips(n):n&&(this.value=n)}selectChips(n){this.chipList.chips.forEach(i=>i.deselect()),this.chipList.chips.filter(i=>n.includes(i.value)).forEach(i=>i.select())}registerOnChange(n){this.onChange=n}propagateChange(n){this.onChange&&this.onChange(n)}ngAfterViewInit(){this.sub=this.chipList.chipSelectionChanges.pipe((0,rt.U)(n=>n.source),(0,h.R)(this.destroy$)).subscribe(n=>{n.selected?this.value=[...this.value,n.value]:this.value=this.value.filter(e=>e!==n.value),this.propagateChange(this.value)})}registerOnTouched(n){}setDisabledState(n){this.disabled=n}ngOnDestroy(){var n;null===(n=this.sub)||void 0===n||n.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}}It.\u0275fac=function(n){return new(n||It)},It.\u0275cmp=t.Xpm({type:It,selectors:[["app-chips-multi-select"]],viewQuery:function(n,e){if(1&n&&t.Gf(ln.qn,5),2&n){let i;t.iGM(i=t.CRH())&&(e.chipList=i.first)}},inputs:{options:"options"},features:[t._Bn([{provide:a.JU,useExisting:It,multi:!0}])],decls:2,vars:1,consts:[["selectable","","multiple",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["c","matChip"],[4,"ngIf"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-chip-list",0),t.YNc(1,Yn,4,3,"mat-chip",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",e.options))},directives:[ln.qn,u.sg,ln.HS,u.O5,y.Hw],styles:["mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;font-size:20px;margin-right:5px}"]});var mt=l(2458);class Nt{constructor(n,e){this.http=n,this.cartSrv=e,this.configUrl=P.N.apiUrl+"/waitlists"}addToWishList(n){var e;this.http.post(this.configUrl,{customerId:null===(e=this.cartSrv.currentCustomer)||void 0===e?void 0:e._id,productId:n}).subscribe()}removeFromWishList(n){const e=this.configUrl+"/"+n;this.http.delete(e).subscribe()}}Nt.\u0275fac=function(n){return new(n||Nt)(t.LFG(b.eN),t.LFG(X))},Nt.\u0275prov=t.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"});class Ot{generatePDF(n,e="open"){}}function En(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.productItem.stock," in stock")}}function Rn(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"out of stock"),t.qZA())}function $n(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().addToCart()}),t._uU(1," Add to Cart "),t.qZA()}}function zn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().addToWishList()}),t._uU(1," Add to Wait List "),t.qZA()}}function Bn(o,n){if(1&o&&t._UZ(0,"app-error",14),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Ot.\u0275fac=function(n){return new(n||Ot)},Ot.\u0275prov=t.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"});const Hn=function(o){return{"line-clamp":o}};class Vt{constructor(n,e,i,r){this.cartService=n,this.wishListService=e,this.pdfService=i,this.http=r,this.destroy$=new v.xQ,this.imgSrc="",this.imgSrcset="",this.showMore=!1,this.errorMessage=""}ngOnInit(){this.getImageSrcset()}getImageSrcset(){const n=P.N.imageUrl+"/"+this.productItem.imageUrl+"/";this.imgSrcset=n+"w_200.jpg 200w,"+n+"w_699.jpg 699w,"+n+"w_1080.jpg 1080w,",this.imgSrc=n+"w_1080.jpg"}addToCart(){if(!this.cartService.currentCustomer)return this.errorMessage="Please select a customer before add products to cart.",void setTimeout(()=>{this.errorMessage=""},2e3);this.cartService.addProductToCart(this.productItem)}addToWishList(){this.cartService.currentCustomer||(this.errorMessage="Please select a customer before add products to cart.",setTimeout(()=>{this.errorMessage=""},2e3)),this.wishListService.addToWishList(this.productItem._id)}removeFromWishList(){this.wishListService.removeFromWishList(this.productItem._id)}openPdf(){if(!this.imgSrc.trim())return this.errorMessage="This product has no image.It is not subject to print.",void setTimeout(()=>{this.errorMessage=""},2e3);this.generateProductPDF()}generateProductPDF(){let n=null;const e=this.imgSrc.trim();let i;this.http.get(e,{responseType:"blob"}).pipe((0,h.R)(this.destroy$)).subscribe(r=>{if(r){const s=new FileReader;s.readAsDataURL(r),s.onload=c=>{var d;n=null===(d=c.target)||void 0===d?void 0:d.result,i={header:"Best Supplier of Gasoline",content:[{text:"Best Gas Company",fontSize:16,alignment:"center",color:"#047886",margin:[0,0,0,24]},{margin:[0,0,0,16],columns:[{text:"https://www.goodcompany.com",link:"http://google.com"},{text:`Date of Issue: ${(new Date).toLocaleDateString()}`,align:"left"}]},{margin:[0,0,16,16],columns:[[{image:n,width:200,height:150}],[{text:this.productItem.name,margin:[0,0,0,16]},{columns:[{text:"$"+this.productItem.price,color:"#990099"},{text:this.productItem.stock+" in stock",align:"right",fontSize:10}]},{text:"Customer Satisfaction",bold:!0,margin:[0,16,0,8]},{text:"very satisfied: 80%"},{text:"satisfied     : 15%"},{text:"not satisfied : 5%"}]]},{text:"Terms and Conditions:",bold:!0,decoration:"underline",ontSize:18,margin:[0,16,0,16]},{lineHeight:1.2,ul:["Please visit our online stores to find best prices for your favorite goods.","You can receive free delivery with your first order of $24 or more.","You can call 08-900-088 when you have technical problem."]}],styles:{selectionHeader:{fontSize:18,bold:!0,alignment:"center",decoration:"underline",color:"skyblue",margin:[0,15,0,15]}}},this.pdfService.generatePDF(i)}}},r=>{this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},2e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function jn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",11),t.NdJ("onSelectionChange",function(){const s=t.CHM(e).$implicit;return t.oxw().updateCurrentCustomer(s)}),t._uU(1),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function Gn(o,n){if(1&o&&(t.TgZ(0,"div",12),t._UZ(1,"app-product-item",13),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("productItem",e)}}function Wn(o,n){if(1&o&&t._UZ(0,"app-error",14),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Vt.\u0275fac=function(n){return new(n||Vt)(t.Y36(X),t.Y36(Nt),t.Y36(Ot),t.Y36(b.eN))},Vt.\u0275cmp=t.Xpm({type:Vt,selectors:[["app-product-item"]],inputs:{productItem:"productItem"},decls:25,vars:17,consts:[[1,"product-card","mat-elevation-z4"],[3,"ngClass"],["mat-raised-button","",1,"image-button-container","print","mat-elevation-z4",3,"click"],["color","primary"],["mat-raised-button","",1,"image-button-container","copy","mat-elevation-z4",3,"cdkCopyToClipboard"],["mat-card-image","","sizes","(max-width: 440px) 100vw, (max-width:900px) 33vw, 254px",1,"product-image",3,"src","srcset","alt"],[1,"product-description",3,"ngClass","click"],[1,"product-stock"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],[3,"message",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-header"),t.TgZ(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",1),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return e.openPdf()}),t.TgZ(7,"mat-icon",3),t._uU(8,"print"),t.qZA(),t.qZA(),t.TgZ(9,"button",4),t.TgZ(10,"mat-icon",3),t._uU(11,"content_copy"),t.qZA(),t.qZA(),t._UZ(12,"img",5),t.TgZ(13,"mat-card-content"),t.TgZ(14,"p",6),t.NdJ("click",function(){return e.showMore=!e.showMore}),t._uU(15),t.qZA(),t.TgZ(16,"p",7),t.TgZ(17,"span"),t._uU(18),t.qZA(),t.YNc(19,En,2,1,"span",8),t.YNc(20,Rn,2,0,"span",8),t.qZA(),t.qZA(),t.TgZ(21,"mat-card-actions"),t.YNc(22,$n,2,0,"button",9),t.YNc(23,zn,2,0,"button",10),t.qZA(),t.qZA(),t.YNc(24,Bn,1,1,"app-error",11)),2&n&&(t.xp6(3),t.Oqu(e.productItem.name),t.xp6(1),t.Q6J("ngClass",e.productItem.category),t.xp6(1),t.Oqu(e.productItem.category),t.xp6(4),t.Q6J("cdkCopyToClipboard",e.productItem.description),t.xp6(3),t.Q6J("src",e.imgSrc,t.LSH)("srcset",e.imgSrcset,t.LSH)("alt",e.productItem.name),t.xp6(2),t.Q6J("ngClass",t.VKq(15,Hn,!e.showMore)),t.xp6(1),t.hij(" ",e.productItem.description," "),t.xp6(3),t.hij("",e.productItem.price,"$"),t.xp6(1),t.Q6J("ngIf",e.productItem.stock>0),t.xp6(1),t.Q6J("ngIf",!(e.productItem.stock>0)),t.xp6(2),t.Q6J("ngIf",e.productItem.stock>0),t.xp6(1),t.Q6J("ngIf",!(e.productItem.stock>0)),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[T.a8,T.dk,T.n5,T.$j,u.mk,B.oO,C.lW,y.Hw,Q.i3,T.G2,T.dn,u.O5,T.hq,q],styles:[".image-button-container[_ngcontent-%COMP%]{position:absolute;z-index:3;background-color:#fff;opacity:0;transition:all .3s;box-shadow:0 2px 2px #00000040}.image-button-container.print[_ngcontent-%COMP%]{right:8px;top:110px}.image-button-container.copy[_ngcontent-%COMP%]{left:8px;top:110px}.product-card[_ngcontent-%COMP%]{text-align:center}.product-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{justify-content:center}.product-card[_ngcontent-%COMP%]:hover   .image-button-container[_ngcontent-%COMP%]{opacity:.8}.product-card[_ngcontent-%COMP%]:hover   .image-button-container[_ngcontent-%COMP%]:hover{opacity:1}.mat-card-subtitle[_ngcontent-%COMP%]{padding:5px!important;border-radius:5px;min-width:80px}.mat-card-subtitle.gas[_ngcontent-%COMP%]{background-color:#fffde7!important;color:#f57f17}.mat-card-subtitle.diesel[_ngcontent-%COMP%]{background-color:#eee!important;color:#616161}.mat-card-subtitle.lubricant[_ngcontent-%COMP%]{background-color:#e8f5e9!important;color:#2e7d32}.line-clamp[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;-webkit-box-orient:vertical}.product-description[_ngcontent-%COMP%]{text-align:left}.product-stock[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.product-image[_ngcontent-%COMP%]{height:150px;object-fit:cover}"]});class te{constructor(n,e,i,r){this.searchSrv=n,this.productService=e,this.cartSrv=i,this.customerSrv=r,this.destroy$=new v.xQ,this.categories=["gas","diesel","lubricant"],this.chipsControl=new a.NI(["gas"]),this.productList=[],this.filteredProductList=[],this.customerControl=new a.NI,this.customers=[],this.errorMessage=""}ngOnInit(){this.sub=this.searchSrv.searchTermObs.pipe((0,E.w)(n=>this.productService.getProducts(n)),(0,h.R)(this.destroy$)).subscribe(n=>{this.productList=[...n],this.filteredProductList=[...n]}),this.customerSrv.getCustomers().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.customers=[...n]}),this.filteredOptions=this.customerControl.valueChanges.pipe((0,Cn.O)(""),(0,rt.U)(n=>this._filter(n))),this.chipsControl.valueChanges.pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.filteredProductList=[],n.forEach(e=>{const i=this.productList.filter(r=>e.toLowerCase().indexOf(r.category.toLowerCase())>=0);i&&i.length>=1&&(this.filteredProductList=[...this.filteredProductList,...i])})})}_filter(n){const e=n.toLowerCase();return this.customers.filter(i=>i.name.toLowerCase().includes(e))}updateCurrentCustomer(n){this.cartSrv.currentCustomer=Object.assign({},n),this.cartSrv.getCartItems().pipe((0,h.R)(this.destroy$)).subscribe(e=>{this.cartSrv.items=e},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}te.\u0275fac=function(n){return new(n||te)(t.Y36(bt),t.Y36(Mt),t.Y36(X),t.Y36(K))},te.\u0275cmp=t.Xpm({type:te,selectors:[["app-product-list"]],decls:20,vars:10,consts:[["appearance","standard",1,"input-area-full-width"],["type","text","placeholder","Pick one","aria-label","customer","matInput","",3,"formControl","matAutocomplete"],["customerInput",""],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"chips-container"],[3,"options","formControl"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],[3,"value","onSelectionChange"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%"],[3,"productItem"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"h2"),t._uU(1,"Select Products"),t.qZA(),t.TgZ(2,"div"),t.TgZ(3,"form"),t.TgZ(4,"mat-form-field",0),t.TgZ(5,"mat-label"),t._uU(6,"Customer Name"),t.qZA(),t._UZ(7,"input",1,2),t.TgZ(9,"mat-autocomplete",3,4),t.YNc(11,jn,2,2,"mat-option",5),t.ALo(12,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t._UZ(14,"app-chips-multi-select",7),t.qZA(),t.TgZ(15,"h3"),t._uU(16),t.qZA(),t.TgZ(17,"div",8),t.YNc(18,Gn,2,1,"div",9),t.qZA(),t.YNc(19,Wn,1,1,"app-error",10)),2&n){const i=t.MAs(10);t.xp6(7),t.Q6J("formControl",e.customerControl)("matAutocomplete",i),t.xp6(4),t.Q6J("ngForOf",t.lcZ(12,8,e.filteredOptions)),t.xp6(3),t.Q6J("options",e.categories)("formControl",e.chipsControl),t.xp6(2),t.hij("Search result is : ",e.filteredProductList.length," articles"),t.xp6(2),t.Q6J("ngForOf",e.filteredProductList),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}},directives:[a._Y,a.JL,a.F,f.KE,f.hX,z.Nt,a.Fj,Fe.ZL,a.JJ,a.oH,Fe.XC,u.sg,It,w.xw,w.SQ,u.O5,mt.ey,w.yH,Vt,q],pipes:[u.Ov],styles:[".input-area-full-width[_ngcontent-%COMP%]{width:100%}.chips-container[_ngcontent-%COMP%]{padding:8px 0}"]});const Kn=["qty"];function Xn(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Qty should be between 0 and 1000."),t.qZA())}const Vn=function(o){return{"item-description":o}};class ee{constructor(n){this.service=n,this.destroy$=new v.xQ,this.deletedItemEvent=new t.vpe,this.imgSrc="",this.imgSrcset="",this.showMore=!1,this.qtyReadOnly=!0,this.updateButtonText="edit"}ngOnInit(){this.getImageSrcset(),this.myForm=new a.cw({productQty:new a.NI(this.item.quantity,{validators:[a.kI.required,a.kI.min(0),a.kI.max(1e3)],updateOn:"blur"})},{updateOn:"submit"})}get productQty(){return this.myForm.get("productQty")}onSelectedChange(n){this.item.selected=n,this.service.toggleProductSelected(this.item._id,n).pipe((0,h.R)(this.destroy$)).subscribe()}onDelete(){this.service.removeProductFromCart(this.item._id).pipe((0,h.R)(this.destroy$)).subscribe()}onUpdate(){var n,e;this.qtyReadOnly?(this.qtyReadOnly=!1,this.qty.nativeElement.focus(),this.updateButtonText="update"):(null===(n=this.productQty)||void 0===n?void 0:n.valid)&&(this.qtyReadOnly=!0,this.updateButtonText="edit",this.service.updateProductQtyInCart(this.item._id,null===(e=this.productQty)||void 0===e?void 0:e.value).pipe((0,h.R)(this.destroy$)).subscribe())}getImageSrcset(){const n=P.N.imageUrl+"/"+this.item.imageUrl+"/";this.imgSrcset=n+"w_200.jpg 200w,"+n+"w_699.jpg 699w,"+n+"w_1080.jpg 1080w,",this.imgSrc=n+"w_1080.jpg"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function to(o,n){1&o&&(t.TgZ(0,"div"),t._uU(1,"Your cart is Empty."),t.qZA())}function eo(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"app-cart-item",7),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("item",e)}}function no(o,n){if(1&o&&t._UZ(0,"app-error",8),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}ee.\u0275fac=function(n){return new(n||ee)(t.Y36(X))},ee.\u0275cmp=t.Xpm({type:ee,selectors:[["app-cart-item"]],viewQuery:function(n,e){if(1&n&&t.Gf(Kn,5),2&n){let i;t.iGM(i=t.CRH())&&(e.qty=i.first)}},inputs:{item:"item"},outputs:{deletedItemEvent:"deletedItemEvent"},decls:26,vars:15,consts:[[3,"formGroup"],[1,"item-wrapper"],[2,"display","inline-block","text-align","start"],["type","checkbox",3,"checked","change"],["selectedFlag",""],["mat-card-image","","sizes","(max-width: 1080px) 100vw, 1080px",1,"item-image",3,"src","srcset","alt"],[1,"item-main-info"],[3,"ngClass","click"],[1,"item-price","small-screen"],["formControlName","productQty","matInput","","type","number","value","item.qty","required","",3,"readonly"],["qty",""],[4,"ngIf"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"item-price","big-screen"],[1,"divider"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"input",3,4),t.NdJ("change",function(){t.CHM(i);const s=t.MAs(4);return e.onSelectedChange(s.checked)}),t.qZA(),t.qZA(),t._UZ(5,"img",5),t.TgZ(6,"div",6),t.TgZ(7,"p",7),t.NdJ("click",function(){return e.showMore=!e.showMore}),t._uU(8),t.qZA(),t.TgZ(9,"div",8),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"div"),t._uU(14," Qty: \xa0 "),t.TgZ(15,"mat-form-field"),t._UZ(16,"input",9,10),t.YNc(18,Xn,2,0,"mat-error",11),t.qZA(),t.TgZ(19,"button",12),t.NdJ("click",function(){return e.onUpdate()}),t._uU(20),t.qZA(),t.TgZ(21,"button",13),t.NdJ("click",function(){return e.onDelete()}),t._uU(22,"delete"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",14),t._uU(24),t.qZA(),t.qZA(),t._UZ(25,"div",15),t.qZA()}2&n&&(t.Q6J("formGroup",e.myForm),t.xp6(3),t.Q6J("checked",e.item.selected),t.xp6(2),t.Q6J("src",e.imgSrc,t.LSH)("srcset",e.imgSrcset,t.LSH)("alt",e.item.productName),t.xp6(2),t.Q6J("ngClass",t.VKq(13,Vn,!e.showMore)),t.xp6(1),t.hij(" ",e.item.productName," "),t.xp6(2),t.hij("",e.item.price,"$"),t.xp6(2),t.hij("",e.item.stock," in stock"),t.xp6(4),t.Q6J("readonly",e.qtyReadOnly),t.xp6(2),t.Q6J("ngIf",(null==e.productQty?null:e.productQty.touched)&&(null==e.productQty?null:e.productQty.invalid)),t.xp6(2),t.hij(" ",e.updateButtonText," "),t.xp6(4),t.hij("",e.item.price,"$"))},directives:[a._Y,a.JL,a.sg,T.G2,u.mk,B.oO,f.KE,a.Fj,z.Nt,a.wV,a.JJ,a.u,a.Q7,u.O5,C.lW,f.TO],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap;grid-gap:16px;gap:16px;margin-top:16px;padding:8px 0}.item-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:4px;object-fit:cover;vertical-align:top}.item-main-info[_ngcontent-%COMP%]{flex:1;margin-left:8px}.item-price[_ngcontent-%COMP%]{font-weight:600}.item-description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;-webkit-box-orient:vertical}.big-screen[_ngcontent-%COMP%]{visibility:visible}.small-screen[_ngcontent-%COMP%]{visibility:hidden}.my[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}.mat-raised-button[_ngcontent-%COMP%]{margin-left:8px}.divider[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.25);transform:scaleY(.5);width:100%}@media screen and (max-width: 599px){.big-screen[_ngcontent-%COMP%]{visibility:hidden}.small-screen[_ngcontent-%COMP%]{visibility:visible}}"]});class ne{constructor(n,e,i){this.cartSrv=n,this.router=e,this.route=i,this.destroy$=new v.xQ,this.errorMessage=""}ngOnInit(){}getCustomerName(){return this.cartSrv.currentCustomer?"Client: "+this.cartSrv.currentCustomer.name:""}printInvoice(){var n;const e=null===(n=this.cartSrv.currentCustomer)||void 0===n?void 0:n.isAuthorized;if(void 0===e||!1===e)return this.errorMessage="This customer is not yet authorized. Please contact your administrator.",void setTimeout(()=>{this.errorMessage=""},3e3);let i="";this.cartSrv.addCartItemsToOrder().pipe((0,E.w)(r=>(i=r.v1.orderHeader,this.cartSrv.clearCart().pipe((0,ut.K)(s=>(0,S.of)("clear cart error"+s))))),(0,h.R)(this.destroy$)).subscribe(()=>{this.cartSrv.items=[],this.router.navigate(["print",i],{relativeTo:this.route,queryParamsHandling:"preserve"})},r=>{this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}ne.\u0275fac=function(n){return new(n||ne)(t.Y36(X),t.Y36(A.F0),t.Y36(A.gz))},ne.\u0275cmp=t.Xpm({type:ne,selectors:[["app-cart"]],decls:16,vars:6,consts:[[1,"cart-wrapper"],[1,"cart-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cart-amount"],["mat-raised-button","","color","primary",3,"click"],[3,"message",4,"ngIf"],[3,"item"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"h2"),t._uU(2,"Shopping Cart"),t.qZA(),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t._UZ(5,"hr",1),t.YNc(6,to,2,0,"div",2),t.YNc(7,eo,2,1,"ng-container",3),t.TgZ(8,"div",4),t.TgZ(9,"p"),t._uU(10),t.TgZ(11,"strong"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"button",5),t.NdJ("click",function(){return e.printInvoice()}),t._uU(14," proceed to checkout "),t.qZA(),t.qZA(),t.qZA(),t.YNc(15,no,1,1,"app-error",6)),2&n&&(t.xp6(4),t.Oqu(e.getCustomerName()),t.xp6(2),t.Q6J("ngIf",0===e.cartSrv.items.length),t.xp6(1),t.Q6J("ngForOf",e.cartSrv.items),t.xp6(3),t.hij(" Total\xa0(",e.cartSrv.getTotalQuantity()," items): "),t.xp6(2),t.hij("",e.cartSrv.getAmount(),"$"),t.xp6(3),t.Q6J("ngIf",e.errorMessage))},directives:[T.a8,u.O5,u.sg,C.lW,ee,q],styles:[".cart-divider[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.25);text-align:center;margin:16px auto}.cart-amount[_ngcontent-%COMP%]{text-align:right;margin-top:16px}"]});var J=l(1494),p=l(2091);function cn(o,n,e="jpeg"){const i=new File([o],"foo.txt",{type:e}),r=document.createElement("a");r.style.display="none";const s=URL.createObjectURL(i);r.href=s,r.download=n,r.click(),URL.revokeObjectURL(s)}function dn(o){let n="";return o.forEach(e=>{e.forEach((i,r)=>{let c=(null===i?"":""+i).replace(/"/g,'""');c.search(/("|,|\n)/g)>=0&&(c='"'+c+'"'),r>0&&(n+=","),n+=c}),n+="\n"}),n}class Pt{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/orders"}getOrder(n){const e=`${this.configUrl}/${n}`;return this.http.get(e)}getOrderByHeaderId(n){const e=`${this.configUrl}?orderHeader=${n}`;return this.http.get(e)}getOrders(){return this.http.get(this.configUrl).pipe((0,At.X)(1))}getFilterdOrders(n,e,i=""){const r=`${this.configUrl}?startdate=${n}&enddate=${e}&createuser=${i}`;return this.http.get(r).pipe((0,At.X)(1))}getOrderHeaders(n,e,i=""){const r=P.N.apiUrl+`/orderheaders?startdate=${n}&enddate=${e}&createuser=${i}`;return this.http.get(r).pipe((0,At.X)(1))}}Pt.\u0275fac=function(n){return new(n||Pt)(t.LFG(b.eN))},Pt.\u0275prov=t.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"});var Qe=l(171);function oo(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"No."),t.qZA())}function io(o,n){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=n.index;t.xp6(1),t.Oqu(e+1)}}function ro(o,n){1&o&&(t.TgZ(0,"td",22),t._uU(1,"Total"),t.qZA())}function ao(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Name"),t.qZA())}function so(o,n){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.productName)}}function lo(o,n){1&o&&(t.TgZ(0,"td",22),t._uU(1,"\xa0"),t.qZA())}function co(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Quantity"),t.qZA())}function po(o,n){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.quantity)}}function uo(o,n){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.getTotalCost())," ")}}function mo(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Price"),t.qZA())}function go(o,n){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.price)}}function ho(o,n){1&o&&(t.TgZ(0,"td",22),t._uU(1,"\xa0"),t.qZA())}function _o(o,n){1&o&&t._UZ(0,"tr",23)}function fo(o,n){1&o&&t._UZ(0,"tr",24)}function Zo(o,n){1&o&&t._UZ(0,"tr",25)}function xo(o,n){if(1&o&&t._UZ(0,"app-error",26),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}class oe{constructor(n,e,i,r){this.pdfService=n,this.orderService=e,this.customerService=i,this.route=r,this.destroy$=new v.xQ,this.panelOpenState=!1,this.displayedColumns=["position","name","price","quantity"],this.errorMessage=""}ngOnInit(){this.getOrderDetails()}ngAfterViewInit(){}getOrderDetails(){const n=this.route.snapshot.paramMap.get("orderHeaderId")||"";if(n.trim().length<1)return this.errorMessage="Please select an valid order.",void setTimeout(()=>{this.errorMessage=""},3e3);this.orderService.getOrderByHeaderId(n).pipe((0,Gt.b)(e=>{this.orderDetails=e,this.dataSource=new p.by([...e]),this.dataSource.sort=this.sort}),(0,E.w)(e=>e&&e.length>=1?this.customerService.getCustomer(e[0].customerId):(0,Ie._)((0,S.of)("No valid customer for this order."))),(0,h.R)(this.destroy$)).subscribe(e=>{this.orderCustomer=e},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}getCustomerDetails(){void 0!==this.orderCustomer&&this.orderCustomer._id&&this.customerService.getCustomer(this.orderCustomer._id).pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.orderCustomer=n},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)})}getTotalCost(){return void 0!==this.orderDetails&&this.orderDetails.length>0?this.orderDetails.map(n=>n.quantity*n.price).reduce((n,e)=>n+e,0):0}openPdf(){if(!(this.orderDetails&&this.orderDetails.length>0))return this.errorMessage="No data for output.",void setTimeout(()=>{this.errorMessage=""},3e3);const n=this.generateInvoiceData();this.pdfService.generatePDF(n)}generateInvoiceData(){var n,e,i,r;const s=[...this.orderDetails],c=this.getTotalCost(),d=c*Ne_tps,g=c*Ne_tvq,_=c+d+g;return{header:"Best Supplier of Gasoline",content:[{text:"Best Gas Company",fontSize:16,alignment:"center",color:"#047886"},{text:"INVOICE",style:"selectionHeader"},{text:`Date of Issue: ${(new Date).toLocaleDateString()}`,alignment:"left"},{text:`Bill No:${(1e3*Math.random()).toFixed(0)}`,alignment:"left",margin:[0,0,16,16]},{margin:[0,0,16,16],columns:[[{text:"BILLED TO",bold:!0},{text:null===(n=this.orderCustomer)||void 0===n?void 0:n.name},{text:null===(e=this.orderCustomer)||void 0===e?void 0:e.address},{text:null===(i=this.orderCustomer)||void 0===i?void 0:i.email},{text:null===(r=this.orderCustomer)||void 0===r?void 0:r.phone}],[{text:"FROM",bold:!0},{text:"My company is best gas supplier"},{text:"8882 golden street"},{text:"software@gmail.com"},{text:"01-514-111-222"}]]},{margin:[0,0,16,16],table:{headerRows:1,widths:["*","auto","auto","auto"],body:[["Product","Price","Quantity","Amount"],...s.map(L=>[L.productName,L.price,L.quantity,(L.price*L.quantity).toFixed(2)]),[{text:"SubTotal",colSpan:3,alignment:"right"},{},{},c.toFixed(2)],[{text:"T.P.S",colSpan:3,alignment:"right"},{},{},d.toFixed(2)],[{text:"T.V.Q",colSpan:3,alignment:"right"},{},{},g.toFixed(2)],[{text:"Total Amount",colSpan:3,alignment:"right"},{},{},_.toFixed(2)]]}},{text:"Terms and Conditions:",bold:!0,decoration:"underline",ontSize:18,margin:[0,0,0,8]},{ul:["Order can be return in max 10 days.","Warranty of all products will be subject to manufacturers","You can call 08-900-088 when you have technical problem."]}],styles:{selectionHeader:{fontSize:18,bold:!0,alignment:"center",decoration:"underline",color:"skyblue",margin:[0,15,0,15]}}}}downloadCSV(){if(!(this.orderDetails&&this.orderDetails.length>0))return this.errorMessage="No data for output.",void setTimeout(()=>{this.errorMessage=""},3e3);const n=[...this.orderDetails];if(!(n&&n.length>=1))return;const e=[],i=Object.keys(n[0]);e.push(i),n.forEach(c=>{const d=[];for(const[g,_]of Object.entries(c))d.push(_);e.push(d)});cn(dn(e),"order-details.csv","text/csv")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}oe.\u0275fac=function(n){return new(n||oe)(t.Y36(Ot),t.Y36(Pt),t.Y36(K),t.Y36(A.gz))},oe.\u0275cmp=t.Xpm({type:oe,selectors:[["app-print-invoice"]],viewQuery:function(n,e){if(1&n&&t.Gf(J.YE,5),2&n){let i;t.iGM(i=t.CRH())&&(e.sort=i.first)}},decls:64,vars:12,consts:[[1,"download-button-wrapper",2,"color","green",3,"click"],["mat-icon-button","","aria-label","print icon"],[1,"download-button-wrapper",3,"click"],[3,"opened","closed"],[1,"client-section"],[2,"text-align","right"],["mat-flat-button","","color","primary",2,"margin-top","16px",3,"click"],[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","name"],["matColumnDef","quantity"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[3,"message",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"h2"),t._uU(1,"Print Invoice"),t.qZA(),t.TgZ(2,"div"),t.TgZ(3,"span",0),t.NdJ("click",function(){return e.downloadCSV()}),t.TgZ(4,"button",1),t.TgZ(5,"mat-icon"),t._uU(6,"file_download"),t.qZA(),t.qZA(),t._uU(7,"CSV"),t.qZA(),t.TgZ(8,"span",2),t.NdJ("click",function(){return e.openPdf()}),t.TgZ(9,"button",1),t.TgZ(10,"mat-icon"),t._uU(11,"print"),t.qZA(),t.qZA(),t.TgZ(12,"mat-label"),t._uU(13,"PDF"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"mat-accordion"),t.TgZ(16,"mat-expansion-panel",3),t.NdJ("opened",function(){return e.panelOpenState=!0})("closed",function(){return e.panelOpenState=!1}),t.TgZ(17,"mat-expansion-panel-header"),t.TgZ(18,"mat-panel-title"),t._uU(19," Client Information "),t.qZA(),t.qZA(),t.TgZ(20,"div",4),t.TgZ(21,"span"),t.TgZ(22,"strong"),t._uU(23,"Client No:\xa0"),t.qZA(),t._uU(24),t.ALo(25,"slice"),t.qZA(),t.TgZ(26,"span"),t.TgZ(27,"strong"),t._uU(28,"Client Name:\xa0"),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"span"),t.TgZ(31,"strong"),t._uU(32,"Address:\xa0"),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"span"),t.TgZ(35,"strong"),t._uU(36,"Tel:\xa0"),t.qZA(),t._uU(37),t.qZA(),t.qZA(),t._UZ(38,"mat-divider"),t.TgZ(39,"p",5),t.TgZ(40,"button",6),t.NdJ("click",function(){return e.getCustomerDetails()}),t._uU(41," Refresh "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",7),t.TgZ(43,"table",8),t.ynx(44,9),t.YNc(45,oo,2,0,"th",10),t.YNc(46,io,2,1,"td",11),t.YNc(47,ro,2,0,"td",12),t.BQk(),t.ynx(48,13),t.YNc(49,ao,2,0,"th",10),t.YNc(50,so,2,1,"td",11),t.YNc(51,lo,2,0,"td",12),t.BQk(),t.ynx(52,14),t.YNc(53,co,2,0,"th",10),t.YNc(54,po,2,1,"td",11),t.YNc(55,uo,3,3,"td",12),t.BQk(),t.ynx(56,15),t.YNc(57,mo,2,0,"th",10),t.YNc(58,go,2,1,"td",11),t.YNc(59,ho,2,0,"td",12),t.BQk(),t.YNc(60,_o,1,0,"tr",16),t.YNc(61,fo,1,0,"tr",17),t.YNc(62,Zo,1,0,"tr",18),t.qZA(),t.qZA(),t.YNc(63,xo,1,1,"app-error",19)),2&n&&(t.xp6(24),t.Oqu(t.xi3(25,9,null==e.orderCustomer?null:e.orderCustomer._id,-5)),t.xp6(5),t.Oqu(null==e.orderCustomer?null:e.orderCustomer.name),t.xp6(4),t.Oqu(null==e.orderCustomer?null:e.orderCustomer.address),t.xp6(4),t.Oqu(null==e.orderCustomer?null:e.orderCustomer.phone),t.xp6(6),t.Q6J("dataSource",e.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",e.displayedColumns),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[C.lW,y.Hw,f.hX,Qe.pp,Qe.ib,Qe.yz,Qe.yK,it.d,p.BZ,J.YE,p.w1,p.fO,p.Dz,p.mD,p.as,p.nj,p.Ke,u.O5,p.ge,J.nU,p.ev,p.yh,p.XQ,p.Gk,p.Q2,q],pipes:[u.OU,u.H9],styles:[".title[_ngcontent-%COMP%]{padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.25);text-align:center}.table-wrapper[_ngcontent-%COMP%]{margin-top:16px}.download-button-wrapper[_ngcontent-%COMP%]{padding:8px;border-radius:4px;margin-right:16px;cursor:pointer;transition:all .3s}.client-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-bottom:16px;grid-gap:8px;gap:8px}table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:bold}.mat-table-sticky[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]});var gt=l(9692),vn=l(8345),Co=l(7574),Je=l(3071);function vo(o,n){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function To(o,n){if(1&o&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage," ")}}class ie{constructor(n,e,i){this.service=n,this.dialogRef=e,this.data=i,this.destroy$=new v.xQ,this.nameControl=new a.NI("",[a.kI.required,a.kI.maxLength(10)]),this.contentControl=new a.NI("",a.kI.maxLength(10)),this.userArray=[],this.errorMessage="",this.filteredOptions=new Co.y,this.myForm=new a.cw({name:this.nameControl,content:this.contentControl})}ngOnInit(){}ngAfterViewInit(){this.service.getUsers().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.userArray=n},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)}),this.filteredOptions=this.nameControl.valueChanges.pipe((0,Cn.O)(""),(0,rt.U)(n=>this._filter(n)))}_filter(n){const e=n.toLowerCase();return this.userArray.filter(i=>i.name.toLowerCase().includes(e))}onSubmit(){if(this.myForm.touched&&this.nameControl.errors)return void(this.errorMessage="Please enter valid name. Max length is 10.");if(this.contentControl.errors)return void(this.errorMessage="Please enter valid content. Max length is 10.");let n=null;if(this.nameControl.value.trim().length>0){const e=this.userArray.findIndex(i=>i.name.toLowerCase()===this.nameControl.value.trim().toLowerCase());if(!(e>=0))return void(this.errorMessage="Please enter valid name. Max length is 10.");n=this.userArray[e]._id||""}this.dialogRef.close({userId:n,content:this.contentControl.value.trim()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}ie.\u0275fac=function(n){return new(n||ie)(t.Y36(Je.K),t.Y36(M.so),t.Y36(M.WI))},ie.\u0275cmp=t.Xpm({type:ie,selectors:[["app-logfilter"]],decls:22,vars:10,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"full-width"],["type","text","aria-label","Name","matInput","",3,"placeholder","formControl","matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","aria-label","log content","matInput","",3,"placeholder","formControl"],["class","input-error",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-button","","type","submit","cdkFocusInitial","",3,"click"],[3,"value"],[1,"input-error"]],template:function(n,e){if(1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(1,"h2",1),t._uU(2,"Add more filters"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"User Name"),t.qZA(),t._UZ(7,"input",4),t.TgZ(8,"mat-autocomplete",5,6),t.YNc(10,vo,2,2,"mat-option",7),t.ALo(11,"async"),t.qZA(),t.qZA(),t.TgZ(12,"mat-form-field",3),t.TgZ(13,"mat-label"),t._uU(14,"Log Content"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.qZA(),t.YNc(16,To,2,1,"div",9),t.TgZ(17,"div",10),t.TgZ(18,"button",11),t._uU(19,"Cancel"),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return e.onSubmit()}),t._uU(21," Confirm "),t.qZA(),t.qZA(),t.qZA()),2&n){const i=t.MAs(9);t.Q6J("formGroup",e.myForm),t.xp6(7),t.s9C("placeholder",e.data.userName),t.Q6J("formControl",e.nameControl)("matAutocomplete",i),t.xp6(3),t.Q6J("ngForOf",t.lcZ(11,8,e.filteredOptions)),t.xp6(5),t.s9C("placeholder",e.data.content),t.Q6J("formControl",e.contentControl),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}},directives:[a._Y,a.JL,a.sg,M.uh,M.xY,f.KE,f.hX,z.Nt,a.Fj,Fe.ZL,a.JJ,a.oH,Fe.XC,u.sg,u.O5,M.H8,C.lW,M.ZT,mt.ey],pipes:[u.Ov],styles:["form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.input-error[_ngcontent-%COMP%]{border-left:2px solid red;padding-left:8px;color:red}"]});var Ao=l(4876),pn=l(7539),et=l(3935);function wo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",30),t.TgZ(1,"mat-card-subtitle",31),t.TgZ(2,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().hideDeleteAlert()}),t.TgZ(3,"mat-icon",33),t._uU(4,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"mat-card-content"),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.qZA(),t._UZ(8,"mat-divider",34),t.TgZ(9,"mat-card-actions",35),t.TgZ(10,"button",36),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteAllLogsInSelection()}),t._uU(11," Delete "),t.qZA(),t.TgZ(12,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().hideDeleteAlert()}),t._uU(13,"Cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.selection.selected.length," logs are selected. Do you want to delete them? ")}}function yo(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid start date"),t.qZA())}function bo(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid end date"),t.qZA())}function Mo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"th",38),t.TgZ(1,"mat-checkbox",39),t.NdJ("change",function(r){t.CHM(e);const s=t.oxw();return r?s.masterToggle():null}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Oo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",40),t.TgZ(1,"mat-checkbox",41),t.NdJ("click",function(r){return r.stopPropagation()})("change",function(r){const c=t.CHM(e).$implicit,d=t.oxw();return r?d.selection.toggle(c):null}),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function Po(o,n){1&o&&(t.TgZ(0,"th",42),t._uU(1,"Date"),t.qZA())}function qo(o,n){if(1&o&&(t.TgZ(0,"td",40),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createDate,"MMM d, y")," ")}}function Uo(o,n){1&o&&(t.TgZ(0,"th",42),t._uU(1,"User"),t.qZA())}function ko(o,n){if(1&o&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.userName," ")}}function Do(o,n){1&o&&(t.TgZ(0,"th",42),t._uU(1,"Content"),t.qZA())}function So(o,n){if(1&o&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function Io(o,n){1&o&&(t.TgZ(0,"th",42),t._uU(1,"IP"),t.qZA())}function No(o,n){if(1&o&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.ip," ")}}function Fo(o,n){1&o&&t._UZ(0,"th",38)}function Qo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",40),t.TgZ(1,"button",45),t.TgZ(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",null,46),t.TgZ(6,"button",47),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteLogItem(s)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Delete"),t.qZA(),t.qZA(),t.TgZ(11,"button",47),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().editLogItem(s)}),t.TgZ(12,"mat-icon"),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function Jo(o,n){1&o&&t._UZ(0,"tr",48)}function Lo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().selection.toggle(s)}),t.qZA()}}function Yo(o,n){1&o&&(t.TgZ(0,"tr",50),t.TgZ(1,"td",51),t._uU(2,"No data matching the filter"),t.qZA(),t.qZA())}function Eo(o,n){if(1&o&&t._UZ(0,"app-error",52),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}const Ro=function(){return[5,10,25,100]};class re{constructor(n,e,i){this.dialog=n,this.logService=e,this.dialogSrv=i,this.destroy$=new v.xQ,this.displayedColumns=["select","logDate","userName","content","loginIP","star"],this.dataSource=new p.by,this.range=new a.cw({start:new a.NI,end:new a.NI}),this.showDeleteAlert=!0,this.selection=new vn.Ov(!0,[]),this.data=[],this.errorMessage=""}ngOnInit(){this.logService.getLogs().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.data=n,this.dataSource=new p.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)})}searchDate(){var n,e,i,r;if((null===(n=this.range.get("start"))||void 0===n?void 0:n.errors)||(null===(e=this.range.get("end"))||void 0===e?void 0:e.errors))return this.errorMessage="Please enter valid date range.",void setTimeout(()=>{this.errorMessage=""},3e3);const s=this.range.controls.start.value,c=this.range.controls.end.value;this.logService.getLogs(s||new Date("Jan 1,1970"),c||new Date,null===(i=this.dialogFilterData)||void 0===i?void 0:i.userId,null===(r=this.dialogFilterData)||void 0===r?void 0:r.content).pipe((0,h.R)(this.destroy$)).subscribe(d=>{this.dialogFilterData=null,this.data=d,this.dataSource.data=this.data,this.dataSource.paginator&&this.dataSource.paginator.firstPage()},d=>{this.errorMessage=d,setTimeout(()=>{this.errorMessage=""},3e3)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){const e=n.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(n=>this.selection.select(n))}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row _id ${n._id}`:(this.isAllSelected()?"select":"deselect")+" all"}deleteAllLogsInSelection(){const n=[...this.selection.selected],e=[];n&&n.length>0&&(0,sn.D)(n).pipe((0,rn.b)(i=>this.logService.deleteLog(i._id).pipe((0,ut.K)(r=>(e.push(r),(0,S.of)("error"+r))))),(0,h.R)(this.destroy$)).subscribe(()=>{n.forEach(i=>{let r=this.data.findIndex(s=>s._id===i._id);r>=0&&this.data.splice(r,1)}),this.dataSource.data=this.data,this.dataSource.paginator&&this.dataSource.paginator.firstPage(),this.selection.clear()},i=>{this.errorMessage=i,setTimeout(()=>{this.errorMessage=""},3e3)})}deleteLogItem(n){let e=this.data.findIndex(i=>i._id===n._id);e>=0&&(this.data.splice(e,1),this.dataSource.data=this.data,this.dataSource.paginator&&this.dataSource.paginator.firstPage(),this.logService.deleteLog(n._id).pipe((0,h.R)(this.destroy$)).subscribe(()=>{},i=>{this.errorMessage=i,setTimeout(()=>{this.errorMessage=""},3e3)}))}editLogItem(n){this.dialogSrv.confirmDialog({title:"Log Details",message:`userName: ${n.userName} operation: ${n.content}`,confirmText:"OK",cancelText:"Cancel"}).pipe((0,h.R)(this.destroy$)).subscribe()}hideDeleteAlert(){this.showDeleteAlert=!1,setTimeout(()=>{this.showDeleteAlert=!0},1e4)}openDialog(){this.dialogFilterData={userName:"Alex",content:"login"},this.dialog.open(ie,{width:"80%",data:this.dialogFilterData}).afterClosed().pipe((0,h.R)(this.destroy$)).subscribe(e=>{e&&(this.dialogFilterData=e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}re.\u0275fac=function(n){return new(n||re)(t.Y36(M.uw),t.Y36(Ao.P),t.Y36(ot))},re.\u0275cmp=t.Xpm({type:re,selectors:[["app-loglist"]],viewQuery:function(n,e){if(1&n&&(t.Gf(gt.NW,5),t.Gf(J.YE,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.paginator=i.first),t.iGM(i=t.CRH())&&(e.sort=i.first)}},decls:46,vars:13,consts:[[2,"position","relative"],["class","alert-card",4,"ngIf"],[1,"filter-area"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["mat-raised-button","",1,"button-ml",3,"click"],["mat-raised-button","","color","primary",1,"button-ml",3,"click"],[1,"mat-elevation-z8","table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","logDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","userName"],["mat-cell","","class","cell-overflow",4,"matCellDef"],["matColumnDef","content"],["mat-cell","","class","cell-overflow logContent",4,"matCellDef"],["matColumnDef","loginIP"],["matColumnDef","star","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[3,"message",4,"ngIf"],[1,"alert-card"],["align","end",1,"alert-close-button-wrapper"],["mat-button","","color","primary",3,"click"],["aria-hidden","false","aria-label","hide"],["inset",""],["align","end"],["color","primary","mat-button","",3,"click"],["mat-button","",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"cell-overflow"],["mat-cell","",1,"cell-overflow","logContent"],["mat-icon-button","","aria-label","Icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","3",1,"mat-cell"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2,"Log Management"),t.qZA(),t.YNc(3,wo,14,1,"mat-card",1),t.TgZ(4,"div",2),t.TgZ(5,"mat-form-field",3),t.TgZ(6,"mat-label"),t._uU(7,"Enter log date range"),t.qZA(),t.TgZ(8,"mat-date-range-input",4),t._UZ(9,"input",5),t._UZ(10,"input",6),t.qZA(),t._UZ(11,"mat-datepicker-toggle",7),t._UZ(12,"mat-date-range-picker",null,8),t.YNc(14,yo,2,0,"mat-error",9),t.YNc(15,bo,2,0,"mat-error",9),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return e.openDialog()}),t._uU(17," + Add a filter "),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return e.searchDate()}),t.TgZ(19,"mat-icon"),t._uU(20,"search"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",12),t.TgZ(22,"table",13),t.ynx(23,14),t.YNc(24,Mo,2,3,"th",15),t.YNc(25,Oo,2,2,"td",16),t.BQk(),t.ynx(26,17),t.YNc(27,Po,2,0,"th",18),t.YNc(28,qo,3,4,"td",16),t.BQk(),t.ynx(29,19),t.YNc(30,Uo,2,0,"th",18),t.YNc(31,ko,2,1,"td",20),t.BQk(),t.ynx(32,21),t.YNc(33,Do,2,0,"th",18),t.YNc(34,So,2,1,"td",22),t.BQk(),t.ynx(35,23),t.YNc(36,Io,2,0,"th",18),t.YNc(37,No,2,1,"td",22),t.BQk(),t.ynx(38,24),t.YNc(39,Fo,1,0,"th",15),t.YNc(40,Qo,16,1,"td",16),t.BQk(),t.YNc(41,Jo,1,0,"tr",25),t.YNc(42,Lo,1,0,"tr",26),t.YNc(43,Yo,3,0,"tr",27),t.qZA(),t._UZ(44,"mat-paginator",28),t.qZA(),t.qZA(),t.YNc(45,Eo,1,1,"app-error",29)),2&n){const i=t.MAs(13);t.xp6(3),t.Q6J("ngIf",e.selection.selected.length>2&&e.showDeleteAlert),t.xp6(5),t.Q6J("formGroup",e.range)("rangePicker",i),t.xp6(3),t.Q6J("for",i),t.xp6(3),t.Q6J("ngIf",e.range.controls.start.hasError("matStartDateInvalid")),t.xp6(1),t.Q6J("ngIf",e.range.controls.end.hasError("matEndDateInvalid")),t.xp6(7),t.Q6J("dataSource",e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(12,Ro)),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}},directives:[u.O5,f.KE,f.hX,H.wx,a.JL,a.sg,H.zY,a.Fj,a.JJ,a.u,H.By,H.nW,f.R9,H._g,C.lW,y.Hw,p.BZ,J.YE,p.w1,p.fO,p.Dz,p.as,p.nj,p.Ee,gt.NW,T.a8,T.$j,T.dn,it.d,T.hq,f.TO,p.ge,pn.oG,p.ev,J.nU,et.p6,et.VK,et.OP,p.XQ,p.Gk,q],pipes:[u.uU],styles:[".alert-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:55555}.alert-close-button-wrapper[_ngcontent-%COMP%]{text-align:right;margin-bottom:0}table[_ngcontent-%COMP%]{width:100%}.cell-overflow[_ngcontent-%COMP%]{max-width:60px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.logContent[_ngcontent-%COMP%]{max-width:180px}.error-log[_ngcontent-%COMP%]{color:red}.button-ml[_ngcontent-%COMP%]{margin-left:8px}@media screen and (max-width: 800px){.button-ml[_ngcontent-%COMP%]{margin-bottom:8px}}"]});var $o=l(9328),zo=l(5435),Bo=l(9426),un=l(1386),I=l(7746),Tn=l(4885);const Ho=["scroller"];function jo(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-list-item"),t._UZ(2,"img",8),t.TgZ(3,"h3",9),t._uU(4),t.qZA(),t.TgZ(5,"p",9),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"button",10),t.TgZ(9,"mat-icon"),t._uU(10,"more_vert"),t.qZA(),t.qZA(),t._UZ(11,"mat-divider"),t.qZA(),t.BQk()),2&o){const e=n.$implicit;t.oxw();const i=t.MAs(10);t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.Oqu(e.title),t.xp6(3),t.Oqu(e.content),t.xp6(1),t.Q6J("matMenuTriggerFor",i)}}function Go(o,n){1&o&&t._UZ(0,"mat-progress-spinner",11),2&o&&t.Q6J("mode","indeterminate")("diameter",50)}class ae{constructor(n){this.ngZone=n,this.destroy$=new v.xQ,this.listItems=[],this.loading=!1}ngOnInit(){this.fetchMore()}ngAfterViewInit(){this.scroller.elementScrolled().pipe((0,rt.U)(()=>this.scroller.measureScrollOffset("bottom")),(0,$o.G)(),(0,zo.h)(([n,e])=>e<n&&e<140),(0,Bo.p)(200),(0,h.R)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.fetchMore()})})}fetchMore(){const n=["IuLgi9PWETU","fIq0tET6llw","xcBWeU4ybqs","YW3F-C5e8SE","H90Af2TFqng"],e=[];for(let i=0;i<20;i++){const r=Math.round(100*Math.random()),s=Math.round(4*Math.random());e.push({title:"List Item"+r,content:"This is some description of the list - item #"+r,image:`https://source.unsplash.com/${n[s]}/50x50`}),this.loading=!0,(0,St.H)(1e3).pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1,this.listItems=[...this.listItems,...e]})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}ae.\u0275fac=function(n){return new(n||ae)(t.Y36(t.R0b))},ae.\u0275cmp=t.Xpm({type:ae,selectors:[["app-infinite-list"]],viewQuery:function(n,e){if(1&n&&t.Gf(Ho,5),2&n){let i;t.iGM(i=t.CRH())&&(e.scroller=i.first)}},decls:17,vars:2,consts:[["mat-raised-button","","color","primary",3,"click"],["itemSize","72",1,"content"],["scroller",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"spinner-item"],[3,"mode","diameter",4,"ngIf"],["itemMenu","matMenu"],["mat-menu-item",""],["matListAvatar","",3,"src"],["matLine",""],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"mode","diameter"]],template:function(n,e){1&n&&(t.TgZ(0,"p"),t.TgZ(1,"button",0),t.NdJ("click",function(){return e.fetchMore()}),t._uU(2," fetch more "),t.qZA(),t.qZA(),t.TgZ(3,"cdk-virtual-scroll-viewport",1,2),t.TgZ(5,"mat-list"),t.YNc(6,jo,12,4,"ng-container",3),t.TgZ(7,"div",4),t.YNc(8,Go,1,2,"mat-progress-spinner",5),t.qZA(),t.qZA(),t.TgZ(9,"mat-menu",null,6),t.TgZ(11,"button",7),t._uU(12,"Option 1"),t.qZA(),t.TgZ(13,"button",7),t._uU(14,"Option 2"),t.qZA(),t.TgZ(15,"button",7),t._uU(16,"Option 3"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(6),t.Q6J("cdkVirtualForOf",e.listItems),t.xp6(2),t.Q6J("ngIf",e.loading))},directives:[C.lW,un.N7,un.xd,I.i$,un.x0,u.O5,et.VK,et.OP,I.Tg,I.eA,mt.X2,et.p6,y.Hw,it.d,Tn.Ou],styles:[".content[_ngcontent-%COMP%]{max-width:100%;height:calc(100vh - 120px);overflow:auto}.spinner-item[_ngcontent-%COMP%]{display:grid;place-items:center;margin-top:10px}"]});var se=l(4553),An=l(7441);class le{transform(n){return(n/1048576).toFixed(2)+"MB"}}le.\u0275fac=function(n){return new(n||le)},le.\u0275pipe=t.Yjl({name:"fileSize",type:le,pure:!0});const Wo=["stepper"],Ko=["form1","form2","form3","form4"];function Xo(o,n){1&o&&t._uU(0,"Fill out your name")}function Vo(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getFullnameErrorMessage())}}function ti(o,n){if(1&o&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.label)}}function ei(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getCreditErrorMessage())}}function ni(o,n){1&o&&t._uU(0,"Fill out your address")}function oi(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getAddressErrorMessage())}}function ii(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getEmailErrorMessage())}}function ri(o,n){1&o&&t._uU(0,"Fill out telephone number")}function ai(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getPhoneErrorMessage())}}function si(o,n){1&o&&t._uU(0,"Select a front shop image")}function li(o,n){if(1&o&&t._UZ(0,"img",33),2&o){const e=t.oxw();t.s9C("src",e.fileUrl,t.LSH)}}function ci(o,n){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"fileSize"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("File Size: ",t.lcZ(2,1,e.file?e.file.size:0),"")}}function di(o,n){1&o&&t._uU(0,"Done")}function pi(o,n){if(1&o&&t._UZ(0,"app-error",34),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}function ui(o,n){if(1&o&&t._UZ(0,"app-success",34),2&o){const e=t.oxw();t.Q6J("message",e.successMessage)}}class ce{constructor(n,e,i,r){this.http=n,this.fb=e,this.themeService=i,this.customerSrv=r,this.destroy$=new v.xQ,this.isLinear=!1,this.requiredFileType="image/*",this.bufferValue=100,this.fileUrl=null,this.errorMessage=null,this.successMessage=null,this.creditLevels=[{label:"golden",value:"$100k"},{label:"silver",value:"$10k"},{label:"iron",value:"$1k"}],this.file=null}ngOnInit(){this.firstFormGroup=this.fb.group({name:["",[a.kI.required,a.kI.minLength(5)]],credit:["",a.kI.required]}),this.secondFormGroup=this.fb.group({address:["",[a.kI.required,a.kI.minLength(5),a.kI.maxLength(200)]],email:["",[a.kI.required,a.kI.minLength(5),a.kI.maxLength(200),a.kI.email]]}),this.thirdFormGroup=this.fb.group({phone:["",[a.kI.required,a.kI.minLength(5),a.kI.maxLength(50)]]}),this.fourthFormGroup=this.fb.group({imageFile:["",a.kI.required]}),this.stepperOrientation=this.themeService.isHandset.pipe((0,rt.U)(n=>!1===n?"horizontal":"vertical"))}onFileSelected(n){const r=n.target.files[0];if(this.file=null,r){const c=(null==r?void 0:r.name).split(".")[1];if(Math.ceil(r.size/1024)>=1024)return this.errorMessage="Image file size should be smaller than 1M.",void setTimeout(()=>{this.errorMessage=""},3e3);if("jpg"!==c)return this.errorMessage="Image file name should end at .jpg",void setTimeout(()=>{this.errorMessage=""},3e3);this.file=r}if(this.file){const s=new FileReader;s.readAsDataURL(this.file),s.onload=c=>{var d;this.fileUrl=null===(d=c.target)||void 0===d?void 0:d.result}}}get email(){return this.secondFormGroup.get("email")}getEmailErrorMessage(){var n,e,i,r,s,c;return(null===(e=null===(n=this.email)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Email is required":(null===(r=null===(i=this.email)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.minlength)?"Too short: "+JSON.stringify(null===(c=null===(s=this.email)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.minlength):"Please enter a valid email address."}get fullname(){return this.firstFormGroup.get("name")}getFullnameErrorMessage(){var n,e,i,r,s,c,d,g,_,x;return(null===(e=null===(n=this.fullname)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Name is required":(null===(r=null===(i=this.fullname)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.minlength)?"Too short: "+JSON.stringify(null===(c=null===(s=this.fullname)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.minlength):(null===(g=null===(d=this.fullname)||void 0===d?void 0:d.errors)||void 0===g?void 0:g.minlength)?"Too long: "+JSON.stringify(null===(x=null===(_=this.fullname)||void 0===_?void 0:_.errors)||void 0===x?void 0:x.length):"Please enter a valid name."}get credit(){return this.firstFormGroup.get("credit")}getCreditErrorMessage(){var n,e;return(null===(e=null===(n=this.credit)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Credit is required":"Please select a credit."}get address(){return this.secondFormGroup.get("address")}getAddressErrorMessage(){var n,e,i,r,s,c,d,g,_,x;return(null===(e=null===(n=this.address)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Address is required":(null===(r=null===(i=this.address)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.minlength)?"Too short: "+JSON.stringify(null===(c=null===(s=this.address)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.minlength):(null===(g=null===(d=this.address)||void 0===d?void 0:d.errors)||void 0===g?void 0:g.maxlength)?"Too long: "+JSON.stringify(null===(x=null===(_=this.address)||void 0===_?void 0:_.errors)||void 0===x?void 0:x.length):"Please enter a valid address."}get phone(){return this.thirdFormGroup.get("phone")}getPhoneErrorMessage(){var n,e,i,r,s,c,d,g,_,x;return(null===(e=null===(n=this.phone)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Phone is required":(null===(r=null===(i=this.phone)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.minlength)?"Too short: "+JSON.stringify(null===(c=null===(s=this.phone)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.minlength):(null===(g=null===(d=this.phone)||void 0===d?void 0:d.errors)||void 0===g?void 0:g.minlength)?"Too long: "+JSON.stringify(null===(x=null===(_=this.phone)||void 0===_?void 0:_.errors)||void 0===x?void 0:x.length):"Please enter a valid phone."}allDataClear(){this.stepper.reset(),this.firstFormGroup.reset(),this.secondFormGroup.reset(),this.thirdFormGroup.reset(),this.fourthFormGroup.reset(),this.formList.forEach(n=>{n.resetForm()}),this.file=null,this.fileUrl=null}submit(){if(this.firstFormGroup.invalid||this.secondFormGroup.invalid||this.thirdFormGroup.invalid||this.fourthFormGroup.invalid)return this.successMessage=null,this.errorMessage="Please enter valid data before submit.",void setTimeout(()=>{this.errorMessage=null},3e3);const n={name:this.firstFormGroup.controls.name.value,credit:this.firstFormGroup.controls.credit.value,address:this.secondFormGroup.controls.address.value,email:this.secondFormGroup.controls.email.value,phone:this.thirdFormGroup.controls.phone.value};this.customerSrv.addCustomer(n).pipe((0,E.w)(e=>{if(!this.file)return(0,S.of)(e);const i=e._id+".jpg";this.formData=new FormData,this.formData.append("myFile",this.file,i);const r=P.N.apiUrl;return this.http.post(`${r}/files/upload`,this.formData)}),(0,h.R)(this.destroy$)).subscribe(e=>{this.errorMessage=null,this.successMessage=e.message,setTimeout(()=>{this.successMessage=null},2e3),this.allDataClear()},e=>{this.successMessage="",this.errorMessage=e,setTimeout(()=>{this.errorMessage=null},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}ce.\u0275fac=function(n){return new(n||ce)(t.Y36(b.eN),t.Y36(a.qu),t.Y36(tt),t.Y36(K))},ce.\u0275cmp=t.Xpm({type:ce,selectors:[["app-add-client"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Wo,5),t.Gf(Ko,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.stepper=i.first),t.iGM(i=t.CRH())&&(e.formList=i)}},features:[t._Bn([])],decls:103,vars:23,consts:[[1,"container"],[3,"orientation"],["stepper",""],["errorMessage","Name is required.",3,"stepControl"],[3,"formGroup"],["form1","ngForm"],["matStepLabel",""],["appearance","fill"],["matInput","","placeholder","Last name, First name","formControlName","name","required",""],[4,"ngIf"],["formControlName","credit","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matStepperNext",""],["errorMessage","Address is required.",3,"stepControl"],["form2","ngForm"],["matInput","","autofocus","","placeholder","Ex. 1 Main St, New York, NY","formControlName","address","required",""],[1,"input-container"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["mat-button","","matStepperPrevious",""],["errorMessage","Telephone number is required.",3,"stepControl"],["form3","ngForm"],["matInput","","autofocus","","placeholder","514-111-2222","formControlName","phone","required",""],["errorMessage","Image is required.",3,"stepControl"],["form4","ngForm"],["type","file","formControlName","imageFile",1,"file-input",3,"accept","change"],["fileUpload",""],[1,"file-upload"],["mat-raised-button","","color","primary",1,"upload-btn",3,"click"],["class","front-shop",3,"src",4,"ngIf"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"],[3,"message",4,"ngIf"],[3,"value"],[1,"front-shop",3,"src"],[3,"message"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2,"Lead management"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"*:\xa0Register a potential client"),t.qZA(),t.TgZ(5,"mat-stepper",1,2),t.ALo(7,"async"),t.TgZ(8,"mat-step",3),t.TgZ(9,"form",4,5),t.YNc(11,Xo,1,0,"ng-template",6),t.TgZ(12,"div"),t.TgZ(13,"mat-form-field",7),t.TgZ(14,"mat-label"),t._uU(15,"Name"),t.qZA(),t._UZ(16,"input",8),t.YNc(17,Vo,2,1,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(18,"div"),t.TgZ(19,"mat-form-field",7),t.TgZ(20,"mat-label"),t._uU(21,"Select"),t.qZA(),t.TgZ(22,"mat-select",10),t.YNc(23,ti,2,2,"mat-option",11),t.qZA(),t.YNc(24,ei,2,1,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(25,"div"),t.TgZ(26,"p"),t._uU(27,"Go to a different step to see the error state"),t.qZA(),t.TgZ(28,"button",12),t._uU(29,"Next"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"mat-step",13),t.TgZ(31,"form",4,14),t.YNc(33,ni,1,0,"ng-template",6),t.TgZ(34,"mat-form-field",7),t.TgZ(35,"mat-label"),t._uU(36,"Address"),t.qZA(),t._UZ(37,"input",15),t.YNc(38,oi,2,1,"mat-error",9),t.qZA(),t.TgZ(39,"div",16),t.TgZ(40,"mat-form-field",7),t.TgZ(41,"mat-label"),t._uU(42,"Email"),t.qZA(),t._UZ(43,"input",17),t.YNc(44,ii,2,1,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(45,"div"),t.TgZ(46,"p"),t._uU(47,"Go to a different step to see the error state"),t.qZA(),t.TgZ(48,"button",18),t._uU(49,"Back"),t.qZA(),t.TgZ(50,"button",12),t._uU(51,"Next"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"mat-step",19),t.TgZ(53,"form",4,20),t.YNc(55,ri,1,0,"ng-template",6),t.TgZ(56,"mat-form-field",7),t.TgZ(57,"mat-label"),t._uU(58,"Telelphone number"),t.qZA(),t._UZ(59,"input",21),t.YNc(60,ai,2,1,"mat-error",9),t.qZA(),t.TgZ(61,"div"),t.TgZ(62,"p"),t._uU(63,"Go to a different step to see the error state"),t.qZA(),t.TgZ(64,"button",18),t._uU(65,"Back"),t.qZA(),t.TgZ(66,"button",12),t._uU(67,"Next"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"mat-step",22),t.TgZ(69,"form",4,23),t.YNc(71,si,1,0,"ng-template",6),t.TgZ(72,"input",24,25),t.NdJ("change",function(s){return e.onFileSelected(s)}),t.qZA(),t.TgZ(74,"div",26),t._uU(75),t.TgZ(76,"button",27),t.NdJ("click",function(){return t.CHM(i),t.MAs(73).click()}),t.TgZ(77,"mat-icon"),t._uU(78,"attach_file"),t.qZA(),t.qZA(),t.TgZ(79,"p"),t._uU(80," * Image file should have an extension of .jpg and maximum size is 1M. "),t.qZA(),t.YNc(81,li,1,1,"img",28),t.qZA(),t.TgZ(82,"div"),t.YNc(83,ci,3,3,"p",9),t.TgZ(84,"p"),t._uU(85,"Go to a different step to see the error state"),t.qZA(),t.TgZ(86,"button",18),t._uU(87,"Back"),t.qZA(),t.TgZ(88,"button",12),t._uU(89,"Next"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(90,"mat-step"),t.YNc(91,di,1,0,"ng-template",6),t.TgZ(92,"p"),t._uU(93,"You are now done."),t.qZA(),t.TgZ(94,"div"),t.TgZ(95,"button",18),t._uU(96,"Back"),t.qZA(),t.TgZ(97,"button",29),t.NdJ("click",function(){return e.allDataClear()}),t._uU(98,"Reset"),t.qZA(),t.TgZ(99,"button",30),t.NdJ("click",function(){return e.submit()}),t._uU(100,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(101,pi,1,1,"app-error",31),t.YNc(102,ui,1,1,"app-success",31)}2&n&&(t.xp6(5),t.Q6J("orientation",t.lcZ(7,21,e.stepperOrientation)||"vertical"),t.xp6(3),t.Q6J("stepControl",e.firstFormGroup),t.xp6(1),t.Q6J("formGroup",e.firstFormGroup),t.xp6(8),t.Q6J("ngIf",null==e.fullname?null:e.fullname.invalid),t.xp6(6),t.Q6J("ngForOf",e.creditLevels),t.xp6(1),t.Q6J("ngIf",null==e.credit?null:e.credit.invalid),t.xp6(6),t.Q6J("stepControl",e.secondFormGroup),t.xp6(1),t.Q6J("formGroup",e.secondFormGroup),t.xp6(7),t.Q6J("ngIf",null==e.address?null:e.address.invalid),t.xp6(6),t.Q6J("ngIf",null==e.email?null:e.email.invalid),t.xp6(8),t.Q6J("stepControl",e.thirdFormGroup),t.xp6(1),t.Q6J("formGroup",e.thirdFormGroup),t.xp6(7),t.Q6J("ngIf",null==e.phone?null:e.phone.invalid),t.xp6(8),t.Q6J("stepControl",e.fourthFormGroup),t.xp6(1),t.Q6J("formGroup",e.fourthFormGroup),t.xp6(3),t.s9C("accept",e.requiredFileType),t.xp6(3),t.hij(" ",(null==e.file?null:e.file.name)||"No file uploaded yet."," "),t.xp6(6),t.Q6J("ngIf",e.fileUrl),t.xp6(2),t.Q6J("ngIf",e.file),t.xp6(18),t.Q6J("ngIf",e.errorMessage),t.xp6(1),t.Q6J("ngIf",e.successMessage))},directives:[se.Vq,se.C0,a._Y,a.JL,a.sg,se.VY,f.KE,f.hX,z.Nt,a.Fj,a.JJ,a.u,a.Q7,u.O5,An.gD,u.sg,C.lW,se.Ic,se.fd,y.Hw,f.TO,mt.ey,q,pt],pipes:[u.Ov,le],styles:[".mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}.file-input[_ngcontent-%COMP%]{display:none}img.front-shop[_ngcontent-%COMP%]{display:block;border-radius:3px;width:100%;max-width:200px;margin:10px 0}.progress-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}"]});class Ft{constructor(n){this.http=n,this.mapKey=P.N.mapKey}getPositionByZipCode(n){const e=`https://maps.googleapis.com/maps/api/geocode/json?key=${this.mapKey}&components=postal_code:${n}`;this.http.post(e,{}).subscribe(i=>{const r=i.results[0].geometry.location.lat,s=i.results[0].geometry.location.lng;alert("Lat = "+r+"- Long = "+s)})}}function mi(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"hr",18),t.TgZ(2,"div",19),t.TgZ(3,"div",20),t.TgZ(4,"div",21),t.TgZ(5,"span",22),t._uU(6),t.qZA(),t.TgZ(7,"mat-icon",23),t._uU(8,"place"),t.qZA(),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div",24),t.TgZ(12,"div",25),t._uU(13),t.qZA(),t.TgZ(14,"div"),t._uU(15),t.qZA(),t.TgZ(16,"div",26),t._uU(17,"Open until 5:00"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit;t.xp6(6),t.Oqu(e.ranking),t.xp6(4),t.Oqu(e.distance),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address)}}function gi(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"h3",16),t._uU(2,"Showing 5 stores"),t.qZA(),t.YNc(3,mi,18,4,"ng-container",17),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.storeArray)}}function hi(o,n){1&o&&(t.TgZ(0,"p",27),t._uU(1,"No store data matching..."),t.qZA())}function _i(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"map-marker",28,29),t.NdJ("mapClick",function(){const s=t.CHM(e).$implicit,c=t.MAs(1);return t.oxw().openInfo(c,s.info)}),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("position",e.position)("label",e.label)("title",e.title)("options",e.options)}}function fi(o,n){if(1&o&&t._UZ(0,"app-error",30),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Ft.\u0275fac=function(n){return new(n||Ft)(t.LFG(b.eN))},Ft.\u0275prov=t.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"});class de{constructor(n){this.mapService=n,this.storeArray=[],this.zoom=12,this.options={mapTypeId:"hybrid",zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,maxZoom:15,minZoom:8},this.markers=[],this.infoContent="",this.errorMessage=""}ngOnInit(){navigator.geolocation&&navigator.geolocation.getCurrentPosition?this.getCurrentPosition().then(e=>{this.center={lat:e.lat,lng:e.lng}}).catch(e=>alert(e)):(this.errorMessage="Geolocation is not supported.Please allow this app to access the location.",setTimeout(()=>{this.errorMessage=""},2e3))}getCurrentPosition(){return new Promise((n,e)=>{navigator.geolocation.getCurrentPosition(i=>{n({lng:i.coords.longitude,lat:i.coords.latitude})},i=>{e(i)})})}ngAfterViewInit(){}zoomIn(){this.zoom<(this.options.maxZoom?this.options.maxZoom:7)&&this.zoom++}zoomOut(){this.zoom>(this.options.minZoom?this.options.minZoom:7)&&this.zoom--}click(n){}logCenter(){}addMarker(){this.storeArray.forEach(n=>{this.markers.push({position:{lat:n.lat,lng:n.lng},label:{color:"gray",text:n.name},title:n.name,info:n.name,options:{animation:google.maps.Animation.BOUNCE}})})}openInfo(n,e=""){this.infoContent=e,this.info.open(n)}getPositionByZipCode(n){this.storeArray=[{name:"Bas-Laurant",ranking:1,distance:"0.1km",address:"5815 Sherbrooke St W, Montreal, Quebec H4A 1X4",lat:45.47,lng:-73.63},{name:"Lac-Saint",ranking:2,distance:"0.2km",address:"5107 Sherbrooke St W, Montreal",lat:45.47,lng:-73.6},{name:"Capitale",ranking:3,distance:"1.1km",address:"5107 Sherbrooke St W, Montreal",lat:45.47,lng:-73.62},{name:"Maurice",ranking:4,distance:"2.1km",address:"5351 C\xf4te Saint Luc Rd, Montreal, Quebec H3X 2C3",lat:45.47,lng:-73.65},{name:"Estrie",ranking:5,distance:"3.0km",address:"5351 C\xf4te Saint Luc Rd, Montreal, Quebec H3X 2C3",lat:45.47,lng:-73.5}],this.addMarker()}calculateDistance(n,e){n={lat:40.7767644,lng:-73.9761399},e={lat:40.771209,lng:-73.9673991};const i=new google.maps.DirectionsService,r=new google.maps.DirectionsRenderer;r.setMap(this.map.googleMap?this.map.googleMap:null);const s={origin:n,destination:e,travelMode:google.maps.TravelMode.DRIVING};i.route(s,(c,d)=>{if("OK"===d){r.setDirections(c);let g=c.routes[0].legs[0];if(!g)return void window.alert("Directions request failed");g.distance.text,g.duration.text}else window.alert("Directions request failed due to "+d)})}}function Ci(o,n){if(1&o&&t._UZ(0,"app-error",11),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}function vi(o,n){if(1&o&&t._UZ(0,"app-success",11),2&o){const e=t.oxw();t.Q6J("message",e.successMessage)}}de.\u0275fac=function(n){return new(n||de)(t.Y36(Ft))},de.\u0275cmp=t.Xpm({type:de,selectors:[["app-find-store"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Z.b6,5),t.Gf(Z.ch,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.map=i.first),t.iGM(i=t.CRH())&&(e.info=i.first)}},decls:27,vars:8,consts:[[1,"search-area"],["type","text","autocomplete","","placeholder","enter zipcode",1,"search-area_input"],["input",""],["mat-button","",1,"search-area_button",3,"click"],["color","primary"],["fxLayout","row wrap","fxLayoutAlign","space-between"],["fxFlex","30%","fxFlex.lt-md","100%"],[1,"main-card"],[4,"ngIf","ngIfElse"],["no_data_alert",""],["fxFlex","70%","fxFlex.lt-md","100%"],[1,"map-zoom-button","zoom-in",3,"click"],[1,"map-zoom-button","zoom-out",3,"click"],["height","500px","width","100%",3,"zoom","center","options","mapClick"],[3,"position","label","title","options","mapClick",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],[1,"location_list_header"],[4,"ngFor","ngForOf"],[1,"location-divider"],[1,"location"],[1,"location-icon-section"],[1,"location-icon-wrapper"],[1,"location_icon_number"],[1,"location-icon"],[1,"location-text-wrapper"],[1,"location-name"],[1,"location-open-period"],[1,"no-data-alert"],[3,"position","label","title","options","mapClick"],["markerElem","mapMarker"],[3,"message"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,"Find a store"),t.qZA(),t.TgZ(3,"div",0),t._UZ(4,"input",1,2),t.TgZ(6,"button",3),t.NdJ("click",function(){t.CHM(i);const s=t.MAs(5);return e.getPositionByZipCode(s.value)}),t.TgZ(7,"mat-icon",4),t._uU(8,"search"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"mat-card",7),t.YNc(12,gi,4,1,"div",8),t.YNc(13,hi,2,0,"ng-template",null,9,t.W1O),t.qZA(),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"span",11),t.NdJ("click",function(){return e.zoomIn()}),t.TgZ(17,"mat-icon"),t._uU(18,"add"),t.qZA(),t.qZA(),t.TgZ(19,"span",12),t.NdJ("click",function(){return e.zoomOut()}),t.TgZ(20,"mat-icon"),t._uU(21,"remove"),t.qZA(),t.qZA(),t.TgZ(22,"google-map",13),t.NdJ("mapClick",function(s){return e.click(s)}),t.YNc(23,_i,2,4,"map-marker",14),t.TgZ(24,"map-info-window"),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,fi,1,1,"app-error",15)}if(2&n){const i=t.MAs(14);t.xp6(12),t.Q6J("ngIf",e.storeArray.length>0)("ngIfElse",i),t.xp6(10),t.Q6J("zoom",e.zoom)("center",e.center)("options",e.options),t.xp6(1),t.Q6J("ngForOf",e.markers),t.xp6(2),t.Oqu(e.infoContent),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}},directives:[C.lW,y.Hw,w.xw,w.Wh,w.yH,T.a8,u.O5,Z.b6,u.sg,Z.ch,Z.O_,q],styles:['.search-area[_ngcontent-%COMP%]{position:relative;width:100%;min-width:150px;margin-right:16px;margin-bottom:8px;overflow:hidden;border-radius:4px}.search-area[_ngcontent-%COMP%]   .search-area_input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;padding:16px;height:90%;-webkit-appearance:none;transition:width .4s ease-in-out;font-size:1rem}.search-area[_ngcontent-%COMP%]   .search-person[_ngcontent-%COMP%]::placeholder{font-size:1rem;color:#131f69;letter-spacing:.1rem}.search-area[_ngcontent-%COMP%]   .search-area_button[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px;height:100%}.map-zoom-button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;background-color:#fff;color:#000;position:absolute;right:28px;z-index:10;font-size:2rem;font-weight:300;text-align:center;width:40px;height:40px;border-radius:4px}.map-zoom-button.zoom-in[_ngcontent-%COMP%]{bottom:270px}.map-zoom-button.zoom-out[_ngcontent-%COMP%]{bottom:225px}.main-card[_ngcontent-%COMP%]{margin:0;padding:0}.main-card[_ngcontent-%COMP%]   .no-data-alert[_ngcontent-%COMP%]{padding:16px;font-size:1rem}.location_list_header[_ngcontent-%COMP%]{padding:8px 0 0 16px}.location-divider[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.25);text-align:center;margin:8px auto;width:90%;transform:scaleY(.5)}.location[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.location-icon-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 16px}.location-icon-section[_ngcontent-%COMP%]   .location-icon-wrapper[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;display:table-cell;vertical-align:top}.location-icon-section[_ngcontent-%COMP%]   .location-icon-wrapper[_ngcontent-%COMP%]   .location_icon_number[_ngcontent-%COMP%]{position:absolute;left:13px;top:13px;z-index:10;color:#fff;font-weight:bolder}.location-icon-section[_ngcontent-%COMP%]   .location-icon-wrapper[_ngcontent-%COMP%]   .location-icon[_ngcontent-%COMP%]{position:relative;top:1px;font-size:36px}.location-text-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 16px}.location-text-wrapper[_ngcontent-%COMP%]   .location-name[_ngcontent-%COMP%]{font-size:1.1rem}.location-text-wrapper[_ngcontent-%COMP%]   .location-open-period[_ngcontent-%COMP%]:before{position:relative;content:"";display:inline-block;width:8px;height:8px;border-radius:50%;opacity:.6;background-color:green;margin-right:4px}']});class pe{constructor(){this.name="",this.comments="",this.errorMessage="",this.successMessage=""}ngOnInit(){}onSubmit(n){this.errorMessage="",this.successMessage="Data has been saved successfully.",n.reset(),setTimeout(()=>{this.successMessage=""},3e3)}onReset(n){this.successMessage="",this.errorMessage="Error Code 400: There are problems in Network ",n.reset(),setTimeout(()=>{this.errorMessage=""},3e3)}}function Ti(o,n){1&o&&(t.TgZ(0,"th",15),t._uU(1,"Id"),t.qZA())}function Ai(o,n){if(1&o&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e._id,-5))}}function wi(o,n){1&o&&(t.TgZ(0,"th",15),t._uU(1,"Name"),t.qZA())}function yi(o,n){if(1&o&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function bi(o,n){1&o&&t._UZ(0,"tr",17)}function Mi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().selectOneElement(s)}),t.qZA()}}function Oi(o,n){if(1&o&&(t.TgZ(0,"tr",19),t.TgZ(1,"td",20),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw(),i=t.MAs(11);t.xp6(1),t.uIk("colspan",e.displayedColumns.length),t.xp6(1),t.hij(' No data matching the filter "',i.value,'" ')}}pe.\u0275fac=function(n){return new(n||pe)},pe.\u0275cmp=t.Xpm({type:pe,selectors:[["app-email-to-us"]],hostVars:1,hostBindings:function(n,e){2&n&&t.d8E("@routerTransition",void 0)},decls:25,vars:5,consts:[[1,"container"],["myForm","ngForm"],["hintLabel","Max 10 characters","appearance","fill",1,"input-area-full-width"],["matInput","","id","name","name","name","type","text","maxlength","10","placeholder","Ex. Mr Alex",3,"ngModel","ngModelChange"],["input",""],["align","end"],["appearance","fill",1,"input-area-full-width"],["matInput","","id","comments","name","comments","rows","5","placeholder","Give us more details about problem so we can help you better.",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","",3,"click"],[3,"message",4,"ngIf"],[3,"message"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2,"Contact Us"),t.qZA(),t.TgZ(3,"mat-card"),t.TgZ(4,"form",null,1),t.TgZ(6,"mat-form-field",2),t.TgZ(7,"mat-label"),t._uU(8,"Enter your name"),t.qZA(),t.TgZ(9,"input",3,4),t.NdJ("ngModelChange",function(s){return e.name=s}),t.qZA(),t.TgZ(11,"mat-hint",5),t._uU(12),t.qZA(),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"mat-form-field",6),t.TgZ(15,"mat-label"),t._uU(16,"Textarea"),t.qZA(),t.TgZ(17,"textarea",7),t.NdJ("ngModelChange",function(s){return e.comments=s}),t.qZA(),t.qZA(),t.TgZ(18,"div"),t.TgZ(19,"button",8),t.NdJ("click",function(){t.CHM(i);const s=t.MAs(5);return e.onSubmit(s)}),t._uU(20," Submit "),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){t.CHM(i);const s=t.MAs(5);return e.onReset(s)}),t._uU(22,"Reset"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(23,Ci,1,1,"app-error",10),t.YNc(24,vi,1,1,"app-success",10)}if(2&n){const i=t.MAs(10);t.xp6(9),t.Q6J("ngModel",e.name),t.xp6(3),t.hij("",(null==i.value?null:i.value.length)||0,"/10"),t.xp6(5),t.Q6J("ngModel",e.comments),t.xp6(6),t.Q6J("ngIf",e.errorMessage),t.xp6(1),t.Q6J("ngIf",e.successMessage)}},directives:[T.a8,a._Y,a.JL,a.F,f.KE,f.hX,z.Nt,a.Fj,a.nD,a.JJ,a.On,f.bx,C.lW,u.O5,q,pt],styles:["[_nghost-%COMP%]{display:block}.container[_ngcontent-%COMP%]{padding:20px 20px 0;color:#000;font-weight:bold;width:70%}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:8px}.input-area-full-width[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 800px){.container[_ngcontent-%COMP%]{width:90%}}"],data:{animation:[(0,m.X$)("routerTransition",[(0,m.SB)("void",(0,m.oB)({position:"fixed",width:"100%"})),(0,m.SB)("*",(0,m.oB)({position:"fixed",width:"100%"})),(0,m.eR)(":enter",[(0,m.oB)({transform:"translateX(-100%"}),(0,m.jt)("0.5s ease-in-out",(0,m.oB)({transform:"translateX(0%)"}))]),(0,m.eR)(":leave",[(0,m.oB)({transform:"translateX(0%)"}),(0,m.jt)("0.5s ease-in-out",(0,m.oB)({transform:"translateX(100%)"}))])])]}});class Qt{constructor(n,e){this.dialogRef=n,this.data=e,this.displayedColumns=["id","name"],this.dataSource=new p.by,this.dataSource.data=e.dataArray}ngOnInit(){}applyFilter(n){const e=n.target.value;this.dataSource.filter=e.trim().toLowerCase()}selectOneElement(n){this.dialogRef.close(n)}}Qt.\u0275fac=function(n){return new(n||Qt)(t.Y36(M.so),t.Y36(M.WI))},Qt.\u0275cmp=t.Xpm({type:Qt,selectors:[["app-data-list"]],decls:22,vars:5,consts:[[1,"header"],["mat-dialog-title",""],["mat-icon-button","",3,"mat-dialog-close"],["mat-dialog-content",""],["appearance","standard"],["matInput","","maxlength","20","placeholder","Ex. ",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],[1,"mat-cell"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.TgZ(4,"mat-icon"),t._uU(5,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"mat-form-field",4),t.TgZ(8,"mat-label"),t._uU(9,"Filter"),t.qZA(),t.TgZ(10,"input",5,6),t.NdJ("keyup",function(r){return e.applyFilter(r)}),t.qZA(),t.qZA(),t.TgZ(12,"table",7),t.ynx(13,8),t.YNc(14,Ti,2,0,"th",9),t.YNc(15,Ai,3,4,"td",10),t.BQk(),t.ynx(16,11),t.YNc(17,wi,2,0,"th",9),t.YNc(18,yi,2,1,"td",10),t.BQk(),t.YNc(19,bi,1,0,"tr",12),t.YNc(20,Mi,1,0,"tr",13),t.YNc(21,Oi,3,2,"tr",14),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Oqu(e.data.title),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(9),t.Q6J("dataSource",e.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns))},directives:[M.uh,C.lW,M.ZT,y.Hw,M.xY,f.KE,f.hX,z.Nt,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,p.Ee,p.ge,p.ev,p.XQ,p.Gk],pipes:[u.OU],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-element-row[_ngcontent-%COMP%]:hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:active{background:#efefef}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]});var mn=l(4929);function Pi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-grid-tile",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().toggleDay(s)}),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",10),t._uU(5),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.ekj("isHoliday",!e.isWorkday),t.xp6(1),t.ekj("today",e.isToday)("selected",e.isSelected),t.xp6(1),t.hij(" ",t.xi3(3,8,e.dateElement,"d")," "),t.xp6(3),t.Oqu(e.events)}}class ue{constructor(){this.title="",this.itemEvent=new t.vpe,this.calendar=[],this.today=new Date,this.selectedDay=null,this.startDayOfCalendar=new Date}ngOnInit(){const n=new Date,e=n.getFullYear(),i=n.getMonth(),r=n.getDate();this.today=new Date(e,i,r,0,0,0),this.getDaysOfMonth(this.today)}getDaysOfMonth(n){const e=n.getFullYear(),i=n.getMonth(),r=new Date(e,i,1,0,0,0),s=new Date(e,i+1,0).getDate(),c=r.getDay();this.calendar=[];for(let d=0;d<35;d++)this.calendar.push({dateElement:null,isWorkday:!1});for(let d=0;d<s;d++){const g=new Date(r.getTime());g.setTime(g.getTime()+864e5*d);let x=!1;g.getDay()<6&&g>=this.today&&(x=!0);const L=g.toDateString()===this.today.toDateString();this.calendar[c+d]={dateElement:g,isWorkday:x,isToday:L}}}getCalendarOfNextMonth(){const n=this.startDayOfCalendar;let e=this.startDayOfCalendar;e=11===n.getMonth()?new Date(n.getFullYear()+1,0,1):new Date(n.getFullYear(),n.getMonth()+1,1),this.startDayOfCalendar=e,this.getDaysOfMonth(this.startDayOfCalendar)}getCalendarOfLastMonth(){const n=this.startDayOfCalendar;let e=this.startDayOfCalendar;e=0===n.getMonth()?new Date(n.getFullYear()-1,11,1):new Date(n.getFullYear(),n.getMonth()-1,1),this.startDayOfCalendar=e,this.getDaysOfMonth(this.startDayOfCalendar)}toggleDay(n){if(null!==this.selectedDay){const e=this.calendar.findIndex(i=>{var r;return i.dateElement===(null===(r=this.selectedDay)||void 0===r?void 0:r.dateElement)});e>=0&&(this.calendar[e].isSelected=!1)}if(this.selectedDay===n?this.selectedDay=null:this.selectedDay=n,null!==this.selectedDay){const e=this.calendar.findIndex(i=>{var r;return i.dateElement===(null===(r=this.selectedDay)||void 0===r?void 0:r.dateElement)});e>=0&&(this.calendar[e].isSelected=!0)}this.itemEvent.emit(this.selectedDay)}}function qi(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-card",25),t._uU(2),t.qZA(),t.BQk()),2&o){t.oxw();const e=t.MAs(6);t.xp6(2),t.hij(' No data matching the filter "',e.value,'".')}}function Ui(o,n){if(1&o&&(t.TgZ(0,"mat-list-option",30),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function ki(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-selection-list",27,28),t.NdJ("selectionChange",function(r){return t.CHM(e),t.oxw().selectPerson(r)}),t.YNc(4,Ui,2,2,"mat-list-option",29),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("multiple",!1),t.xp6(2),t.Q6J("ngForOf",e.filterdPerson)}}function Di(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Action"),t.qZA())}function Si(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",35),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit;return t.oxw().addPlan(r)}),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t.qZA()}}function Ii(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit;return t.oxw().updatePlan(r)}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}function Ni(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit;return t.oxw().deletePLan(r)}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function Fi(o,n){if(1&o&&(t.TgZ(0,"td",32),t.YNc(1,Si,3,0,"div",33),t.YNc(2,Ii,3,0,"div",34),t.YNc(3,Ni,3,0,"div",34),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!e.customerName),t.xp6(1),t.Q6J("ngIf",e.customerName),t.xp6(1),t.Q6J("ngIf",e.customerName)}}function Qi(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Customer"),t.qZA())}function Ji(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function Li(o,n){1&o&&(t.TgZ(0,"th",37),t._uU(1,"Period"),t.qZA())}function Yi(o,n){if(1&o&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.contactPeriod," ")}}function Ei(o,n){if(1&o&&(t.TgZ(0,"th",39),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.selectedDate?t.xi3(2,1,e.selectedDate,"dd MMMM yyyy"):""," \xa0\xa0\xa0\xa0Task List ")}}function Ri(o,n){1&o&&t._UZ(0,"tr",40)}function $i(o,n){1&o&&t._UZ(0,"tr",40)}function zi(o,n){1&o&&t._UZ(0,"tr",41)}function Bi(o,n){if(1&o&&t._UZ(0,"app-error",42),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}ue.\u0275fac=function(n){return new(n||ue)},ue.\u0275cmp=t.Xpm({type:ue,selectors:[["app-calendar"]],inputs:{title:"title"},outputs:{itemEvent:"itemEvent"},decls:29,vars:6,consts:[[1,"calendar-wrapper"],[1,"calendar-header"],[1,"calendar-header-button-container"],["mat-button","","aria-label","back icon",3,"click"],["mat-button","","aria-label","forward icon",3,"click"],["cols","7","rowHeight","30px","gutterSize","2px",1,"day-wrapper"],[1,"header"],["cols","7","rowHeight","60px","gutterSize","2px",1,"calendar"],[3,"isHoliday","click",4,"ngFor","ngForOf"],[3,"click"],[1,"day_event"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"button",3),t.NdJ("click",function(){return e.getCalendarOfLastMonth()}),t.TgZ(7,"mat-icon"),t._uU(8,"arrow_back"),t.qZA(),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return e.getCalendarOfNextMonth()}),t.TgZ(10,"mat-icon"),t._uU(11,"arrow_forward"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"mat-grid-list",5),t.TgZ(13,"mat-grid-tile",6),t._uU(14,"Sun"),t.qZA(),t.TgZ(15,"mat-grid-tile",6),t._uU(16,"Mon"),t.qZA(),t.TgZ(17,"mat-grid-tile",6),t._uU(18,"Tue"),t.qZA(),t.TgZ(19,"mat-grid-tile",6),t._uU(20,"Wed"),t.qZA(),t.TgZ(21,"mat-grid-tile",6),t._uU(22,"Thu"),t.qZA(),t.TgZ(23,"mat-grid-tile",6),t._uU(24,"Fri"),t.qZA(),t.TgZ(25,"mat-grid-tile",6),t._uU(26,"Sat"),t.qZA(),t.qZA(),t.TgZ(27,"mat-grid-list",7),t.YNc(28,Pi,6,11,"mat-grid-tile",8),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.AsE("",t.xi3(4,3,e.startDayOfCalendar,"MMMM yyyy")," \xa0",e.title,""),t.xp6(25),t.Q6J("ngForOf",e.calendar))},directives:[T.a8,C.lW,y.Hw,mn.Il,mn.DX,u.sg],pipes:[u.uU],styles:[".calendar-wrapper[_ngcontent-%COMP%]{width:100%}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:nowrap}.calendar-header-button-container[_ngcontent-%COMP%]{position:relative;right:0px;display:flex;justify-content:center;width:80px}.calendar-header-button-container[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin:0;padding:0;font-size:14px;min-width:40px}  .mat-grid-tile-content{flex-direction:column!important}"]});const Hi=function(){return["table-title"]};class me{constructor(n,e,i,r,s){this.dialog=n,this.dialogService=e,this.customerService=i,this.userService=r,this.planService=s,this.destroy$=new v.xQ,this.errorMessage="",this.showPersonList=!1,this.isValidPerson=!0,this.selectedPerson=null,this.selectedDate=null,this.selectedCustomer=null,this.allPersons=[],this.allCustomers=[],this.filterdPerson=[],this.enteredSalesperson="",this.displayedColumns=["action","name","period"],this.initPlans=[],this.dataSource=[]}ngOnInit(){this.initPlans=function(o,n){const e=[];for(let i=o;i<n;i++){const g={_id:"",customerId:"",customerName:"",contactDate:"",contactPeriod:`${i.toString().padStart(2,"0")+":00"}-${(i+1).toString().padStart(2,"0")+":00"}`,salespersonId:"",salespersonName:""};e.push(g)}return e}(8,17),this.dataSource=[...this.initPlans],this.userService.getUsers().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.allPersons=n},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)}),this.customerService.getCustomers().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.allCustomers=n},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)})}ngAfterViewInit(){this.table&&this.table.renderRows()}selectPLanDate(n){this.selectedDate=n?n.dateElement:null}onInputChange(n){this.isValidPerson=!0,this.dataSource=[...this.initPlans],this.table.renderRows(),n.length>0?this.filterdPerson=this.allPersons.filter(e=>e.name.toLowerCase().indexOf(n.toLowerCase())>=0):this.filterdPerson=this.allPersons.slice(0),this.showPersonList=!0}selectPersonByPressEnter(n){let e=-1;this.isValidPerson=!1,this.dataSource=[...this.initPlans],this.table.renderRows(),0===n.trim().length&&(this.selectedPerson=null,this.enteredSalesperson="",this.isValidPerson=!0),n.trim().length>0&&(e=this.allPersons.findIndex(i=>i.name.toLowerCase().indexOf(n.toLowerCase())>=0),e>=0?(this.isValidPerson=!0,this.selectedPerson=this.allPersons[e],this.enteredSalesperson=this.selectedPerson.name):(this.isValidPerson=!1,this.selectedPerson=null,this.enteredSalesperson="")),this.showPersonList=!1}selectPerson(n){this.showPersonList=!1,this.isValidPerson=!0,this.selectedPerson=null,this.dataSource=[...this.initPlans],this.table.renderRows(),this.enteredSalesperson=n.source.selectedOptions.selected[0].value;const e=this.allPersons.find(i=>i.name===this.enteredSalesperson);e&&(this.selectedPerson=Object.assign({},e),this.enteredSalesperson=this.selectedPerson.name)}getTaskList(){if(null===this.selectedPerson)return this.errorMessage="Please select  salesperson.",void setTimeout(()=>{this.errorMessage=""},2e3);if(null===this.selectedDate)return this.errorMessage="Please select  task date.",void setTimeout(()=>{this.errorMessage=""},2e3);const n=nt(this.selectedDate);this.planService.getContactPlans(n,this.selectedPerson._id||"").pipe((0,h.R)(this.destroy$)).subscribe(e=>{e.forEach(i=>{let r=i.contactPeriod,s=-1;s=this.dataSource.findIndex(c=>c.contactPeriod===r),s>=0&&this.dataSource.splice(s,1,Object.assign({},i))}),this.table.renderRows()},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}deletePLan(n){this.dialogService.confirmDialog({title:"Scheduling",message:"Are you sure you want to delete this task?",confirmText:"Yes",cancelText:"No"}).pipe((0,E.w)(e=>e?this.planService.deleteContactPlan(n._id):(0,S.of)(null)),(0,h.R)(this.destroy$)).subscribe(e=>{let i=this.dataSource.findIndex(r=>r.contactPeriod===(null==e?void 0:e.contactPeriod));i>=0&&null!==e&&(this.dataSource[i].customerId="",this.dataSource[i].customerName=""),this.table.renderRows()},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}addPlan(n){if(null===this.selectedPerson)return this.errorMessage="Please select  salesperson.",void setTimeout(()=>{this.errorMessage=""},2e3);if(null===this.selectedDate)return this.errorMessage="Please select task date.",void setTimeout(()=>{this.errorMessage=""},2e3);const e=nt(this.selectedDate),i={title:"Select a Customer",dataArray:this.allCustomers};this.dialog.open(Qt,{width:"80%",maxWidth:"400px",data:i,disableClose:!0}).afterClosed().pipe((0,E.w)(s=>{var c,d;if(s){this.selectedCustomer=s;const g={customerId:null===(c=this.selectedCustomer)||void 0===c?void 0:c._id,salespersonId:null===(d=this.selectedPerson)||void 0===d?void 0:d._id,contactDate:e,contactPeriod:n.contactPeriod};return this.planService.addContactPlan(g)}return(0,S.of)(null)}),(0,h.R)(this.destroy$)).subscribe(s=>{var c,d,g;let _=this.dataSource.findIndex(x=>x.contactPeriod===(null==s?void 0:s.contactPeriod));_>=0&&null!==s&&(this.dataSource[_]._id=s._id,this.dataSource[_].customerName=(null===(c=this.selectedCustomer)||void 0===c?void 0:c.name)||"",this.dataSource[_].customerId=(null===(d=this.selectedCustomer)||void 0===d?void 0:d._id)||"",this.dataSource[_].salespersonId=(null===(g=this.selectedPerson)||void 0===g?void 0:g._id)||""),this.table.renderRows()},s=>{this.errorMessage=s,setTimeout(()=>{this.errorMessage=""},3e3)})}updatePlan(n){if(!this.selectedPerson)return this.errorMessage="Please select salesperson firstly.",void setTimeout(()=>{this.errorMessage=""},3e3);if(!this.selectedDate)return this.errorMessage="Please select  date firstly.",void setTimeout(()=>{this.errorMessage=""},3e3);const e={title:"Select a Customer",dataArray:this.allCustomers};this.dialog.open(Qt,{width:"80%",maxWidth:"400px",data:e,disableClose:!0}).afterClosed().pipe((0,E.w)(r=>{var s;if(r){this.selectedCustomer=r;const c={customerId:null===(s=this.selectedCustomer)||void 0===s?void 0:s._id,salespersonId:n.salespersonId,contactDate:n.contactDate,contactPeriod:n.contactPeriod};return this.planService.updateContactPlan(n._id,c)}return(0,S.of)(null)}),(0,h.R)(this.destroy$)).subscribe(r=>{var s,c;const d=this.dataSource.findIndex(g=>g.contactPeriod===(null==r?void 0:r.contactPeriod));d>=0&&null!==r&&(this.dataSource[d]._id=r._id,this.dataSource[d].customerName=(null===(s=this.selectedCustomer)||void 0===s?void 0:s.name)||"",this.dataSource[d].customerId=(null===(c=this.selectedCustomer)||void 0===c?void 0:c._id)||""),this.table.renderRows()},r=>{this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}me.\u0275fac=function(n){return new(n||me)(t.Y36(M.uw),t.Y36(ot),t.Y36(K),t.Y36(Je.K),t.Y36(wt))},me.\u0275cmp=t.Xpm({type:me,selectors:[["app-scheduler"]],viewQuery:function(n,e){if(1&n&&t.Gf(p.BZ,5),2&n){let i;t.iGM(i=t.CRH())&&(e.table=i.first)}},decls:29,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","50%","fxFlex.xs","100%",1,"calendar-section"],[3,"title","itemEvent"],["fxFlex","50%","fxFlex.xs","100%",1,"task-section"],[1,"search-area"],["type","text","autocomplete","","placeholder","Enter salesperson...","maxlength","20",1,"search-area_input",3,"ngModel","ngModelChange","keyup.enter"],["input",""],["mat-button","",1,"search-area_button",3,"click"],["color","primary"],[4,"ngIf"],["class","data-list-wrapper",4,"ngIf"],[1,"daily-task-card"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","period"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","table-title"],["mat-header-cell","","colspan","3","class","selected-date-column",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"message",4,"ngIf"],[1,"search-area_input-error"],[1,"data-list-wrapper"],[3,"multiple","selectionChange"],["persons",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["class","th_icon bigger-padding",3,"click",4,"ngIf"],["class","th_icon",3,"click",4,"ngIf"],[1,"th_icon","bigger-padding",3,"click"],[1,"th_icon",3,"click"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-header-cell","","colspan","3",1,"selected-date-column"],["mat-header-row",""],["mat-row",""],[3,"message"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"app-calendar",2),t.NdJ("itemEvent",function(s){return e.selectPLanDate(s)}),t.qZA(),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"input",5,6),t.NdJ("ngModelChange",function(s){return e.enteredSalesperson=s})("keyup.enter",function(){t.CHM(i);const s=t.MAs(6);return e.selectPersonByPressEnter(s.value)})("ngModelChange",function(){t.CHM(i);const s=t.MAs(6);return e.onInputChange(s.value)}),t.qZA(),t.TgZ(7,"button",7),t.NdJ("click",function(){return e.getTaskList()}),t.TgZ(8,"mat-icon",8),t._uU(9,"search"),t.qZA(),t.qZA(),t.qZA(),t.YNc(10,qi,3,1,"ng-container",9),t.YNc(11,ki,5,2,"div",10),t.TgZ(12,"div",11),t.TgZ(13,"table",12),t.ynx(14,13),t.YNc(15,Di,2,0,"th",14),t.YNc(16,Fi,4,3,"td",15),t.BQk(),t.ynx(17,16),t.YNc(18,Qi,2,0,"th",14),t.YNc(19,Ji,2,1,"td",15),t.BQk(),t.ynx(20,17),t.YNc(21,Li,2,0,"th",18),t.YNc(22,Yi,2,1,"td",19),t.BQk(),t.ynx(23,20),t.YNc(24,Ei,3,4,"th",21),t.BQk(),t.YNc(25,Ri,1,0,"tr",22),t.YNc(26,$i,1,0,"tr",22),t.YNc(27,zi,1,0,"tr",23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(28,Bi,1,1,"app-error",24)}2&n&&(t.xp6(2),t.Q6J("title","Team Task"),t.xp6(3),t.Q6J("ngModel",e.enteredSalesperson),t.xp6(5),t.Q6J("ngIf",!e.isValidPerson),t.xp6(1),t.Q6J("ngIf",e.showPersonList&&e.filterdPerson.length>=1),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(12),t.Q6J("matHeaderRowDef",t.DdM(9,Hi)),t.xp6(1),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[w.xw,w.SQ,w.yH,ue,a.Fj,a.nD,a.JJ,a.On,C.lW,y.Hw,u.O5,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,T.a8,I.Ub,u.sg,I.vS,p.ge,p.ev,p.XQ,p.Gk,q],pipes:[u.uU],styles:[".task-section[_ngcontent-%COMP%]{position:relative}.search-area[_ngcontent-%COMP%]{position:relative;width:100%;min-width:150px;margin-right:16px;margin-bottom:8px;overflow:hidden;border-radius:4px}.search-area[_ngcontent-%COMP%]   .search-area_input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;padding:16px;height:90%;-webkit-appearance:none;transition:width .4s ease-in-out;font-size:1rem}.search-area[_ngcontent-%COMP%]   .search-person[_ngcontent-%COMP%]::placeholder{font-size:1rem;color:#131f69;letter-spacing:.1rem}.search-area[_ngcontent-%COMP%]   .search-area_button[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px;height:100%}.task-section-position-basic[_ngcontent-%COMP%], .daily-task-card[_ngcontent-%COMP%], .data-list-wrapper[_ngcontent-%COMP%], .search-area_input-error[_ngcontent-%COMP%]{left:0;right:16px}.search-area_input-error[_ngcontent-%COMP%]{padding:8px;color:red;border-left:1px solid red;z-index:1002}.data-list-wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0;border-radius:4px;z-index:1001}.daily-task-card[_ngcontent-%COMP%]{z-index:1000}.daily-task-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:left}.daily-task-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .selected-date-column[_ngcontent-%COMP%]{font-size:16px;font-weight:900}.daily-task-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .th_icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;padding:4px 8px;border-radius:4px}.daily-task-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .th_icon.bigger-padding[_ngcontent-%COMP%]{padding:4px 16px}.text-right[_ngcontent-%COMP%]{text-align:right}"]});var Gi=l(2298);function Wi(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getNameErrorMessage())}}function Ki(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getDescriptionErrorMessage())}}function Xi(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getPriceErrorMessage())}}function Vi(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getStockErrorMessage())}}function tr(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"div",17),t._uU(3),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.errorMessage)}}class Jt{constructor(n,e,i){this.dialogRef=e,this.data=i,this.errorMessage="",this.isOnsale=!1,this.nameControl=new a.NI(this.data.product.name,[a.kI.required,a.kI.minLength(5),a.kI.maxLength(20)]),this.descriptionControl=new a.NI(this.data.product.description,[a.kI.required,a.kI.minLength(5),a.kI.maxLength(200)]),this.categoryControl=new a.NI(this.data.product.category,[a.kI.required]),this.priceControl=new a.NI(this.data.product.price,[a.kI.required,a.kI.min(0),a.kI.max(1e4)]),this.stockControl=new a.NI(this.data.product.stock,[a.kI.required,a.kI.min(0),a.kI.max(1e4)]),this.productForm=n.group({name:this.nameControl,description:this.descriptionControl,category:this.categoryControl,price:this.priceControl,stock:this.stockControl})}getProductId(){return this.data.product._id?this.data.product._id:""}getTitle(){return this.data.isAdd?"Add A Product":"Edit A Product"}onSubmit(){if(this.productForm.untouched&&this.isOnsale===this.data.product.isOnsale)return void this.dialogRef.close();if(this.productForm.touched&&this.productForm.invalid)return void(this.errorMessage="Please enter valid product data.");const n={name:this.nameControl.value,description:this.descriptionControl.value,category:this.categoryControl.value,price:this.priceControl.value,stock:this.stockControl.value,isOnsale:this.isOnsale};this.data.isAdd||(n._id=this.data.product._id),this.dialogRef.close(n)}getNameErrorMessage(){return this.nameControl.hasError("required")?"You must enter a name":this.nameControl.hasError("minlength")?"Name must be at least 5 characters long.":this.nameControl.hasError("maxlength")?"Name can be max 20 characters long.":"Enter a valid name"}getDescriptionErrorMessage(){return this.descriptionControl.hasError("required")?"You must enter a description":this.descriptionControl.hasError("minlength")?"Description must be at least 5 characters long.":this.descriptionControl.hasError("maxlength")?"Description can be max 200 characters long.":"Enter a valid description"}getPriceErrorMessage(){return this.priceControl.hasError("required")?"You must enter a price":this.priceControl.hasError("min")?"Price must be bigger than  0.":this.priceControl.hasError("max")?"Price should be less than 10000.":"Enter a valid price"}getStockErrorMessage(){return this.stockControl.hasError("required")?"You must enter a stock":this.stockControl.hasError("min")?"Stock must be bigger than 0":this.stockControl.hasError("max")?"Stock should be less than 10000.":"Enter a valid stock"}ngOnInit(){this.isOnsale=this.data.product.isOnsale}setOnsale(n){this.isOnsale=n}}Jt.\u0275fac=function(n){return new(n||Jt)(t.Y36(a.qu),t.Y36(M.so),t.Y36(M.WI))},Jt.\u0275cmp=t.Xpm({type:Jt,selectors:[["app-add-product-details"]],decls:50,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["myForm",""],["appearance","fill",1,"input-area-full-width"],["matInput","","autofocus","","type","text","required","",3,"formControl"],[4,"ngIf"],["matInput","","type","text","placeholder","Product Description.Ex.Powerful Anti-Frozen..","required","",3,"formControl"],["required","",3,"formControl"],["value","gas"],["value","diesel"],["value","lubricant"],["matInput","","type","number","required","",3,"formControl"],[1,"input-area-full-width",3,"checked","change"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"click"],[1,"form-error"]],template:function(n,e){1&n&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"form",2,3),t.TgZ(7,"mat-form-field",4),t.TgZ(8,"mat-label"),t._uU(9,"Name"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,Wi,2,1,"mat-error",6),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-form-field",4),t.TgZ(14,"mat-label"),t._uU(15,"Description"),t.qZA(),t._UZ(16,"textarea",7),t.YNc(17,Ki,2,1,"mat-error",6),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"mat-form-field",4),t.TgZ(20,"mat-label"),t._uU(21,"Category"),t.qZA(),t.TgZ(22,"mat-select",8),t.TgZ(23,"mat-option",9),t._uU(24,"Gasoline"),t.qZA(),t.TgZ(25,"mat-option",10),t._uU(26,"Diesel"),t.qZA(),t.TgZ(27,"mat-option",11),t._uU(28,"Lubricant"),t.qZA(),t.qZA(),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"mat-form-field",4),t.TgZ(31,"mat-label"),t._uU(32,"Price"),t.qZA(),t._UZ(33,"input",12),t.YNc(34,Xi,2,1,"mat-error",6),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"mat-form-field",4),t.TgZ(37,"mat-label"),t._uU(38,"Stock"),t.qZA(),t._UZ(39,"input",12),t.YNc(40,Vi,2,1,"mat-error",6),t.qZA(),t._UZ(41,"br"),t.TgZ(42,"mat-checkbox",13),t.NdJ("change",function(r){return e.setOnsale(r.checked)}),t._uU(43,"On Sale"),t.qZA(),t.YNc(44,tr,4,1,"ng-container",6),t.qZA(),t.qZA(),t.TgZ(45,"div",14),t.TgZ(46,"button",15),t._uU(47,"Cancel"),t.qZA(),t.TgZ(48,"button",16),t.NdJ("click",function(){return e.onSubmit()}),t._uU(49,"Confirm"),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Oqu(e.getTitle()),t.xp6(3),t.hij("Id:\xa0",e.getProductId(),""),t.xp6(1),t.Q6J("formGroup",e.productForm),t.xp6(5),t.Q6J("formControl",e.nameControl),t.xp6(1),t.Q6J("ngIf",e.nameControl.invalid),t.xp6(5),t.Q6J("formControl",e.descriptionControl),t.xp6(1),t.Q6J("ngIf",e.descriptionControl.invalid),t.xp6(5),t.Q6J("formControl",e.categoryControl),t.xp6(11),t.Q6J("formControl",e.priceControl),t.xp6(1),t.Q6J("ngIf",e.priceControl.invalid),t.xp6(5),t.Q6J("formControl",e.stockControl),t.xp6(1),t.Q6J("ngIf",e.stockControl.invalid),t.xp6(2),t.Q6J("checked",e.isOnsale),t.xp6(2),t.Q6J("ngIf",e.errorMessage))},directives:[M.uh,M.xY,a._Y,a.JL,a.sg,f.KE,f.hX,z.Nt,a.Fj,a.Q7,a.JJ,a.oH,u.O5,An.gD,mt.ey,a.wV,pn.oG,M.H8,C.lW,M.ZT,f.TO],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%}form[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{width:100%;margin:16px}.mat-dialog-content[_ngcontent-%COMP%]{width:100%}.btn-disabled[_ngcontent-%COMP%]{background-color:#d3d3d3}.btn-disabled[_ngcontent-%COMP%]:hover{background:lightgray}.input-area-full-width[_ngcontent-%COMP%]{width:100%}"]});var er=l(1436);function nr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"th",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().addProduct()}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA(),t.qZA(),t.qZA()}}function or(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"div",20),t.TgZ(2,"span",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().editProduct(s)}),t.TgZ(3,"mat-icon",22),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"span",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteProduct(s)}),t.TgZ(6,"mat-icon",23),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function ir(o,n){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Name"),t.qZA())}function rr(o,n){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function ar(o,n){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Category"),t.qZA())}function sr(o,n){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.category)}}function lr(o,n){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Price"),t.qZA())}function cr(o,n){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.price)}}function dr(o,n){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Stock"),t.qZA())}function pr(o,n){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.stock)}}function ur(o,n){if(1&o&&(t.TgZ(0,"td",19),t.TgZ(1,"div",24),t._UZ(2,"img",25),t.TgZ(3,"div",26),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.uIk("colspan",i.displayedColumns.length),t.xp6(1),t.Q6J("@detailExpand",e==i.expandedElement?"expanded":"collapsed"),t.xp6(1),t.s9C("src",i.getImageSrc(e),t.LSH),t.xp6(2),t.hij(" ",e.description," ")}}function mr(o,n){1&o&&t._UZ(0,"tr",27)}function gr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr",28),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return c.expandedElement=c.expandedElement===s?null:s}),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.ekj("example-expanded-row",i.expandedElement===e)}}function hr(o,n){1&o&&t._UZ(0,"tr",29)}const _r=function(){return["expandedDetail"]},Le=["Rislone 34700-4PK","Carbhub 541-0765","RVS Technology G6 Engine ",'Hot Shot"s Secret Gasoline',"Craftsman 2500-Watt ","HITTIME Fuel ","55 Gallon to 275","NOCO Boost Plus "];class ge{constructor(n,e,i){this.dialog=n,this.productService=e,this.dialogService=i,this.destroy$=new v.xQ,this.displayedColumns=["action","name","category","price","stock"],this.dataToDisplay=[],this.dataSource=new fr(this.dataToDisplay),this.errorMessage="",this.rowCount=0,this.expandedElement=null}ngOnInit(){this.productService.getProducts("").pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.dataToDisplay=n,null!=n&&(this.rowCount=n.length),this.dataSource.setData(this.dataToDisplay)},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=""},3e3)})}getImageSrc(n){return P.N.imageUrl+"/"+n.imageUrl+"/w_200.jpg"}addProduct(){let n={isAdd:!0,product:this.createNewProduct(1)};this.dialog.open(Jt,{width:"100%",data:n,disableClose:!0}).afterClosed().pipe((0,E.w)(i=>i&&"price"in i?this.productService.addProduct(i):(0,S.of)(null)),(0,h.R)(this.destroy$)).subscribe(i=>{null!=i&&this.updateDataToDisplay(i)},i=>{this.errorMessage=i,setTimeout(()=>{this.errorMessage=""},3e3)})}updateDataToDisplay(n){const e=this.dataToDisplay.findIndex(i=>i._id===(null==n?void 0:n._id));e>=0?this.dataToDisplay.splice(e,1,n):this.dataToDisplay.push(n),void 0!==this.dataToDisplay&&null!==this.dataToDisplay&&(this.rowCount=this.dataToDisplay.length),this.dataSource.setData(this.dataToDisplay)}editProduct(n){const e={isAdd:!1,product:n};this.dialog.open(Jt,{width:"100%",data:e,disableClose:!0}).afterClosed().pipe((0,E.w)(r=>r&&"price"in r?this.productService.updateProduct(r):(0,S.of)(null)),(0,h.R)(this.destroy$)).subscribe(r=>{null!=r&&this.updateDataToDisplay(r)},r=>{this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},3e3)})}deleteProduct(n){this.dialogService.confirmDialog({title:"Product Management",message:"Are you sure you to delete this product?",confirmText:"Yes",cancelText:"No"}).pipe((0,E.w)(e=>e?this.productService.deleteProduct(n):(0,S.of)(null)),(0,h.R)(this.destroy$)).subscribe(e=>{if(!e)return;const i=this.dataToDisplay.findIndex(r=>r._id===n._id);i>=0&&(this.dataToDisplay.splice(i,1),void 0!==this.dataToDisplay&&null!==this.dataToDisplay&&(this.rowCount=this.dataToDisplay.length),this.dataSource.setData(this.dataToDisplay))},e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}ngAfterViewInit(){}applyFilter(n){let e=n.target.value,i=[];e=e.trim().toLowerCase(),i=void 0===e||e.length<=0?[...this.dataToDisplay]:this.dataToDisplay.filter(r=>r.name.toLowerCase().includes(e)||r.description.toLowerCase().includes(e)||r.price.toString().includes(e)||r.stock.toString().includes(e)),null!=i&&(this.rowCount=i.length),this.dataSource.setData(i)}trackProduct(n,e){return e._id||""}createNewProduct(n){const e=Le[Math.round(Math.random()*(Le.length-1))]+" "+Le[Math.round(Math.random()*(Le.length-1))].charAt(0)+".";return{_id:n.toString(),name:e,description:"",category:"gas",price:0,stock:0,imageUrl:"products/e2",isOnsale:!1}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}ge.\u0275fac=function(n){return new(n||ge)(t.Y36(M.uw),t.Y36(Mt),t.Y36(ot))},ge.\u0275cmp=t.Xpm({type:ge,selectors:[["app-add-product"]],decls:33,vars:8,consts:[["appearance","standard",1,"input-area-full-width"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[2,"margin-bottom","8px"],[1,"mat-elevation-z8","table-container"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource","trackBy"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","stock"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-button","",3,"click"],["mat-cell",""],[1,"actions-wrapper"],[1,"action",3,"click"],["matTooltip","Edit product"],["matTooltip","Delete a product"],[1,"example-element-detail"],["alt","product image",1,"example-element-diagram",3,"src"],[1,"example-element-description"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(n,e){1&n&&(t.TgZ(0,"h2"),t._uU(1,"Product Management"),t.qZA(),t.TgZ(2,"div"),t.TgZ(3,"form"),t.TgZ(4,"mat-form-field",0),t.TgZ(5,"mat-label"),t._uU(6,"Filter By Name or Description"),t.qZA(),t.TgZ(7,"input",1,2),t.NdJ("keyup",function(r){return e.applyFilter(r)}),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",4),t.TgZ(12,"table",5),t.ynx(13,6),t.YNc(14,nr,4,0,"th",7),t.YNc(15,or,8,0,"td",8),t.BQk(),t.ynx(16,9),t.YNc(17,ir,2,0,"th",7),t.YNc(18,rr,2,1,"td",8),t.BQk(),t.ynx(19,10),t.YNc(20,ar,2,0,"th",7),t.YNc(21,sr,2,1,"td",8),t.BQk(),t.ynx(22,11),t.YNc(23,lr,2,0,"th",7),t.YNc(24,cr,2,1,"td",8),t.BQk(),t.ynx(25,12),t.YNc(26,dr,2,0,"th",7),t.YNc(27,pr,2,1,"td",8),t.BQk(),t.ynx(28,13),t.YNc(29,ur,5,4,"td",8),t.BQk(),t.YNc(30,mr,1,0,"tr",14),t.YNc(31,gr,1,2,"tr",15),t.YNc(32,hr,1,0,"tr",16),t.qZA(),t.qZA()),2&n&&(t.xp6(10),t.hij(" ",e.rowCount," records meet the criteria. "),t.xp6(2),t.Q6J("dataSource",e.dataSource)("trackBy",e.trackProduct),t.xp6(18),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(7,_r)))},directives:[a._Y,a.JL,a.F,f.KE,f.hX,z.Nt,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,p.ge,C.lW,y.Hw,p.ev,er.gM,p.XQ,p.Gk],styles:[".table-container[_ngcontent-%COMP%]{height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.input-area-full-width[_ngcontent-%COMP%]{width:100%}.mat-column-action[_ngcontent-%COMP%]{min-width:90px;flex:1 0 auto}.actions-wrapper[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;grid-gap:1px;gap:1px}.actions-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{transition:all .3s}.actions-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover{box-shadow:-1px 1px 2px 2px gray}.actions-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%] + .action[_ngcontent-%COMP%]{margin-left:4px}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{opacity:.5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{opacity:.8}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{width:100px;min-width:50px;object-fit:cover;overflow:hidden;border:1px solid lightgray;border-radius:8px;margin:8px}.example-element-description[_ngcontent-%COMP%]{margin:8px}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}});class fr extends vn.o2{constructor(n){super(),this.dataStream=new Gi.t,this.setData(n)}connect(){return this.dataStream}disconnect(){}setData(n){this.dataStream.next(n)}}function Zr(o,n){if(1&o&&t._UZ(0,"app-error",20),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}const xr=function(){return["/signup"]};class he{constructor(n,e,i){this.authService=n,this.router=e,this.route=i,this.destroy$=new v.xQ,this.unamePattern="^[a-z0-9_-]{8,15}$",this.pwdPattern="^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).{6,12}$",this.mobnumPattern="^((\\+91-?)|0)?[0-9]{10}$",this.errorMessage="",this.hide=!0}ngOnInit(){}login(n){!n.valid||this.authService.login(n.controls.email.value,n.controls.password.value).pipe((0,h.R)(this.destroy$)).subscribe(e=>{this.authService.currentUser=e.data,this.authService.loginWithJwt();const i=this.route.snapshot.queryParamMap.get("returnUrl");this.router.navigate([i||"/"])},e=>{console.log("err",e.messages),this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}he.\u0275fac=function(n){return new(n||he)(t.Y36($.e),t.Y36(A.F0),t.Y36(A.gz))},he.\u0275cmp=t.Xpm({type:he,selectors:[["app-login"]],decls:32,vars:10,consts:[[1,"main__container"],[1,"login-card"],[1,"login-content"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],["authform","ngForm"],[1,"form-input-wrapper"],["ngModel","","type","email","autofocus","","placeholder","Email","name","email","minlength","6","maxlength","100","required","",1,"login-input"],["ngModel","","placeholder","Password","name","password","minlength","6","maxlength","50","required","",1,"login-input",3,"type"],["mat-icon-button","","matSuffix","",1,"button-in-input",3,"click"],["type","submit","name","submit","value","Login",1,"login-btn",3,"disabled"],[1,"signup-link-wrapper"],[1,"signup-notice"],[1,"signup-link",3,"routerLink"],["routerLink","/forget-password",1,"signup-link"],[1,"login-aside"],[1,"login-aside-overlay"],[1,"login-welcome-text"],[1,"login-aside-hr"],[3,"message",4,"ngIf"],[3,"message"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"main",2),t.TgZ(3,"span",3),t._uU(4,"Login"),t.qZA(),t.TgZ(5,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(i);const s=t.MAs(6);return e.login(s)}),t.TgZ(7,"div",6),t._UZ(8,"input",7),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"input",8),t.TgZ(11,"button",9),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(12,"mat-icon"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",6),t._UZ(15,"input",10),t.qZA(),t.qZA(),t.TgZ(16,"div",11),t.TgZ(17,"span",12),t._uU(18,"Don't have an account?"),t.qZA(),t.TgZ(19,"a",13),t._uU(20,"Sign up"),t.qZA(),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"span",12),t._uU(23,"Forget your password?"),t.qZA(),t.TgZ(24,"a",14),t._uU(25,"Reset Password"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"aside",15),t._UZ(27,"div",16),t.TgZ(28,"h1",17),t._uU(29,"Welcome Back!"),t.qZA(),t._UZ(30,"hr",18),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,Zr,1,1,"app-error",19)}if(2&n){const i=t.MAs(6);t.xp6(10),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(2),t.ekj("btn-disabled",!i.form.valid),t.Q6J("disabled",!i.form.valid),t.xp6(4),t.Q6J("routerLink",t.DdM(9,xr)),t.xp6(12),t.Q6J("ngIf",e.errorMessage)}},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.wO,a.nD,a.Q7,C.lW,f.R9,y.Hw,A.yS,u.O5,q],styles:[".main__container[_ngcontent-%COMP%]{min-height:90vh;width:100%;display:flex;justify-content:center;align-items:center;overflow:hidden}.login-card[_ngcontent-%COMP%]{position:relative;display:flex;background-color:#fff;border-radius:10px;box-shadow:0 0 20px #0000001a;width:85%;min-height:80vh;animation:fadein 1s ease-in-out}.login-header[_ngcontent-%COMP%]{font-size:2.5rem;display:block;margin-top:1rem;margin-bottom:2rem;color:#0c1066;letter-spacing:.2rem;font-weight:bold;animation:fadein 1.75s ease-in-out}.login-content[_ngcontent-%COMP%]{flex:2 2;display:flex;flex-flow:column;justify-content:center;align-items:center;animation:fadein 1.5s ease-in-out;min-height:100%}.login-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;width:85%;align-items:center;animation:slidedown 2s ease-in-out}.login-aside[_ngcontent-%COMP%]{animation:fadein 2.25s ease-in-out;flex:3 3;display:flex;justify-content:flex-end;flex-flow:column;min-height:100%;border-radius:0 10px 10px 0;background:url(https://source.unsplash.com/random/1200x900?gasoline) no-repeat center center;background-size:cover;position:relative}.login-aside-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#00000026;border-radius:0 10px 10px 0}.login-aside-hr[_ngcontent-%COMP%]{height:.5rem;width:8rem;border:none;outline:none;background-color:#fff;position:relative;z-index:5;margin:0 0 8rem 3rem;animation:slideright 4s ease-out}.login-welcome-text[_ngcontent-%COMP%]{color:#fff;letter-spacing:.03rem;margin:0 0 2rem 3rem;font-size:2.75rem;position:relative;z-index:5;animation:slideright 2s ease-out}.login-btn[_ngcontent-%COMP%]{background-color:#00ff9b;padding:1rem;border-radius:2rem;outline:none;border:none;color:#fff;font-size:1.1rem;cursor:pointer;margin-top:1.5rem;width:50%;box-shadow:0 0 2rem #0000ff1a}.login-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#03a9f4,#00ff9b)}.login-input[_ngcontent-%COMP%]::placeholder{color:#39437a;font-size:.9rem}.form-input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;text-align:center}.login-input[_ngcontent-%COMP%]{margin:1rem 0;padding:1.5rem;border-radius:2rem;outline:none;border:none;box-shadow:0 0 2rem #0000ff4d;width:100%}.button-in-input[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;font-size:30px;color:#0c1066}.btn-disabled[_ngcontent-%COMP%]{background-color:#d3d3d3}.btn-disabled[_ngcontent-%COMP%]:hover{background:lightgray}.signup-link-wrapper[_ngcontent-%COMP%]{margin-top:1rem;animation:slideup 1s ease-in-out;color:#333}.signup-link[_ngcontent-%COMP%]{text-transform:uppercase;margin-top:1rem;text-decoration:none;color:#ff3a82;margin-left:1rem}@media screen and (max-width: 1279px){.login-aside[_ngcontent-%COMP%]{display:none}}"]});const Ye=o=>{const n=o.get("password"),e=o.get("repeatPassword");return n&&e&&n.value!==e.value?{identifyPassword:!0}:null};class _e{validate(n){return Ye(n)}}_e.\u0275fac=function(n){return new(n||_e)},_e.\u0275dir=t.lG2({type:_e,selectors:[["","appUniquePassword",""]],features:[t._Bn([{provide:a.Cf,useExisting:_e,multi:!0}])]});class ht{constructor(n){this.userService=n}validate(n){return this.userService.findUserByEmail(n.value).pipe((0,rt.U)(e=>e.length>=1?{userExists:!0}:null),(0,ut.K)(()=>(0,S.of)(null)))}}ht.\u0275fac=function(n){return new(n||ht)(t.LFG($.e))},ht.\u0275prov=t.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"});class Ee{constructor(n){this.validator=n}validate(n){return this.validator.validate(n)}}function Cr(o,n){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.getNameMessage()," ")}}function vr(o,n){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.getEmailMessage()," ")}}function Tr(o,n){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.getPasswordMessage()," ")}}function Ar(o,n){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.getRepeatPasswordMessage()," ")}}function wr(o,n){1&o&&(t.TgZ(0,"div",23),t._uU(1," RepeatPassword should be equal to password. "),t.qZA())}Ee.\u0275fac=function(n){return new(n||Ee)(t.Y36(ht))},Ee.\u0275dir=t.lG2({type:Ee,selectors:[["","appUniqueUser",""]],features:[t._Bn([{provide:a.SD,useExisting:(0,t.Gpc)(()=>ht),multi:!0}])]});class fe{constructor(n,e,i){this.router=n,this.authService=e,this.uniqueValidator=i,this.destroy$=new v.xQ,this.hide=!0,this.hideRepeat=!0,this.errorMessage=null}ngOnInit(){this.myForm=new a.cw({fullName:new a.NI("",{validators:[a.kI.required,a.kI.minLength(3),a.kI.maxLength(10)],updateOn:"blur"}),email:new a.NI("",{validators:[a.kI.required,a.kI.email],asyncValidators:[this.uniqueValidator.validate.bind(this.uniqueValidator)],updateOn:"blur"}),password:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"}),repeatPassword:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"})},{validators:Ye,updateOn:"submit"})}get fullName(){return this.myForm.get("fullName")}get email(){return this.myForm.get("email")}get password(){return this.myForm.get("password")}get repeatPassword(){return this.myForm.get("repeatPassword")}getNameMessage(){var n,e,i,r,s,c,d,g,_,x;return(null===(e=null===(n=this.fullName)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Name is required":(null===(r=null===(i=this.fullName)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.minlength)?"Too short: "+JSON.stringify(null===(c=null===(s=this.fullName)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.minlength):(null===(g=null===(d=this.fullName)||void 0===d?void 0:d.errors)||void 0===g?void 0:g.maxlength)?"Too long: "+JSON.stringify(null===(x=null===(_=this.fullName)||void 0===_?void 0:_.errors)||void 0===x?void 0:x.maxlength):"Name is invalid"}getEmailMessage(){var n,e,i,r,s,c;return(null===(e=null===(n=this.email)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Email is required":(null===(r=null===(i=this.email)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.userExists)?"Email Exists":(null===(c=null===(s=this.email)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.email)?"Not a valid email ":"Email is invalid"}getPasswordMessage(){var n,e,i,r,s,c,d,g;return(null===(e=null===(n=this.password)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"Password is required":(null===(r=null===(i=this.password)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.pattern)?"Password is invalid":(null===(c=null===(s=this.password)||void 0===s?void 0:s.errors)||void 0===c?void 0:c.minlength)?"Too short: "+JSON.stringify(null===(g=null===(d=this.password)||void 0===d?void 0:d.errors)||void 0===g?void 0:g.minlength):"Password is invalid"}getRepeatPasswordMessage(){var n,e,i,r;return(null===(e=null===(n=this.repeatPassword)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"RepeatPassword is required":(null===(r=null===(i=this.repeatPassword)||void 0===i?void 0:i.errors)||void 0===r||r.pattern,"RepeatPassword is invalid")}signup(){var n,e,i;this.myForm.invalid||this.authService.registerUser({name:null===(n=this.fullName)||void 0===n?void 0:n.value,email:null===(e=this.email)||void 0===e?void 0:e.value,password:null===(i=this.password)||void 0===i?void 0:i.value}).pipe((0,h.R)(this.destroy$)).subscribe(r=>{this.authService.currentUser=Object.assign({},r.data),this.authService.loginWithJwt(),this.router.navigate(["/"])},r=>{this.errorMessage=r,setTimeout(()=>this.errorMessage="",3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}fe.\u0275fac=function(n){return new(n||fe)(t.Y36(A.F0),t.Y36($.e),t.Y36(ht))},fe.\u0275cmp=t.Xpm({type:fe,selectors:[["app-sign-up"]],decls:39,vars:17,consts:[[1,"main__container"],[1,"signup-card"],[1,"signup-content"],[1,"signup-header"],[1,"signup-form",3,"formGroup","ngSubmit"],["authform","ngForm"],[1,"form-input-wrapper"],["type","text","autofocus","","id","fullName","name","fullName","placeholder","Enter your name","formControlName","fullName",1,"signup-input"],["class","form-input-wrapper error",4,"ngIf"],["type","email","id","email","name","email","placeholder","pat@example.com","formControlName","email",1,"signup-input"],["id","password","name","password","placeholder","Password","formControlName","password",1,"signup-input",3,"type"],["mat-icon-button","","matSuffix","","name","togglePassword",1,"button-in-input",3,"click"],["id","repeatPassword","name","repeatPassword","placeholder","Repeat your password","formControlName","repeatPassword","minlength","6","required","",1,"signup-input",3,"type"],["mat-icon-button","","matSuffix","","name","toggleRepeatPassword",1,"button-in-input",3,"click"],["type","submit","name","submit","value","Signup",1,"signup-btn",3,"disabled"],["type","button","name","reset","value","Reset",1,"signup-btn",3,"click"],[1,"login-link-wrapper"],[1,"login-notice"],["routerLink","/login",1,"login-link"],[1,"signup-aside"],[1,"signup-aside-overlay"],[1,"signup-welcome-text"],[1,"signup-aside-hr"],[1,"form-input-wrapper","error"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"main",2),t.TgZ(3,"span",3),t._uU(4,"Signup"),t.qZA(),t.TgZ(5,"form",4,5),t.NdJ("ngSubmit",function(){return e.signup()}),t.TgZ(7,"div",6),t._UZ(8,"input",7),t.qZA(),t.YNc(9,Cr,2,1,"div",8),t.TgZ(10,"div",6),t._UZ(11,"input",9),t.qZA(),t.YNc(12,vr,2,1,"div",8),t.TgZ(13,"div",6),t._UZ(14,"input",10),t.TgZ(15,"button",11),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(16,"mat-icon"),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,Tr,2,1,"div",8),t.TgZ(19,"div",6),t._UZ(20,"input",12),t.TgZ(21,"button",13),t.NdJ("click",function(){return e.hideRepeat=!e.hideRepeat}),t.TgZ(22,"mat-icon"),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,Ar,2,1,"div",8),t.YNc(25,wr,2,0,"div",8),t.TgZ(26,"div",6),t._UZ(27,"input",14),t.TgZ(28,"input",15),t.NdJ("click",function(){return t.CHM(i),t.MAs(6).reset()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",16),t.TgZ(30,"span",17),t._uU(31,"Already Have an account?"),t.qZA(),t.TgZ(32,"a",18),t._uU(33,"login"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"aside",19),t._UZ(35,"div",20),t.TgZ(36,"h1",21),t._uU(37,"Join Excellent Today!"),t.qZA(),t._UZ(38,"hr",22),t.qZA(),t.qZA(),t.qZA()}if(2&n){const i=t.MAs(6);t.xp6(5),t.Q6J("formGroup",e.myForm),t.xp6(4),t.Q6J("ngIf",(null==e.fullName?null:e.fullName.touched)&&(null==e.fullName?null:e.fullName.invalid)),t.xp6(3),t.Q6J("ngIf",(null==e.email?null:e.email.touched)&&(null==e.email?null:e.email.invalid)),t.xp6(2),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",(null==e.password?null:e.password.touched)&&(null==e.password?null:e.password.invalid)),t.xp6(2),t.Q6J("type",e.hideRepeat?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide repeatPassword")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hideRepeat?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",(null==e.repeatPassword?null:e.repeatPassword.touched)&&(null==e.repeatPassword?null:e.repeatPassword.invalid)),t.xp6(1),t.Q6J("ngIf",(null==e.myForm?null:e.myForm.touched)&&(null==e.myForm?null:e.myForm.invalid)&&(null==e.repeatPassword?null:e.repeatPassword.value.length)>0&&(null==e.myForm||null==e.myForm.errors?null:e.myForm.errors.identifyPassword)),t.xp6(2),t.ekj("btn-disabled",!i.form.valid),t.Q6J("disabled",!i.form.valid)}},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,u.O5,C.lW,f.R9,y.Hw,a.wO,a.Q7,A.yS],styles:[".main__container[_ngcontent-%COMP%]{height:90%;width:100%;display:flex;justify-content:center;align-items:center;overflow:hidden}.signup-card[_ngcontent-%COMP%]{position:relative;display:flex;background-color:#fff;border-radius:10px;box-shadow:0 0 20px #0000001a;width:85%;min-height:80vh;animation:fadein 1s ease-in-out}.signup-content[_ngcontent-%COMP%]{flex:2 2;display:flex;flex-flow:column;justify-content:center;align-items:center;animation:fadein 1s ease-in-out;min-height:100%}.signup-header[_ngcontent-%COMP%]{position:relative;text-align:center;top:1.5rem;font-size:2.5rem;color:#0c1066;letter-spacing:.2rem;font-weight:bold;animation:slidedown 1s ease-in-out}.signup-form[_ngcontent-%COMP%]{position:relative;top:2.5rem;display:flex;flex-flow:column;width:80%;align-items:center;animation:slidedown 1s ease-in-out}.form-input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;text-align:left;margin-left:1rem;padding-left:8px}.form-input-wrapper.error[_ngcontent-%COMP%]{font-size:14px}.signup-input[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;border-radius:2rem;outline:none;border:none;box-shadow:0 0 1rem #0000ff4d;width:100%}.button-in-input[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;height:30px;font-size:30px;color:#0c1066;transform:translateY(15px)}.signup-aside[_ngcontent-%COMP%]{animation:fadein 2s ease-in-out;flex:3 3;display:flex;justify-content:flex-end;flex-flow:column;min-height:100%;border-radius:0 10px 10px 0;background:url(https://source.unsplash.com/random/1200x900?station) no-repeat center center;background-size:cover;position:relative}.signup-aside-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#00000026;border-radius:0 10px 10px 0}.signup-aside-hr[_ngcontent-%COMP%]{height:.5rem;width:8rem;border:none;outline:none;background-color:#fff;position:relative;z-index:5;margin:0 0 8rem 3rem;animation:slideright 1s ease-out}.signup-welcome-text[_ngcontent-%COMP%]{color:#fff;letter-spacing:.03rem;margin:0 0 2rem 3rem;font-size:2.75rem;position:relative;z-index:5;animation:slideright 1s ease-out}.signup-btn[_ngcontent-%COMP%]{background-color:#00ff9b;padding:1rem;border-radius:2rem;outline:none;border:none;color:#fff;font-size:1.1rem;cursor:pointer;margin-top:1.5rem;width:40%;box-shadow:0 0 2rem #0000ff1a}.signup-btn[_ngcontent-%COMP%] ~ .signup-btn[_ngcontent-%COMP%]{margin-left:1rem}.signup-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#03a9f4,#00ff9b)}.signup-input[_ngcontent-%COMP%]::placeholder{color:#39437a;font-size:.9rem}.btn-disabled[_ngcontent-%COMP%]{background-color:#d3d3d3}.btn-disabled[_ngcontent-%COMP%]:hover{background:lightgray}.login-link-wrapper[_ngcontent-%COMP%]{margin-top:3rem;animation:slideup 1s ease-in-out;color:#333}.login-link[_ngcontent-%COMP%]{text-transform:uppercase;margin-top:1rem;text-decoration:none;color:#ff3a82;margin-left:1rem}@media screen and (max-width: 1279px){.signup-aside[_ngcontent-%COMP%]{display:none}}"]});class qt{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/customers",this.createDate=null}getAllUnauthorizedCustomers(){const n=`${this.configUrl}?isAuthorized=false`;return this.http.get(n)}getAllAuthorizedCustomers(){const n=`${this.configUrl}?isAuthorized=true`;return this.http.get(n)}requestNewAndUnAuthorizedCustomers(){var n;const e=`${this.configUrl}?isAuthorized=false&createDate=`+(null===(n=this.createDate)||void 0===n?void 0:n.toUTCString());return this.http.get(e).pipe((0,rt.U)(i=>i),(0,ut.K)(i=>((0,Ie._)(i),(0,S.of)([]))))}getCustomer(n){const e=`${this.configUrl}/${n}`;return this.http.get(e)}updateCustomer(n,e){const i=`${this.configUrl}/${n}`;return this.http.put(i,e)}deleteCustomer(n){const e=`${this.configUrl}/${n}`;return this.http.delete(e)}getCustomers(){const n=P.N.apiUrl+"/customers";return this.http.get(n)}addCustomer(n){return this.http.post(this.configUrl,n)}}qt.\u0275fac=function(n){return new(n||qt)(t.LFG(b.eN))},qt.\u0275prov=t.Yz7({token:qt,factory:qt.\u0275fac});var wn=l(6682),yr=l(9773),br=l(6736),Mr=l(3653),Or=l(7349),_t=l(5939);function Pr(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-list-item"),t._UZ(2,"img",5),t.TgZ(3,"h3",6),t._uU(4),t.qZA(),t.TgZ(5,"p",6),t._uU(6),t.qZA(),t.TgZ(7,"p",6),t.TgZ(8,"span",7),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"span",8),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).frozeCustomer(s._id)}),t._uU(12,"UnAuthorize"),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"mat-divider"),t.BQk()}if(2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("src",i.getImageSrc(e._id),t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.Q6J("ngClass",e.isAuthorized?"authorized":"unauthorized"),t.xp6(1),t.AsE(" Authorized: \xa0",e.isAuthorized," \xa0\xa0",e.credit," ")}}function qr(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-list"),t.YNc(2,Pr,14,6,"ng-container",4),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.customers)("ngForTrackBy",e.trackPipelineId)}}function Ur(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"No data meet the selection criteria"),t.qZA())}function kr(o,n){if(1&o&&t._UZ(0,"app-error",9),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}class Ze{constructor(n){this.customerSrv=n,this.destroy$=new v.xQ,this.customers=[],this.errorMessage=null}ngOnInit(){this.customerSrv.getAllAuthorizedCustomers().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.customers=n},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=null},3e3)})}trackPipelineId(n,e){return e._id||""}getImageSrc(n=""){return P.N.imageUrl+"/customers/"+n+".jpg"}frozeCustomer(n=""){const e=this.customers.findIndex(i=>i._id===n);this.customerSrv.updateCustomer(n,{isAuthorized:!1}).pipe((0,h.R)(this.destroy$)).subscribe(i=>{e>=0&&this.customers.splice(e,1)},i=>{this.errorMessage=i,setTimeout(()=>{this.errorMessage=null},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function Dr(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"mat-divider"),t.TgZ(2,"mat-list-item"),t._UZ(3,"img",8),t.TgZ(4,"h3",9),t._uU(5),t.qZA(),t.TgZ(6,"p",9),t._uU(7),t.qZA(),t.TgZ(8,"p",9),t.TgZ(9,"span",10),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.Q6J("ngClass",e.isAuthorized?"authorized":"unauthorized"),t.xp6(1),t.AsE(" Authorized: \xa0",e.isAuthorized," \xa0\xa0",e.credit," ")}}function Sr(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-list"),t.YNc(2,Dr,11,5,"ng-container",7),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.customers)("ngForTrackBy",e.trackPipelineId)}}function Ir(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"No data meet the selection criteria"),t.qZA())}function Nr(o,n){if(1&o&&t._UZ(0,"app-error",11),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Ze.\u0275fac=function(n){return new(n||Ze)(t.Y36(K))},Ze.\u0275cmp=t.Xpm({type:Ze,selectors:[["app-pipeline-authorized"]],decls:5,vars:3,consts:[[1,"list-wrapper"],[4,"ngIf","ngIfElse"],["noData",""],[3,"message",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["matListAvatar","","alt","customer image",3,"src"],["matLine",""],[3,"ngClass"],[1,"unauthorize-button",3,"click"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,qr,3,2,"div",1),t.YNc(2,Ur,2,0,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,kr,1,1,"app-error",3)),2&n){const i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.customers.length>=1)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",e.errorMessage)}},directives:[u.O5,I.i$,u.sg,I.Tg,I.eA,mt.X2,u.mk,B.oO,it.d,q],styles:[".mat-tab-group[_ngcontent-%COMP%]{height:100%;min-height:400px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.list-wrapper[_ngcontent-%COMP%]{width:100%;margin:16px auto;min-height:300px}.refresh-button[_ngcontent-%COMP%]{margin-bottom:12px!important}.unauthorize-button[_ngcontent-%COMP%]{padding:4px;font-size:14px;border-radius:8px;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;transition:all .3s}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}@media screen and (max-width: 800px){.list-wrapper[_ngcontent-%COMP%]{width:100%;margin:16px auto}}"]});class xe{constructor(n){this.customerSrv=n,this.destroy$=new v.xQ,this.initCustomers=[],this.customers=[],this.errorMessage=null,this.criteria=new a.NI}ngOnInit(){this.customerSrv.getCustomers().pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.initCustomers=n,this.customers=[...this.initCustomers]},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=null},3e3)})}trackPipelineId(n,e){return e._id}search(){if(this.criteria.value.trim().length>0){const n=this.criteria.value.trim().toLowerCase();this.customers=this.initCustomers.filter(e=>e.name.toLowerCase().includes(n))}else this.customers=[...this.initCustomers]}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function Fr(o,n){if(1&o&&(t.TgZ(0,"mat-icon"),t.ALo(1,"async"),t._uU(2,"notifications_active"),t.qZA(),t._uU(3," Unauthorized ")),2&o){const e=t.oxw();t.ekj("tab-notification-icon",t.lcZ(1,2,e.showNotification$))}}function Qr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"p",8),t.TgZ(1,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).refreshDate()}),t._uU(2," Refresh"),t.qZA(),t.TgZ(3,"span",10),t._uU(4,"New client registered"),t.qZA(),t._UZ(5,"mat-divider"),t.qZA()}}function Jr(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-list-item"),t._UZ(2,"img",12),t.TgZ(3,"h3",13),t._uU(4),t.qZA(),t.TgZ(5,"p",13),t._uU(6),t.qZA(),t.TgZ(7,"p",13),t.TgZ(8,"span",14),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"span",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).authorizeCustomer(s._id)}),t._uU(12,"Authorize"),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"mat-divider"),t.BQk()}if(2&o){const e=n.$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("src",i.getImageSrc(e._id),t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.Q6J("ngClass",e.isAuthorized?"authorized":"unauthorized"),t.xp6(1),t.AsE(" Authorized: \xa0",e.isAuthorized," \xa0\xa0",e.credit," ")}}function Lr(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-list"),t.YNc(2,Jr,14,6,"ng-container",11),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.customers)("ngForTrackBy",e.trackPipelineId)}}function Yr(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"No data meet the selection criteria"),t.qZA())}function Er(o,n){if(1&o&&(t.TgZ(0,"div",4),t.YNc(1,Qr,6,0,"p",5),t.ALo(2,"async"),t.YNc(3,Lr,3,2,"div",6),t.YNc(4,Yr,2,0,"ng-template",null,7,t.W1O),t.qZA()),2&o){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,i.showNotification$)),t.xp6(2),t.Q6J("ngIf",i.customers.length>=1)("ngIfElse",e)}}function Rr(o,n){1&o&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA(),t._uU(2," Authorized"))}function $r(o,n){1&o&&t._UZ(0,"app-pipeline-authorized")}function zr(o,n){1&o&&(t.TgZ(0,"mat-icon",16),t._uU(1,"search"),t.qZA(),t._uU(2," All"))}function Br(o,n){1&o&&t._UZ(0,"app-pipeline-all")}function Hr(o,n){if(1&o&&t._UZ(0,"app-error",17),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}xe.\u0275fac=function(n){return new(n||xe)(t.Y36(K))},xe.\u0275cmp=t.Xpm({type:xe,selectors:[["app-pipeline-all"]],decls:11,vars:4,consts:[[1,"list-wrapper",2,"padding","8px"],[1,"search-wrapper"],["type","text","placeholder","Enter customer name","maxlength","50","autofocus","",3,"formControl"],["mat-raised-button","","color","accent",1,"refresh-button",3,"click"],[4,"ngIf","ngIfElse"],["noData",""],[3,"message",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["matListAvatar","","src","https://source.unsplash.com/random/100x100?car","alt","..."],["matLine",""],[3,"ngClass"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t._UZ(2,"input",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return e.search()}),t.TgZ(4,"mat-icon"),t._uU(5,"search"),t.qZA(),t._uU(6," Search "),t.qZA(),t.qZA(),t.YNc(7,Sr,3,2,"div",4),t.YNc(8,Ir,2,0,"ng-template",null,5,t.W1O),t.qZA(),t.YNc(10,Nr,1,1,"app-error",6)),2&n){const i=t.MAs(9);t.xp6(2),t.Q6J("formControl",e.criteria),t.xp6(5),t.Q6J("ngIf",e.customers.length>=1)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",e.errorMessage)}},directives:[a.Fj,a.nD,a.JJ,a.oH,C.lW,y.Hw,u.O5,I.i$,u.sg,it.d,I.Tg,I.eA,mt.X2,u.mk,B.oO,q],styles:[".mat-tab-group[_ngcontent-%COMP%]{height:100%;min-height:400px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.list-wrapper[_ngcontent-%COMP%]{width:100%;margin:16px auto;min-height:300px}.search-wrapper[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;padding-bottom:8px}.search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#444;background-color:#fff;padding-left:8px;border-radius:2rem;width:200px;height:36px;font-size:16px;transition:all .2s}.search-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin-left:8px;align-self:center}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}@media screen and (max-width: 800px){.list-wrapper[_ngcontent-%COMP%]{width:100%;margin:16px auto}}"]});class Ce{constructor(n){this.customerSrv=n,this.destroy$=new v.xQ,this.customers=[],this.updateClick$=new v.xQ,this.errorMessage=null}ngOnInit(){this.customerSrv.createDate=new Date;const n=this.getCustomerOnce(),e=this.updateClick$.pipe((0,yr.zg)(()=>this.getCustomerOnce()),(0,Gt.b)(()=>{this.customerSrv.createDate=new Date}),(0,h.R)(this.destroy$));(0,wn.T)(n,e).pipe((0,h.R)(this.destroy$)).subscribe(s=>{this.customers=s},s=>{this.errorMessage=s,setTimeout(()=>{this.errorMessage=null},3e3)});const i=this.getNew(),r=this.updateClick$.pipe((0,br.h)(!1));this.showNotification$=(0,wn.T)(i,r)}trackPipelineId(n,e){return e._id||""}getImageSrc(n=""){return P.N.imageUrl+"/customers/"+n+".jpg"}refreshDate(){this.updateClick$.next()}getCustomerOnce(){return this.customerSrv.getAllUnauthorizedCustomers()}getNew(){return this.newCustomers.pipe((0,Mr.T)(1),(0,E.w)(n=>n.length>0?(0,S.of)(!0):(0,S.of)(!1)),(0,h.R)(this.destroy$))}get newCustomers(){if(!this.cacheCustomers$){const n=(0,St.H)(0,1e4).pipe((0,h.R)(this.destroy$));this.cacheCustomers$=n.pipe((0,E.w)(()=>this.customerSrv.requestNewAndUnAuthorizedCustomers()),(0,Or.d)(1),(0,h.R)(this.destroy$))}return this.cacheCustomers$}authorizeCustomer(n=""){const e=this.customers.findIndex(i=>i._id===n);e>=0&&this.customers.splice(e,1),this.customerSrv.updateCustomer(n,{isAuthorized:!0}).pipe((0,h.R)(this.destroy$)).subscribe(i=>{},i=>{this.errorMessage=i,setTimeout(()=>{this.errorMessage=null},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Ce.\u0275fac=function(n){return new(n||Ce)(t.Y36(qt))},Ce.\u0275cmp=t.Xpm({type:Ce,selectors:[["app-pipelines"]],features:[t._Bn([qt])],decls:13,vars:1,consts:[[1,"first-level-header"],["mat-tab-label",""],["matTabContent",""],[3,"message",4,"ngIf"],[1,"list-wrapper",2,"padding","8px"],["class","search-wrapper",4,"ngIf"],[4,"ngIf","ngIfElse"],["noData",""],[1,"search-wrapper"],["mat-raised-button","","color","accent",1,"refresh-button",3,"click"],[2,"margin-left","8px"],[4,"ngFor","ngForOf","ngForTrackBy"],["matListAvatar","","alt","...",3,"src"],["matLine",""],[3,"ngClass"],[1,"authorize-button",3,"click"],[1,"example-tab-icon"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"h2",0),t._uU(1,"Pipeline Management"),t.qZA(),t.TgZ(2,"mat-tab-group"),t.TgZ(3,"mat-tab"),t.YNc(4,Fr,4,4,"ng-template",1),t.YNc(5,Er,6,5,"ng-template",2),t.qZA(),t.TgZ(6,"mat-tab"),t.YNc(7,Rr,3,0,"ng-template",1),t.YNc(8,$r,1,0,"ng-template",2),t.qZA(),t.TgZ(9,"mat-tab"),t.YNc(10,zr,3,0,"ng-template",1),t.YNc(11,Br,1,0,"ng-template",2),t.qZA(),t.qZA(),t.YNc(12,Hr,1,1,"app-error",3)),2&n&&(t.xp6(12),t.Q6J("ngIf",e.errorMessage))},directives:[_t.SP,_t.uX,_t.uD,_t.Vc,u.O5,y.Hw,C.lW,it.d,I.i$,u.sg,I.Tg,I.eA,mt.X2,u.mk,B.oO,Ze,xe,q],pipes:[u.Ov],styles:[".mat-tab-group[_ngcontent-%COMP%]{height:100%;min-height:400px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.list-wrapper[_ngcontent-%COMP%]{width:100%;margin:16px auto;padding:8px;min-height:300px}.refresh-button[_ngcontent-%COMP%]{margin-bottom:12px!important}.authorize-button[_ngcontent-%COMP%]{padding:4px;font-size:14px;border-radius:8px;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;transition:all .3s}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}@media screen and (max-width: 800px){.list-wrapper[_ngcontent-%COMP%]{width:100%;margin:16px auto}}"]});class F{constructor(n,e){this.router=n,this.authService=e}canActivate(n,e){var i,r,s;return(null===(i=this.authService.currentUser)||void 0===i?void 0:i.name)?!(null===(r=this.authService.currentUser)||void 0===r?void 0:r.name)||!1!==(null===(s=this.authService.currentUser)||void 0===s?void 0:s.isSalesperson)||(window.alert("You are not authorized to visit this page.Please contact your supervisor."),this.router.navigate(["/home"]),!1):(window.alert("You need log in."),this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)}}function Wr(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getErrorMessage())}}function Kr(o,n){if(1&o&&(t.TgZ(0,"div",7),t.TgZ(1,"mat-form-field",8),t.TgZ(2,"mat-label"),t._uU(3,"Enter your email"),t.qZA(),t._UZ(4,"input",9),t.YNc(5,Wr,2,1,"mat-error",4),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("formControl",e.email),t.xp6(1),t.Q6J("ngIf",e.email.invalid)}}function Xr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().sendEmail()}),t._uU(2," Send "),t.qZA(),t.qZA()}}function Vr(o,n){if(1&o&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.successMessage," ")}}function ta(o,n){if(1&o&&t._UZ(0,"app-error",12),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}F.\u0275fac=function(n){return new(n||F)(t.LFG(A.F0),t.LFG($.e))},F.\u0275prov=t.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"});class ve{constructor(n){this.service=n,this.destroy$=new v.xQ,this.email=new a.NI("",[a.kI.required,a.kI.email]),this.errorMessage=null,this.successMessage=null}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}sendEmail(){this.email.valid&&this.service.sendResetPasswordEmail(this.email.value).pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.successMessage=n.message},n=>{this.errorMessage=n,setTimeout(()=>{this.errorMessage=null},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function ea(o,n){if(1&o&&(t.TgZ(0,"div",11),t.TgZ(1,"a",12),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.successMessage)}}function na(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Enter your password"),t.qZA(),t._UZ(4,"input",13),t.TgZ(5,"button",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hide=!r.hide}),t.TgZ(6,"mat-icon"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility")}}function oa(o,n){1&o&&(t.TgZ(0,"div",14),t._uU(1," RepeatPassword should be equal to password. "),t.qZA())}function ia(o,n){if(1&o&&t._UZ(0,"app-error",15),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}ve.\u0275fac=function(n){return new(n||ve)(t.Y36($.e))},ve.\u0275cmp=t.Xpm({type:ve,selectors:[["app-forget-password"]],decls:10,vars:4,consts:[[1,"main_container"],[1,"content"],[1,"form-header"],["class","container",4,"ngIf"],[4,"ngIf"],["class","information-text",4,"ngIf"],[3,"message",4,"ngIf"],[1,"container"],["appearance","fill"],["matInput","","placeholder","Enter your email address here","required","",3,"formControl"],["mat-raised-button","","color","accent",3,"click"],[1,"information-text"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"main",1),t.TgZ(3,"form"),t.TgZ(4,"h2",2),t._uU(5,"Send Reset Password Email"),t.qZA(),t.YNc(6,Kr,6,2,"div",3),t.YNc(7,Xr,3,0,"div",4),t.YNc(8,Vr,2,1,"div",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(9,ta,1,1,"app-error",6)),2&n&&(t.xp6(6),t.Q6J("ngIf",!e.successMessage),t.xp6(1),t.Q6J("ngIf",!e.successMessage),t.xp6(1),t.Q6J("ngIf",e.successMessage),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[T.a8,a._Y,a.JL,a.F,u.O5,f.KE,f.hX,z.Nt,a.Fj,a.Q7,a.JJ,a.oH,f.TO,C.lW,q],styles:[".main_container[_ngcontent-%COMP%]{width:80%;margin:16px auto;max-width:600px;text-align:center}.form-header[_ngcontent-%COMP%]{letter-spacing:.2rem}.information-text[_ngcontent-%COMP%]{font-size:1rem}"]});class Te{constructor(n,e){this.route=n,this.authService=e,this.destroy$=new v.xQ,this.hide=!0,this.hideRepeat=!0,this.token="",this.successMessage=null,this.errorMessage=null}ngOnInit(){this.myForm=new a.cw({password:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"}),repeatPassword:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"})},{validators:Ye,updateOn:"submit"}),this.route.queryParams.pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.token=n.token})}get password(){return this.myForm.get("password")}get repeatPassword(){return this.myForm.get("repeatPassword")}getRepeatNewPasswordErrorMessage(){var n,e,i,r;return(null===(e=null===(n=this.repeatPassword)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"repeat-new-password is required":(null===(r=null===(i=this.repeatPassword)||void 0===i?void 0:i.errors)||void 0===r||r.pattern,"repeat-new-password is invalid")}resetPassword(){var n;this.myForm.invalid||this.authService.resetPassword(null===(n=this.password)||void 0===n?void 0:n.value,this.token).pipe((0,h.R)(this.destroy$)).subscribe(e=>{this.errorMessage=null,this.successMessage=e.message},e=>{this.successMessage=null,this.errorMessage=e,setTimeout(()=>this.errorMessage="",3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function ra(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getOldPasswordErrorMessage())}}function aa(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getNewPasswordErrorMessage())}}function sa(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getRepeatNewPasswordErrorMessage())}}function la(o,n){1&o&&(t.TgZ(0,"div",20),t._uU(1," RepeatPassword should be equal to password. "),t.qZA())}function ca(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"mat-form-field",10),t.TgZ(3,"mat-label"),t._uU(4,"Enter your old password"),t.qZA(),t._UZ(5,"input",11),t.TgZ(6,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hideOld=!r.hideOld}),t.TgZ(7,"mat-icon"),t._uU(8),t.qZA(),t.qZA(),t.YNc(9,ra,2,1,"mat-error",13),t.qZA(),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"mat-form-field",10),t.TgZ(12,"mat-label"),t._uU(13,"Enter your new password"),t.qZA(),t._UZ(14,"input",14),t.TgZ(15,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hideNew=!r.hideNew}),t.TgZ(16,"mat-icon"),t._uU(17),t.qZA(),t.qZA(),t.YNc(18,aa,2,1,"mat-error",13),t.qZA(),t.qZA(),t.TgZ(19,"div",9),t.TgZ(20,"mat-form-field",10),t.TgZ(21,"mat-label"),t._uU(22,"Repeat your new password"),t.qZA(),t._UZ(23,"input",15),t.TgZ(24,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hideRepeatNew=!r.hideRepeatNew}),t.TgZ(25,"mat-icon"),t._uU(26),t.qZA(),t.qZA(),t.YNc(27,sa,2,1,"mat-error",13),t.qZA(),t.qZA(),t.YNc(28,la,2,0,"div",16),t.TgZ(29,"div",17),t.TgZ(30,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().changePassword()}),t._uU(31," Submit "),t.qZA(),t.TgZ(32,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(4).reset()}),t._uU(33," Reset "),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("type",e.hideOld?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hideOld),t.xp6(2),t.Oqu(e.hideOld?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==e.oldPassword?null:e.oldPassword.invalid),t.xp6(5),t.Q6J("type",e.hideNew?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hideNew),t.xp6(2),t.Oqu(e.hideNew?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==e.password?null:e.password.invalid),t.xp6(5),t.Q6J("type",e.hideRepeatNew?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hideRepeatNew),t.xp6(2),t.Oqu(e.hideRepeatNew?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==e.repeatPassword?null:e.repeatPassword.invalid),t.xp6(1),t.Q6J("ngIf",(null==e.myForm?null:e.myForm.touched)&&(null==e.myForm?null:e.myForm.invalid)&&(null==e.repeatPassword?null:e.repeatPassword.value.length)>0&&(null==e.myForm||null==e.myForm.errors?null:e.myForm.errors.identifyPassword))}}function da(o,n){if(1&o&&(t.TgZ(0,"div",21),t.TgZ(1,"a",22),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.hij("",e.successMessage," ")}}function pa(o,n){if(1&o&&t._UZ(0,"app-error",23),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Te.\u0275fac=function(n){return new(n||Te)(t.Y36(A.gz),t.Y36($.e))},Te.\u0275cmp=t.Xpm({type:Te,selectors:[["app-reset-password"]],decls:21,vars:9,consts:[[1,"main_container"],[1,"content"],[3,"formGroup"],[1,"form-header"],["class","input-container",4,"ngIf"],["appearance","fill"],["matInput","","required","","maxlength","20","formControlName","repeatPassword",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["class","form-error",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"message",4,"ngIf"],[1,"input-container"],["routerLink","['/login']",1,"nav-link"],["matInput","","required","","maxlength","20","formControlName","password",3,"type"],[1,"form-error"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"main",1),t.TgZ(3,"form",2),t.TgZ(4,"h2",3),t._uU(5,"Reset Password"),t.qZA(),t.YNc(6,ea,3,1,"div",4),t.YNc(7,na,8,4,"div",4),t.TgZ(8,"div"),t.TgZ(9,"mat-form-field",5),t.TgZ(10,"mat-label"),t._uU(11,"Repeat your password"),t.qZA(),t._UZ(12,"input",6),t.TgZ(13,"button",7),t.NdJ("click",function(){return e.hideRepeat=!e.hideRepeat}),t.TgZ(14,"mat-icon"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(16,oa,2,0,"div",8),t.TgZ(17,"div"),t.TgZ(18,"button",9),t.NdJ("click",function(){return e.resetPassword()}),t._uU(19," Reset "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,ia,1,1,"app-error",10)),2&n&&(t.xp6(3),t.Q6J("formGroup",e.myForm),t.xp6(3),t.Q6J("ngIf",e.successMessage),t.xp6(1),t.Q6J("ngIf",!e.successMessage),t.xp6(5),t.Q6J("type",e.hideRepeat?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hideRepeat?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",(null==e.myForm?null:e.myForm.touched)&&(null==e.myForm?null:e.myForm.invalid)&&(null==e.repeatPassword?null:e.repeatPassword.value.length)>0&&(null==e.myForm||null==e.myForm.errors?null:e.myForm.errors.identifyPassword)),t.xp6(4),t.Q6J("ngIf",e.errorMessage))},directives:[T.a8,a._Y,a.JL,a.sg,u.O5,f.KE,f.hX,z.Nt,a.Fj,a.Q7,a.nD,a.JJ,a.u,C.lW,f.R9,y.Hw,A.yS,q],styles:[".main_container[_ngcontent-%COMP%]{width:80%;max-width:600px;margin:0 auto;text-align:center}.form-header[_ngcontent-%COMP%]{font-size:2rem;display:block;margin-top:1rem;margin-bottom:2rem;color:#0c1066;letter-spacing:.2rem;font-weight:bold;animation:fadein 1.75s ease-in-out}.form-error[_ngcontent-%COMP%]{padding-left:8px;color:red}"]});class Ae{constructor(n){this.authService=n,this.destroy$=new v.xQ,this.hideOld=!0,this.hideNew=!0,this.hideRepeatNew=!0,this.errorMessage=null,this.successMessage=null}ngOnInit(){this.myForm=new a.cw({oldPassword:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"}),password:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"}),repeatPassword:new a.NI("",{validators:[a.kI.required,a.kI.minLength(6)],updateOn:"blur"})},{validators:Ye,updateOn:"submit"})}get oldPassword(){return this.myForm.get("oldPassword")}get password(){return this.myForm.get("password")}get repeatPassword(){return this.myForm.get("repeatPassword")}getOldPasswordErrorMessage(){var n,e,i,r;return(null===(e=null===(n=this.oldPassword)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"old password is required":(null===(r=null===(i=this.oldPassword)||void 0===i?void 0:i.errors)||void 0===r||r.pattern,"old password is invalid")}getNewPasswordErrorMessage(){var n,e,i,r;return(null===(e=null===(n=this.password)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"new password is required":(null===(r=null===(i=this.password)||void 0===i?void 0:i.errors)||void 0===r||r.pattern,"new password is invalid")}getRepeatNewPasswordErrorMessage(){var n,e,i,r;return(null===(e=null===(n=this.repeatPassword)||void 0===n?void 0:n.errors)||void 0===e?void 0:e.required)?"repeat-new-password is required":(null===(r=null===(i=this.repeatPassword)||void 0===i?void 0:i.errors)||void 0===r||r.pattern,"repeat-new-password is invalid")}changePassword(){var n,e;this.myForm.invalid||this.authService.updatePassword(null===(n=this.oldPassword)||void 0===n?void 0:n.value,null===(e=this.password)||void 0===e?void 0:e.value).pipe((0,h.R)(this.destroy$)).subscribe(i=>{this.successMessage=i.message},i=>{this.errorMessage=i,setTimeout(()=>this.errorMessage="",3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Ae.\u0275fac=function(n){return new(n||Ae)(t.Y36($.e))},Ae.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-password"]],decls:10,vars:4,consts:[[1,"main_container"],[1,"content"],[3,"formGroup","ngSubmit"],["changeForm","ngForm"],[1,"form-header"],["class","form-input-section",4,"ngIf"],["class","information-text",4,"ngIf"],[3,"message",4,"ngIf"],[1,"form-input-section"],[1,"form-input-container"],["appearance","fill"],["matInput","","required","","maxlength","100","formControlName","oldPassword",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","required","","maxlength","20","formControlName","password",3,"type"],["matInput","","required","","maxlength","100","formControlName","repeatPassword",3,"type"],["class","form-error",4,"ngIf"],[1,"form-input-container",2,"display","flex","justify-content","center"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"form-error"],[1,"information-text"],["routerLink","/home",1,"home-link"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"main",1),t.TgZ(3,"form",2,3),t.NdJ("ngSubmit",function(){return e.changePassword()}),t.TgZ(5,"h2",4),t._uU(6,"Change Password"),t.qZA(),t.YNc(7,ca,34,16,"div",5),t.YNc(8,da,3,1,"div",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(9,pa,1,1,"app-error",7)),2&n&&(t.xp6(3),t.Q6J("formGroup",e.myForm),t.xp6(4),t.Q6J("ngIf",!e.successMessage),t.xp6(1),t.Q6J("ngIf",e.successMessage),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[T.a8,a._Y,a.JL,a.sg,u.O5,f.KE,f.hX,z.Nt,a.Fj,a.Q7,a.nD,a.JJ,a.u,C.lW,f.R9,y.Hw,f.TO,A.yS,q],styles:[".main_container[_ngcontent-%COMP%]{width:80%;margin:16px auto;max-width:600px;text-align:center}.form-header[_ngcontent-%COMP%]{letter-spacing:.2rem}.form-input-container[_ngcontent-%COMP%] + .form-input-container[_ngcontent-%COMP%]{margin-top:16px}.mat-raised-button[_ngcontent-%COMP%] ~ .mat-raised-button[_ngcontent-%COMP%]{margin-left:16px!important}.home-link[_ngcontent-%COMP%]{font-size:1rem}.form-error[_ngcontent-%COMP%]{padding-left:8px}"]});var ua=l(1571);class Lt{constructor(n){this.http=n,this.configUrl=P.N.apiUrl+"/reports"}getSpecificMonthProductSalesData(n,e){const i=`${this.configUrl}/monthly-product?year=${n}&month=${e}`;return this.http.get(i)}getSpecificMonthCustomerSalesData(n,e){const i=`${this.configUrl}/monthly-customer?year=${n}&month=${e}`;return this.http.get(i)}getSpecificMonthSalespersonSalesData(n,e){const i=`${this.configUrl}/monthly-salesperson?year=${n}&month=${e}`;return this.http.get(i)}getSpecificMonthInitSalesData(n,e){const i=`${this.configUrl}/monthly-initdata?year=${n}&month=${e}`;return this.http.get(i)}}function ma(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index;t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.value)}}function ga(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index,r=t.oxw();t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(r.barData.seriesData[i])}}function ha(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index,r=t.oxw();t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(r.lineData.seriesData[i])}}function _a(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"No."),t.qZA())}function fa(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.position," ")}}function Za(o,n){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Date"),t.qZA())}function xa(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.orderDate)," ")}}function Ca(o,n){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Product"),t.qZA())}function va(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.productName," ")}}function Ta(o,n){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Customer"),t.qZA())}function Aa(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.customerName," ")}}function wa(o,n){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Amount"),t.qZA())}function ya(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.amount)}}function ba(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Salesperson"),t.qZA())}function Ma(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.salespersonName," ")}}function Oa(o,n){1&o&&t._UZ(0,"tr",34)}function Pa(o,n){1&o&&t._UZ(0,"tr",35)}function qa(o,n){if(1&o&&(t.TgZ(0,"table",19),t.ynx(1,20),t.YNc(2,_a,2,0,"th",21),t.YNc(3,fa,2,1,"td",22),t.BQk(),t.ynx(4,23),t.YNc(5,Za,2,0,"th",24),t.YNc(6,xa,3,3,"td",22),t.BQk(),t.ynx(7,25),t.YNc(8,Ca,2,0,"th",24),t.YNc(9,va,2,1,"td",22),t.BQk(),t.ynx(10,26),t.YNc(11,Ta,2,0,"th",24),t.YNc(12,Aa,2,1,"td",22),t.BQk(),t.ynx(13,27),t.YNc(14,wa,2,0,"th",24),t.YNc(15,ya,2,1,"td",22),t.BQk(),t.ynx(16,28),t.YNc(17,ba,2,0,"th",21),t.YNc(18,Ma,2,1,"td",22),t.BQk(),t.YNc(19,Oa,1,0,"tr",29),t.YNc(20,Pa,1,0,"tr",30),t.qZA()),2&o){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function Ua(o,n){if(1&o&&t._UZ(0,"app-error",36),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Lt.\u0275fac=function(n){return new(n||Lt)(t.LFG(b.eN))},Lt.\u0275prov=t.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"});const ka=function(){return[5,10,20]};class we{constructor(n){this.dataService=n,this.destroy$=new v.xQ,this.elementData=[],this.errorMessage="",this.queryDate=new Date,this.pieData=[],this.barData={xAxisData:[],seriesData:[]},this.lineData={xAxisData:[],seriesData:[]},this.initOpts={renderer:"svg",width:300,height:300},this.displayedColumns=["position","date","product","customer","amount","sales"],this.dataSource=new p.by}ngOnInit(){const n=this.queryDate.getFullYear(),e=this.queryDate.getMonth();(0,ua.$R)(this.dataService.getSpecificMonthProductSalesData(n,e),this.dataService.getSpecificMonthCustomerSalesData(n,e),this.dataService.getSpecificMonthSalespersonSalesData(n,e),this.dataService.getSpecificMonthInitSalesData(n,e)).pipe((0,h.R)(this.destroy$)).subscribe(i=>{this.productData=i[0],this.customerData=i[1],this.salespersonData=i[2],this.initSalesData=i[3],this.setProductData(),this.setCustomerData(),this.setSalespersonData(),this.setInitSaleData()},i=>{this.errorMessage=i,setTimeout(()=>{this.errorMessage=""},3e3)})}setInitSaleData(){this.initSalesData&&this.initSalesData.length>0&&(this.initSalesData.forEach((n,e)=>{this.elementData.push({position:e+1,orderDate:n.createDate,productName:n.products_info?n.products_info.name:"deleted product",customerName:n.customers_info?n.customers_info.name:"deleted customer",amount:n.amount,salespersonName:n.salespersons_info.name})}),this.dataSource.data=this.elementData,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)}setProductData(){if(this.productData&&this.productData.length>0){const n=[...this.productData];n&&n.length>0&&(this.pieData=[],n.forEach(e=>{this.pieData.push({name:e._id.productName,value:e.totalAmount})}),this.setPieData())}}setPieData(){this.pieOptions={tooltip:{trigger:"item"},series:[{type:"pie",radius:"60%",data:this.pieData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}setCustomerData(){if(this.customerData&&this.customerData.length>0){const n=[...this.customerData];if(n&&n.length>0){let e=[],i=[];n.forEach(r=>{e.push(r._id.customerName),i.push(r.totalAmount)}),this.barData={xAxisData:e,seriesData:i},this.setBarData()}}}setBarData(){var n,e;this.barOptions={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:null===(n=this.barData)||void 0===n?void 0:n.xAxisData,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"Counters",type:"bar",barWidth:"60%",data:null===(e=this.barData)||void 0===e?void 0:e.seriesData}]}}setSalespersonData(){if(this.salespersonData&&this.salespersonData.length>0){const n=[...this.salespersonData];if(n&&n.length>0){let e=[],i=[];n.forEach(r=>{e.push(r._id.salespersonName),i.push(r.totalAmount)}),this.lineData={xAxisData:e,seriesData:i},this.setLineData()}}}setLineData(){var n,e;this.LineOptions={xAxis:{type:"category",data:null===(n=this.lineData)||void 0===n?void 0:n.xAxisData},yAxis:{type:"value"},series:[{data:null===(e=this.lineData)||void 0===e?void 0:e.seriesData,type:"line"}]}}ngAfterViewInit(){}downloadData(){const n=[...this.elementData];if(!(n&&n.length>=1))return;const e=[],i=Object.keys(n[0]);e.push(i),n.forEach(c=>{let d=[];for(const[g,_]of Object.entries(c))d.push(_);e.push(d)});cn(dn(e),"initSalesData.csv","text/csv")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}we.\u0275fac=function(n){return new(n||we)(t.Y36(Lt))},we.\u0275cmp=t.Xpm({type:we,selectors:[["app-report-this-month"]],viewQuery:function(n,e){if(1&n&&(t.Gf(gt.NW,5),t.Gf(J.YE,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.paginator=i.first),t.iGM(i=t.CRH())&&(e.sort=i.first)}},decls:67,vars:15,consts:[[1,"container"],[1,"content-header"],[1,"content"],["mat-align-tabs","start"],["label","By Category"],[1,"content-body"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","50%","fxFlex.lt-md","100%"],["echarts","",3,"initOpts","options"],[4,"ngFor","ngForOf"],["label","By Customer"],["echarts","",3,"options"],["label","By Salesperson"],["label","InitData"],["mat-raised-button","",1,"download-button",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[3,"message",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","product"],["matColumnDef","customer"],["matColumnDef","amount"],["matColumnDef","sales"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"mat-tab-group",3),t.TgZ(6,"mat-tab",4),t.TgZ(7,"mat-card",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t._UZ(10,"div",8),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"h3"),t._uU(13,"Top 10 popular products"),t.qZA(),t.TgZ(14,"table"),t.TgZ(15,"tr"),t.TgZ(16,"th"),t._uU(17,"No."),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Amount($)"),t.qZA(),t.qZA(),t.YNc(22,ma,8,3,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"mat-tab",10),t.TgZ(24,"mat-card",5),t.TgZ(25,"div",6),t.TgZ(26,"div",7),t._UZ(27,"div",11),t.qZA(),t.TgZ(28,"div",7),t.TgZ(29,"h3"),t._uU(30,"Top 10 VIP Customers"),t.qZA(),t.TgZ(31,"table"),t.TgZ(32,"tr"),t.TgZ(33,"th"),t._uU(34,"No."),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Name"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Amount($)"),t.qZA(),t.qZA(),t.YNc(39,ga,8,3,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"mat-tab",12),t.TgZ(41,"mat-card",5),t.TgZ(42,"div",6),t.TgZ(43,"div",7),t._UZ(44,"div",11),t.qZA(),t.TgZ(45,"div",7),t.TgZ(46,"h3"),t._uU(47,"Top 10 Salespersons"),t.qZA(),t.TgZ(48,"table"),t.TgZ(49,"tr"),t.TgZ(50,"th"),t._uU(51,"No."),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Name"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Amount($)"),t.qZA(),t.qZA(),t.YNc(56,ha,8,3,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"mat-tab",13),t.TgZ(58,"mat-card",5),t.TgZ(59,"button",14),t.NdJ("click",function(){return e.downloadData()}),t.TgZ(60,"mat-icon"),t._uU(61,"file_download"),t.qZA(),t._uU(62," Download "),t.qZA(),t.TgZ(63,"div",15),t.YNc(64,qa,21,3,"table",16),t._UZ(65,"mat-paginator",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(66,Ua,1,1,"app-error",18)),2&n&&(t.xp6(2),t.hij(" Sales Data Analyze ( ",t.xi3(3,11,e.queryDate,"MMM y")," ) "),t.xp6(8),t.Q6J("initOpts",e.initOpts)("options",e.pieOptions),t.xp6(12),t.Q6J("ngForOf",e.pieData),t.xp6(5),t.Q6J("options",e.barOptions),t.xp6(12),t.Q6J("ngForOf",e.barData.xAxisData),t.xp6(5),t.Q6J("options",e.LineOptions),t.xp6(12),t.Q6J("ngForOf",e.lineData.xAxisData),t.xp6(8),t.Q6J("ngIf",e.dataSource),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(14,ka)),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[_t.SP,_t.uX,T.a8,w.xw,w.SQ,w.yH,V._w,u.sg,C.lW,y.Hw,u.O5,gt.NW,p.BZ,J.YE,p.w1,p.fO,p.Dz,p.as,p.nj,p.ge,p.ev,J.nU,p.XQ,p.Gk,q],pipes:[u.uU],styles:[".container[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%]{padding:8px}.content-body[_ngcontent-%COMP%]{position:relative;margin-top:8px}.content-body[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{margin-bottom:8px}table[_ngcontent-%COMP%]{width:100%}"]});const gn=["AC fertilizer","AB antifreeze","diesel No1","PD gas","WD30 diesel No2","W-40 Lubricant","Multi Lubricant"],hn=["Maia","Asher","Olivia","Atticus","Amelia","Jack","Charlotte"],_n=["Saint Laurent Hospital","Juif Community","Alibaba Group","Nord Station","Amelia Academy"];function Sa(o=1e4){const n=Array.from({length:o},(d,g)=>function(o){const n=hn[Math.round(Math.random()*(hn.length-1))],e=gn[Math.round(Math.random()*(gn.length-1))],i=_n[Math.round(Math.random()*(_n.length-1))],r=Math.round(11*Math.random()),s=new Date,c=Math.round(27*Math.random());return{position:o,orderDate:new Date(s.getFullYear(),r,c,0,0,0),productName:e,customerName:i,salespersonName:n,amount:Math.round(2e3*Math.random())}}(g+1)),e=[];gn.forEach(d=>{const g=n.filter(x=>x.productName===d);let _=0;g.forEach(x=>{_+=x.amount}),e.push({name:d,value:_})});const i=[],r=[];_n.forEach(d=>{const g=n.filter(x=>x.customerName===d);let _=0;g.forEach(x=>{_+=x.amount}),r.push(d),i.push(_)});const s=[],c=[];return hn.forEach(d=>{const g=n.filter(x=>x.salespersonName===d);let _=0;g.forEach(x=>{_+=x.amount}),c.push(d),s.push(_)}),{initOrders:n,productsData:e,customersData:{names:r,amounts:i},salesData:{names:c,amounts:s}}}class Yt{constructor(){this.items=[],this.worker=new Worker(l.tu(new URL(l.p+l.u("src_app_yearly-data-create_worker_ts"),l.b)))}createProductData(n){const e=new st.X(0);return this.worker.onmessage=({data:i})=>{e.next(i)},this.worker.postMessage(n),e}}Yt.\u0275fac=function(n){return new(n||Yt)},Yt.\u0275prov=t.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"});var yn=l(2613);function Ia(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index;t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.value)}}function Na(o,n){if(1&o&&t._UZ(0,"div",24),2&o){const e=t.oxw();t.Q6J("options",e.barOptions)}}function Fa(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index,r=t.oxw();t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(r.barData.seriesData[i])}}function Qa(o,n){if(1&o&&t._UZ(0,"div",24),2&o){const e=t.oxw();t.Q6J("options",e.lineOptions)}}function Ja(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index,r=t.oxw();t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(r.lineData.seriesData[i])}}function La(o,n){1&o&&(t.TgZ(0,"th",36),t._uU(1,"No."),t.qZA())}function Ya(o,n){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.position," ")}}function Ea(o,n){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Date"),t.qZA())}function Ra(o,n){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.orderDate)," ")}}function $a(o,n){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Product"),t.qZA())}function za(o,n){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.productName," ")}}function Ba(o,n){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Customer"),t.qZA())}function Ha(o,n){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.customerName," ")}}function ja(o,n){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Amount"),t.qZA())}function Ga(o,n){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.amount)}}function Wa(o,n){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Salesperson"),t.qZA())}function Ka(o,n){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.salespersonName," ")}}function Xa(o,n){1&o&&t._UZ(0,"tr",38)}function Va(o,n){1&o&&t._UZ(0,"tr",39)}function ts(o,n){if(1&o&&(t.TgZ(0,"table",25),t.ynx(1,26),t.YNc(2,La,2,0,"th",27),t.YNc(3,Ya,2,1,"td",28),t.BQk(),t.ynx(4,29),t.YNc(5,Ea,2,0,"th",27),t.YNc(6,Ra,3,3,"td",28),t.BQk(),t.ynx(7,30),t.YNc(8,$a,2,0,"th",27),t.YNc(9,za,2,1,"td",28),t.BQk(),t.ynx(10,31),t.YNc(11,Ba,2,0,"th",27),t.YNc(12,Ha,2,1,"td",28),t.BQk(),t.ynx(13,32),t.YNc(14,ja,2,0,"th",27),t.YNc(15,Ga,2,1,"td",28),t.BQk(),t.ynx(16,33),t.YNc(17,Wa,2,0,"th",27),t.YNc(18,Ka,2,1,"td",28),t.BQk(),t.YNc(19,Xa,1,0,"tr",34),t.YNc(20,Va,1,0,"tr",35),t.qZA()),2&o){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function es(o,n){if(1&o&&t._UZ(0,"app-error",40),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}const ns=function(){return[5,10,20]};class ye{constructor(n){this.dataService=n,this.destroy$=new v.xQ,this.elementData=[],this.errorMessage="",this.queryDate=new Date,this.pieData=[],this.barData={xAxisData:[],seriesData:[]},this.lineData={xAxisData:[],seriesData:[]},this.initOpts={renderer:"svg",width:300,height:300},this.displayedColumns=["position","date","product","customer","amount","sales"],this.dataCreateOption=""}ngOnInit(){}clearAllData(){this.productData=void 0,this.customerData=void 0,this.salespersonData=void 0,this.initSalesData=void 0,this.elementData=[],this.errorMessage="",this.pieData=[],this.barData={xAxisData:[],seriesData:[]},this.lineData={xAxisData:[],seriesData:[]},this.pieOptions=void 0,this.lineOptions=void 0,this.barOptions=void 0,this.dataSource=void 0}getDataFromFunction(n){this.clearAllData();this.queryDate.getFullYear(),this.queryDate.getMonth();const r=Sa(n);this.productData=r.productsData,this.customerData=r.customersData,this.salespersonData=r.salesData,this.initSalesData=r.initOrders,this.setProductData(),this.setCustomerData(),this.setSalespersonData(),this.setInitSaleData()}getDataFromWorker(n){this.clearAllData();this.queryDate.getFullYear(),this.queryDate.getMonth();this.dataService.createProductData(n).pipe((0,h.R)(this.destroy$)).subscribe(r=>{this.productData=r.productsData,this.customerData=r.customersData,this.salespersonData=r.salesData,this.initSalesData=r.initOrders,this.setProductData(),this.setCustomerData(),this.setSalespersonData(),this.setInitSaleData()})}setInitSaleData(){this.initSalesData&&this.initSalesData.length>0&&(this.elementData=[...this.initSalesData],this.dataSource=new p.by(this.elementData),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)}setProductData(){this.productData&&this.productData.length>0&&(this.pieData=[...this.productData],this.setPieData())}setPieData(){this.pieOptions={tooltip:{trigger:"item"},series:[{type:"pie",radius:"60%",data:this.pieData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}setCustomerData(){if(this.customerData&&this.customerData.names.length>0){const n=Object.assign({},this.customerData);this.barData={xAxisData:n.names,seriesData:n.amounts},this.setBarData()}}setBarData(){var n,e;this.barOptions={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:null===(n=this.barData)||void 0===n?void 0:n.xAxisData,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"Counters",type:"bar",barWidth:"60%",data:null===(e=this.barData)||void 0===e?void 0:e.seriesData}]}}setSalespersonData(){if(this.salespersonData&&this.salespersonData.names.length>0){const n=Object.assign({},this.salespersonData);this.lineData={xAxisData:n.names,seriesData:n.amounts},this.setLineData()}}setLineData(){var n,e;this.lineOptions={xAxis:{type:"category",data:null===(n=this.lineData)||void 0===n?void 0:n.xAxisData},yAxis:{type:"value"},series:[{data:null===(e=this.lineData)||void 0===e?void 0:e.seriesData,type:"line"}]}}ngAfterViewInit(){}downloadData(){const n=[...this.elementData];if(!(n&&n.length>=1))return;const e=[],i=Object.keys(n[0]);e.push(i),n.forEach(c=>{let d=[];for(const[g,_]of Object.entries(c))d.push(_);e.push(d)});cn(dn(e),"initSalesData.csv","text/csv")}createData(){"worker"===this.dataCreateOption&&this.getDataFromWorker(999),"func"===this.dataCreateOption&&this.getDataFromFunction(888)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function os(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid start date"),t.qZA())}function is(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid end date"),t.qZA())}function rs(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"No."),t.qZA())}function as(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.index;t.xp6(1),t.Oqu(e+1)}}function ss(o,n){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Name"),t.qZA())}function ls(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function cs(o,n){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Date"),t.qZA())}function ds(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.orderDate)}}function ps(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Salesperson"),t.qZA())}function us(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.salespersonName)}}function ms(o,n){1&o&&t._UZ(0,"tr",34)}function gs(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr",35),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().getOrderDetails(s)}),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.ekj("demo-row-is-clicked",e===i.selectedRow)}}function hs(o,n){1&o&&(t.TgZ(0,"tr",36),t.TgZ(1,"td",37),t._uU(2," No order header data matching the filter "),t.qZA(),t.qZA())}function _s(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"No."),t.qZA())}function fs(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.index;t.xp6(1),t.Oqu(e+1)}}function Zs(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Product"),t.qZA())}function xs(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.productName)}}function Cs(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Price"),t.qZA())}function vs(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.price)}}function Ts(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Quantity"),t.qZA())}function As(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.quantity)}}function ws(o,n){1&o&&(t.TgZ(0,"th",31),t._uU(1,"Amount"),t.qZA())}function ys(o,n){if(1&o&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.amount)}}function bs(o,n){1&o&&t._UZ(0,"tr",34)}function Ms(o,n){1&o&&t._UZ(0,"tr",38)}function Os(o,n){1&o&&(t.TgZ(0,"tr",36),t.TgZ(1,"td",39),t._uU(2," No order details data matching the filter "),t.qZA(),t.qZA())}function Ps(o,n){if(1&o&&t._UZ(0,"app-error",40),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}ye.\u0275fac=function(n){return new(n||ye)(t.Y36(Yt))},ye.\u0275cmp=t.Xpm({type:ye,selectors:[["app-report-this-year"]],viewQuery:function(n,e){if(1&n&&(t.Gf(gt.NW,5),t.Gf(J.YE,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.paginator=i.first),t.iGM(i=t.CRH())&&(e.sort=i.first)}},decls:75,vars:16,consts:[[1,"container"],[1,"content-header"],[1,"create-data-section"],["aria-label","Select an data create method",3,"ngModel","ngModelChange"],["value","func"],["value","worker"],["mat-raised-button","","color","primary",1,"create-button",3,"click"],[1,"content"],["mat-align-tabs","start"],["label","By Category"],[1,"content-body"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","50%","fxFlex.lt-md","100%"],["echarts","",3,"initOpts","options"],[4,"ngFor","ngForOf"],["label","By Customer"],["echarts","",3,"options",4,"ngIf"],["label","By Salesperson"],["label","InitData"],["mat-raised-button","",1,"download-button",3,"click"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[3,"message",4,"ngIf"],["echarts","",3,"options"],["mat-table","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","product"],["matColumnDef","customer"],["matColumnDef","amount"],["matColumnDef","sales"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"mat-radio-group",3),t.NdJ("ngModelChange",function(r){return e.dataCreateOption=r}),t.TgZ(6,"mat-radio-button",4),t._uU(7,"Function"),t.qZA(),t.TgZ(8,"mat-radio-button",5),t._uU(9,"WebWorker"),t.qZA(),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return e.createData()}),t._uU(11," Create Yearly Mock Data "),t.qZA(),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"mat-tab-group",8),t.TgZ(14,"mat-tab",9),t.TgZ(15,"mat-card",10),t.TgZ(16,"div",11),t.TgZ(17,"div",12),t._UZ(18,"div",13),t.qZA(),t.TgZ(19,"div",12),t.TgZ(20,"h3"),t._uU(21,"Top 10 popular products"),t.qZA(),t.TgZ(22,"table"),t.TgZ(23,"tr"),t.TgZ(24,"th"),t._uU(25,"No."),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Name"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Amount($)"),t.qZA(),t.qZA(),t.YNc(30,Ia,8,3,"ng-container",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"mat-tab",15),t.TgZ(32,"mat-card",10),t.TgZ(33,"div",11),t.TgZ(34,"div",12),t.YNc(35,Na,1,1,"div",16),t.qZA(),t.TgZ(36,"div",12),t.TgZ(37,"h3"),t._uU(38,"Top 10 VIP Customers"),t.qZA(),t.TgZ(39,"table"),t.TgZ(40,"tr"),t.TgZ(41,"th"),t._uU(42,"No."),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Name"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Amount($)"),t.qZA(),t.qZA(),t.YNc(47,Fa,8,3,"ng-container",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"mat-tab",17),t.TgZ(49,"mat-card",10),t.TgZ(50,"div",11),t.TgZ(51,"div",12),t.YNc(52,Qa,1,1,"div",16),t.qZA(),t.TgZ(53,"div",12),t.TgZ(54,"h3"),t._uU(55,"Top 10 Salespersons"),t.qZA(),t.TgZ(56,"table"),t.TgZ(57,"tr"),t.TgZ(58,"th"),t._uU(59,"No."),t.qZA(),t.TgZ(60,"th"),t._uU(61,"Name"),t.qZA(),t.TgZ(62,"th"),t._uU(63,"Amount($)"),t.qZA(),t.qZA(),t.YNc(64,Ja,8,3,"ng-container",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"mat-tab",18),t.TgZ(66,"mat-card",10),t.TgZ(67,"button",19),t.NdJ("click",function(){return e.downloadData()}),t.TgZ(68,"mat-icon"),t._uU(69,"file_download"),t.qZA(),t._uU(70," Download "),t.qZA(),t.TgZ(71,"div",20),t.YNc(72,ts,21,3,"table",21),t._UZ(73,"mat-paginator",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(74,es,1,1,"app-error",23)),2&n&&(t.xp6(2),t.hij(" Sales Data Analyze ( ",t.xi3(3,12,e.queryDate,"MMM y")," ) "),t.xp6(3),t.Q6J("ngModel",e.dataCreateOption),t.xp6(13),t.Q6J("initOpts",e.initOpts)("options",e.pieOptions),t.xp6(12),t.Q6J("ngForOf",e.pieData),t.xp6(5),t.Q6J("ngIf",e.barOptions),t.xp6(12),t.Q6J("ngForOf",e.barData.xAxisData),t.xp6(5),t.Q6J("ngIf",e.lineOptions),t.xp6(12),t.Q6J("ngForOf",e.lineData.xAxisData),t.xp6(8),t.Q6J("ngIf",e.dataSource),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(15,ns)),t.xp6(1),t.Q6J("ngIf",e.errorMessage))},directives:[yn.VQ,a.JJ,a.On,yn.U0,C.lW,_t.SP,_t.uX,T.a8,w.xw,w.SQ,w.yH,V._w,u.sg,u.O5,y.Hw,gt.NW,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,p.ge,p.ev,p.XQ,p.Gk,q],pipes:[u.uU],styles:[".container[_ngcontent-%COMP%]{margin:15px}.create-data-section[_ngcontent-%COMP%]{padding:8px 0 8px 8px;box-shadow:0 2px 6px #3a394433}td[_ngcontent-%COMP%]{padding:8px}.mat-radio-button[_ngcontent-%COMP%] + .mat-radio-button[_ngcontent-%COMP%]{margin-left:8px}.create-button[_ngcontent-%COMP%]{margin-left:8px}.content-body[_ngcontent-%COMP%]{position:relative;margin-top:8px}.content-body[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{margin-bottom:8px}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 800px){.create-data-section[_ngcontent-%COMP%]{margin-bottom:16px}.create-button[_ngcontent-%COMP%]{display:block;margin-top:8px;margin-left:0}}"]});const qs=function(){return[5,10,20]};class be{constructor(n,e){this.orderSrv=n,this.authService=e,this.selectedRow=null,this.destroy$=new v.xQ,this.dataSource=new p.by,this.detailsDataSource=new p.by,this.displayedColumns=["position","customer","date","salesperson"],this.detailsDisplayedColumns=["position","product","price","quantity","amount"],this.range=new a.cw({start:new a.NI("",a.kI.required),end:new a.NI("",a.kI.required)}),this.errorMessage=""}ngOnInit(){}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}getOrderHeaders(){var n,e,i;if((null===(n=this.range.get("start"))||void 0===n?void 0:n.errors)||(null===(e=this.range.get("end"))||void 0===e?void 0:e.errors))return this.errorMessage="Please enter valid date range.",void setTimeout(()=>{this.errorMessage=""},3e3);this.dataSource.data=[],this.detailsDataSource.data=[];const r=this.range.controls.start.value,s=this.range.controls.end.value,c=(null===(i=this.authService.currentUser)||void 0===i?void 0:i._id)||"",d=nt(r),g=nt(s);this.orderSrv.getOrderHeaders(d,g,c).pipe((0,h.R)(this.destroy$)).subscribe(_=>{this.dataSource.data=_,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},_=>{this.errorMessage=_,setTimeout(()=>{this.errorMessage=""},2e3)})}getOrderDetails(n){this.selectedRow=n;const e=n._id||"";this.orderSrv.getOrderByHeaderId(e).pipe((0,h.R)(this.destroy$)).subscribe(i=>{this.detailsDataSource.data=i},i=>{this.detailsDataSource.data=[],this.errorMessage=i,setTimeout(()=>{this.errorMessage=""},2e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}function Us(o,n){if(1&o&&(t.TgZ(0,"mat-list-option",21),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.customerName," ")}}function ks(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Us,2,2,"mat-list-option",20),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.contactRecords)}}function Ds(o,n){1&o&&(t.TgZ(0,"div",22),t._uU(1," No visit plan data matching today. "),t.qZA())}function Ss(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.getNotesErrorMessage())}}function Is(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"map-marker",23,24),t.NdJ("mapClick",function(){const s=t.CHM(e).$implicit,c=t.MAs(1);return t.oxw().openInfo(c,s.info)}),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("position",e.position)("label",e.label)("title",e.title)("options",e.options)}}function Ns(o,n){if(1&o&&t._UZ(0,"app-success",25),2&o){const e=t.oxw();t.Q6J("message",e.successMessage)}}function Fs(o,n){if(1&o&&t._UZ(0,"app-error",25),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}be.\u0275fac=function(n){return new(n||be)(t.Y36(Pt),t.Y36($.e))},be.\u0275cmp=t.Xpm({type:be,selectors:[["app-order-query"]],viewQuery:function(n,e){if(1&n&&(t.Gf(gt.NW,5),t.Gf(J.YE,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.paginator=i.first),t.iGM(i=t.CRH())&&(e.sort=i.first)}},decls:63,vars:17,consts:[[1,"container"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["mat-raised-button","","color","primary",2,"margin-left","8px",3,"disabled","click"],["mat-table","","matSort","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["orderHeader",""],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customer"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","date"],["matColumnDef","salesperson"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"demo-row-is-clicked","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"mat-elevation-z8",3,"pageSizeOptions"],[2,"margin-top","16px"],["mat-table","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["orderDetails",""],["matColumnDef","product"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","amount"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"message",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"],["mat-row",""],["colspan","5",1,"mat-cell"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2,"Order Review"),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"form"),t.TgZ(5,"mat-form-field",1),t.TgZ(6,"mat-label"),t._uU(7,"Enter a date range"),t.qZA(),t.TgZ(8,"mat-date-range-input",2),t._UZ(9,"input",3),t._UZ(10,"input",4),t.qZA(),t._UZ(11,"mat-datepicker-toggle",5),t._UZ(12,"mat-date-range-picker",null,6),t.YNc(14,os,2,0,"mat-error",7),t.YNc(15,is,2,0,"mat-error",7),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){return e.getOrderHeaders()}),t.TgZ(17,"mat-icon"),t._uU(18,"search"),t.qZA(),t._uU(19,"Search "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"h3"),t._uU(21,"Order Header"),t.qZA(),t.TgZ(22,"table",9,10),t.ynx(24,11),t.YNc(25,rs,2,0,"th",12),t.YNc(26,as,2,1,"td",13),t.BQk(),t.ynx(27,14),t.YNc(28,ss,2,0,"th",15),t.YNc(29,ls,2,1,"td",13),t.BQk(),t.ynx(30,16),t.YNc(31,cs,2,0,"th",15),t.YNc(32,ds,2,1,"td",13),t.BQk(),t.ynx(33,17),t.YNc(34,ps,2,0,"th",12),t.YNc(35,us,2,1,"td",13),t.BQk(),t.YNc(36,ms,1,0,"tr",18),t.YNc(37,gs,1,2,"tr",19),t.YNc(38,hs,3,0,"tr",20),t.qZA(),t._UZ(39,"mat-paginator",21),t.TgZ(40,"h3",22),t._uU(41,"Order Details"),t.qZA(),t.TgZ(42,"table",23,24),t.ynx(44,11),t.YNc(45,_s,2,0,"th",12),t.YNc(46,fs,2,1,"td",13),t.BQk(),t.ynx(47,25),t.YNc(48,Zs,2,0,"th",12),t.YNc(49,xs,2,1,"td",13),t.BQk(),t.ynx(50,26),t.YNc(51,Cs,2,0,"th",12),t.YNc(52,vs,2,1,"td",13),t.BQk(),t.ynx(53,27),t.YNc(54,Ts,2,0,"th",12),t.YNc(55,As,2,1,"td",13),t.BQk(),t.ynx(56,28),t.YNc(57,ws,2,0,"th",12),t.YNc(58,ys,2,1,"td",13),t.BQk(),t.YNc(59,bs,1,0,"tr",18),t.YNc(60,Ms,1,0,"tr",29),t.YNc(61,Os,3,0,"tr",20),t.qZA(),t.qZA(),t.YNc(62,Ps,1,1,"app-error",30)),2&n){const i=t.MAs(13);t.xp6(8),t.Q6J("formGroup",e.range)("rangePicker",i),t.xp6(3),t.Q6J("for",i),t.xp6(3),t.Q6J("ngIf",e.range.controls.start.hasError("matStartDateInvalid")),t.xp6(1),t.Q6J("ngIf",e.range.controls.end.hasError("matEndDateInvalid")),t.xp6(1),t.ekj("btn-disabled",e.range.invalid),t.Q6J("disabled",e.range.invalid),t.xp6(6),t.Q6J("dataSource",e.dataSource),t.xp6(14),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(16,qs)),t.xp6(3),t.Q6J("dataSource",e.detailsDataSource),t.xp6(17),t.Q6J("matHeaderRowDef",e.detailsDisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.detailsDisplayedColumns),t.xp6(2),t.Q6J("ngIf",e.errorMessage)}},directives:[a._Y,a.JL,a.F,f.KE,f.hX,H.wx,a.sg,H.zY,a.Fj,a.JJ,a.u,H.By,H.nW,f.R9,H._g,u.O5,C.lW,y.Hw,p.BZ,J.YE,p.w1,p.fO,p.Dz,p.as,p.nj,p.Ee,gt.NW,f.TO,p.ge,p.ev,J.nU,p.XQ,p.Gk,q],styles:[".demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}.btn-disabled[_ngcontent-%COMP%]{background-color:#d3d3d3}.btn-disabled[_ngcontent-%COMP%]:hover{background:lightgray}.demo-row-is-clicked[_ngcontent-%COMP%]{font-weight:bold}"]});class Me{constructor(n,e,i){this.contactSrv=n,this.authSrv=e,this.fb=i,this.destroy$=new v.xQ,this.zoom=12,this.options={zoomControl:!0,scrollwheel:!1,disableDoubleClickZoom:!1,maxZoom:15,minZoom:7},this.markers=[],this.infoContent="",this.today=new Date,this.latitude=null,this.longitude=null,this.startTime=null,this.errorMessage="",this.successMessage="",this.contactRecords=[],this.selectedRecordId=null,this.notesControl=new a.NI("",[a.kI.required,a.kI.minLength(10),a.kI.maxLength(200)]),this.frmGroup=this.fb.group({notes:this.notesControl})}ngOnInit(){var n;const e=nt(new Date),i=(null===(n=this.authSrv.currentUser)||void 0===n?void 0:n._id)||"";this.contactSrv.getContactRecords(e,i).pipe((0,h.R)(this.destroy$)).subscribe(r=>{this.contactRecords=[],this.contactRecords=r.filter(s=>!1===s.isVisited)},r=>{this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},2e3)})}getNotesErrorMessage(){return this.notesControl.hasError("required")?"You must enter notes":this.notesControl.hasError("minlength")?"Notes must be at least 10 characters long.":this.notesControl.hasError("maxlength")?"Notes can be max 200 characters long.":"Enter a valid notes"}setSelectedRecord(n){this.selectedRecordId=n.options[0].value,this.latitude=null,this.longitude=null,this.startTime=null,this.notesControl.setValue("")}getLocationAndTime(){if(!this.selectedRecordId)return this.errorMessage="Please select a customer",void setTimeout(()=>{this.errorMessage=""},2e3);var o;this.startTime=new Date,(o={enableHighAccuracy:!0,timeout:5e3,maximumAge:6e4},new Promise((n,e)=>navigator.geolocation.getCurrentPosition(n,e,o))).then(e=>{this.latitude=e.coords.latitude,this.longitude=e.coords.longitude,this.center={lat:e.coords.latitude,lng:e.coords.longitude},this.map.panTo(this.center),this.markers=[],this.markers.push({position:{lat:this.center.lat,lng:this.center.lng},label:{color:"red",text:"Your location"},title:"Your Location",info:"Your Location",options:{animation:google.maps.Animation.DROP}})}).catch(e=>{this.errorMessage=e,setTimeout(()=>{this.errorMessage=""},3e3)})}onSubmit(){if(this.frmGroup.invalid)return this.errorMessage="Please enter notes before submit.",void setTimeout(()=>{this.errorMessage=""},2e3);if(!this.selectedRecordId)return this.errorMessage="Please select a customer",void setTimeout(()=>{this.errorMessage=""},2e3);const n=this.notesControl.value.trim(),e=this.selectedRecordId||"",i={actualContactDT:this.startTime,latitude:this.center.lat,longitude:this.center.lng,notes:n};this.contactSrv.updateContactRecord(e,i).pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.successMessage="Contact Record has been save successfully.",setTimeout(()=>{this.successMessage=""},2e3);const r=this.contactRecords.findIndex(s=>s._id===this.selectedRecordId);r>=0&&this.contactRecords.splice(r,1),this.resetForm()},r=>{this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},2e3)})}resetForm(){this.selectedRecordId=null,this.latitude=null,this.longitude=null,this.startTime=null,this.frmGroup.reset()}openInfo(n,e){this.infoContent=e+" is a excellent location",this.info.open(n)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Me.\u0275fac=function(n){return new(n||Me)(t.Y36(yt),t.Y36($.e),t.Y36(a.qu))},Me.\u0275cmp=t.Xpm({type:Me,selectors:[["app-contact-customer"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Z.b6,5),t.Gf(Z.ch,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.map=i.first),t.iGM(i=t.CRH())&&(e.info=i.first)}},decls:58,vars:25,consts:[[1,"main-form",3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutAlign","space-between"],["fxFlex","40%","fxFlex.lt-md","100%"],[2,"padding","0 16px"],[1,"important-detail"],[3,"multiple","selectionChange"],["waitingList",""],[4,"ngIf","ngIfElse"],["noData",""],["fxFlex","55%","fxFlex.lt-md","100%",1,"notes-wrapper"],["mat-raised-button","","type","button",2,"margin-top","16px",3,"click"],["role","list"],["role","listitem"],["appearance","fill",1,"input-area-full-width"],["matInput","","rows","4",3,"formControl"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit","click","onSubmit()",3,"disabled"],["width","100%","height","500px",3,"zoom","center","options"],[3,"position","label","title","options","mapClick",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin-left","16px"],[3,"position","label","title","options","mapClick"],["markerElem","mapMarker"],[3,"message"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"form",0),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(2,"h2"),t._uU(3,"Contact Customer"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"mat-card"),t.TgZ(7,"mat-card-content"),t.TgZ(8,"h3",3),t._uU(9," Need to Visit\xa0\xa0"),t.TgZ(10,"span",4),t._uU(11),t.ALo(12,"date"),t.qZA(),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"mat-selection-list",5,6),t.NdJ("selectionChange",function(r){return e.setSelectedRecord(r)}),t.YNc(16,ks,2,1,"ng-container",7),t.YNc(17,Ds,2,0,"ng-template",null,8,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",9),t.TgZ(20,"mat-card"),t.TgZ(21,"mat-card-content"),t.TgZ(22,"h3",3),t._uU(23," Customer selected:"),t.TgZ(24,"span",4),t._uU(25),t.qZA(),t.qZA(),t._UZ(26,"mat-divider"),t.qZA(),t.TgZ(27,"button",10),t.NdJ("click",function(){return e.getLocationAndTime()}),t._uU(28," Start Visit "),t.qZA(),t.TgZ(29,"mat-list",11),t.TgZ(30,"mat-list-item",12),t._uU(31,"Lat:\xa0"),t.TgZ(32,"span",4),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"mat-list-item",12),t._uU(35,"Lng:"),t.TgZ(36,"span",4),t._uU(37),t.qZA(),t._uU(38,"\xa0 "),t.qZA(),t.TgZ(39,"mat-list-item",12),t._uU(40,"Start Time:\xa0"),t.TgZ(41,"span",4),t._uU(42),t.ALo(43,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div"),t.TgZ(45,"mat-form-field",13),t.TgZ(46,"mat-label"),t._uU(47,"Notes"),t.qZA(),t._UZ(48,"textarea",14),t.YNc(49,Ss,2,1,"mat-error",15),t.qZA(),t.qZA(),t.TgZ(50,"button",16),t._uU(51," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"google-map",17),t.YNc(53,Is,2,4,"map-marker",18),t.TgZ(54,"map-info-window"),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.YNc(56,Ns,1,1,"app-success",19),t.YNc(57,Fs,1,1,"app-error",19)),2&n){const i=t.MAs(15),r=t.MAs(18);t.xp6(1),t.Q6J("formGroup",e.frmGroup),t.xp6(10),t.Oqu(t.xi3(12,19,e.today,"MMM dd yyyy")),t.xp6(3),t.Q6J("multiple",!1),t.xp6(2),t.Q6J("ngIf",e.contactRecords&&e.contactRecords.length>0)("ngIfElse",r),t.xp6(9),t.hij(" ",null==i.selectedOptions.selected[0]?null:i.selectedOptions.selected[0].getLabel(),""),t.xp6(8),t.Oqu(e.latitude),t.xp6(4),t.Oqu(e.longitude),t.xp6(5),t.Oqu(t.xi3(43,22,e.startTime,"long")),t.xp6(6),t.Q6J("formControl",e.notesControl),t.xp6(1),t.Q6J("ngIf",e.notesControl.invalid),t.xp6(1),t.Q6J("disabled",e.frmGroup.invalid),t.xp6(2),t.Q6J("zoom",e.zoom)("center",e.center)("options",e.options),t.xp6(1),t.Q6J("ngForOf",e.markers),t.xp6(2),t.Oqu(e.infoContent),t.xp6(1),t.Q6J("ngIf",e.successMessage),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}},directives:[a._Y,a.JL,a.sg,w.xw,w.Wh,w.yH,T.a8,T.dn,it.d,I.Ub,u.O5,C.lW,I.i$,I.Tg,f.KE,f.hX,z.Nt,a.Fj,a.JJ,a.oH,Z.b6,u.sg,Z.ch,I.vS,f.TO,Z.O_,pt,q],pipes:[u.uU],styles:[".main-form[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.main-form[_ngcontent-%COMP%]   .input-area-full-width[_ngcontent-%COMP%]{width:100%}.map-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%}.map[_ngcontent-%COMP%]{height:500px;width:100%}@media screen and (max-width: 960px){.notes-wrapper[_ngcontent-%COMP%]{margin-top:16px}}"]});class Et{constructor(n){this.userService=n}resolve(n,e){return this.userService.getUsers()}}function Js(o,n){1&o&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function Ls(o,n){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.name)}}function Ys(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Locked"),t.qZA())}function Es(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-checkbox",21),t.NdJ("change",function(r){const c=t.CHM(e).$implicit;return t.oxw().toggleRole(c,"isFrozen",r.checked)}),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(1),t.Q6J("checked",e.isFrozen)}}function Rs(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Employee"),t.qZA())}function $s(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-checkbox",21),t.NdJ("change",function(r){const c=t.CHM(e).$implicit;return t.oxw().toggleRole(c,"isSalesperson",r.checked)}),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(1),t.Q6J("checked",e.isSalesperson)}}function zs(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Manager"),t.qZA())}function Bs(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-checkbox",21),t.NdJ("change",function(r){const c=t.CHM(e).$implicit;return t.oxw().toggleRole(c,"isManager",r.checked)}),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(1),t.Q6J("checked",e.isManager)}}function Hs(o,n){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Admin"),t.qZA())}function js(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-checkbox",21),t.NdJ("change",function(r){const c=t.CHM(e).$implicit;return t.oxw().toggleRole(c,"isAdmin",r.checked)}),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(1),t.Q6J("checked",e.isAdmin)}}function Gs(o,n){1&o&&t._UZ(0,"tr",22)}function Ws(o,n){1&o&&t._UZ(0,"tr",23)}function Ks(o,n){if(1&o&&(t.TgZ(0,"tr",24),t.TgZ(1,"td",25),t._uU(2),t.qZA(),t.qZA()),2&o){t.oxw();const e=t.MAs(6);t.xp6(2),t.hij(' No data matching the filter "',e.value,'" ')}}function Xs(o,n){if(1&o&&t._UZ(0,"app-error",26),2&o){const e=t.oxw();t.Q6J("message",e.errorMessage)}}Et.\u0275fac=function(n){return new(n||Et)(t.LFG(Je.K))},Et.\u0275prov=t.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"});class Oe{constructor(n,e){this.route=n,this.service=e,this.destroy$=new v.xQ,this.displayedColumns=["name","locked","salesperson","manager","admin"],this.userArray=[],this.positionFilter=new a.NI,this.dataSource=new p.by,this.nameFilter=new a.NI,this.errorMessage=""}ngOnInit(){this.userArray=this.route.snapshot.data.users,this.dataSource.data=[...this.userArray]}applyFilter(n){const e=n.target.value;this.dataSource.filter=e.trim().toLowerCase()}ngAfterViewInit(){this.dataSource.sort=this.sort}toggleRole(n,e,i){let r;const s=this.userArray.findIndex(d=>d._id===n._id);if(s<0)return;const c=Object.assign({},this.userArray[s]);switch(e){case"isFrozen":r={isFrozen:i},c.isFrozen=i;break;case"isAdmin":r={isAdmin:i},c.isAdmin=i;break;case"isManager":r={isManager:i},c.isManager=i;break;case"isSalesperson":r={isSalesperson:i},c.isSalesperson=i}this.userArray.splice(s,1,Object.assign({},c)),this.service.updateUser(n._id,r).pipe((0,h.R)(this.destroy$)).subscribe(()=>{},d=>{this.errorMessage=d,setTimeout(()=>{this.errorMessage=""},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Oe.\u0275fac=function(n){return new(n||Oe)(t.Y36(A.gz),t.Y36(Je.K))},Oe.\u0275cmp=t.Xpm({type:Oe,selectors:[["app-add-role-to-user"]],viewQuery:function(n,e){if(1&n&&t.Gf(J.YE,5),2&n){let i;t.iGM(i=t.CRH())&&(e.sort=i.first)}},decls:30,vars:6,consts:[["appearance","standard"],["matInput","","placeholder","Ex. Marc",3,"keyup"],["input",""],[2,"margin-bottom","8px"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","locked"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","salesperson"],["matColumnDef","manager"],["matColumnDef","admin"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"message",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"checked","change"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","3",1,"mat-cell"],[3,"message"]],template:function(n,e){1&n&&(t.TgZ(0,"h2"),t._uU(1,"Grant And Revoke Roles Of Users"),t.qZA(),t.TgZ(2,"mat-form-field",0),t.TgZ(3,"mat-label"),t._uU(4,"Filter By Name"),t.qZA(),t.TgZ(5,"input",1,2),t.NdJ("keyup",function(r){return e.applyFilter(r)}),t.qZA(),t.qZA(),t.TgZ(7,"div",3),t._uU(8),t.qZA(),t.TgZ(9,"div",4),t.TgZ(10,"table",5),t.ynx(11,6),t.YNc(12,Js,2,0,"th",7),t.YNc(13,Ls,2,1,"td",8),t.BQk(),t.ynx(14,9),t.YNc(15,Ys,2,0,"th",10),t.YNc(16,Es,2,1,"td",8),t.BQk(),t.ynx(17,11),t.YNc(18,Rs,2,0,"th",10),t.YNc(19,$s,2,1,"td",8),t.BQk(),t.ynx(20,12),t.YNc(21,zs,2,0,"th",10),t.YNc(22,Bs,2,1,"td",8),t.BQk(),t.ynx(23,13),t.YNc(24,Hs,2,0,"th",10),t.YNc(25,js,2,1,"td",8),t.BQk(),t.YNc(26,Gs,1,0,"tr",14),t.YNc(27,Ws,1,0,"tr",15),t.YNc(28,Ks,3,1,"tr",16),t.qZA(),t.qZA(),t.YNc(29,Xs,1,1,"app-error",17)),2&n&&(t.xp6(8),t.hij(" ",e.dataSource.filteredData.length," records meet the criteria.\n"),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("ngIf",e.errorMessage))},directives:[f.KE,f.hX,z.Nt,p.BZ,J.YE,p.w1,p.fO,p.Dz,p.as,p.nj,p.Ee,u.O5,p.ge,J.nU,p.ev,pn.oG,p.XQ,p.Gk,q],styles:[".container[_ngcontent-%COMP%]{height:500px;width:100%;overflow:auto}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table-sticky[_ngcontent-%COMP%]{background:#59abfd;opacity:1}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-column-locked[_ngcontent-%COMP%]{max-width:100px}.mat-column-name[_ngcontent-%COMP%]{max-width:100px}"]});class at{constructor(n,e){this.router=n,this.authService=e}canLoad(n,e){var i;return!0===(null===(i=this.authService.currentUser)||void 0===i?void 0:i.isAdmin)||(window.alert("You are not authorized to visit this page.Please contact your supervisor."),this.router.navigate(["/home"]),!1)}canActivate(n,e){var i;return!!(null===(i=this.authService.currentUser)||void 0===i?void 0:i.isAdmin)||(window.alert("You are not authorized to visit this page.Please contact your supervisor."),this.router.navigate(["/home"]),!1)}}at.\u0275fac=function(n){return new(n||at)(t.LFG(A.F0),t.LFG($.e))},at.\u0275prov=t.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"});class ft{constructor(n,e){this.router=n,this.authService=e}canActivate(n,e){var i;return!!(null===(i=this.authService.currentUser)||void 0===i?void 0:i.isManager)||(window.alert("You are not authorized to visit this page..Please contact your supervisor."),this.router.navigate(["/home"]),!1)}}ft.\u0275fac=function(n){return new(n||ft)(t.LFG(A.F0),t.LFG($.e))},ft.\u0275prov=t.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"});const Vs=[{path:"login",component:he},{path:"signup",component:fe},{path:"forget-password",component:ve},{path:"reset-password",component:Te},{path:"change-password",component:Ae,canActivate:[F]},{path:"home",component:W},{path:"add-product",component:ge,canActivate:[at]},{path:"authorize",component:Oe,canActivate:[at],resolve:{users:Et}},{path:"dashboard",loadChildren:()=>l.e("src_app_admin_admin_module_ts").then(l.bind(l,4915)).then(o=>o.AdminModule),canLoad:[at]},{path:"list-logs",component:re,canActivate:[at]},{path:"assign-task",component:me,canActivate:[ft]},{path:"monthly-analyze",component:we,canActivate:[ft]},{path:"yearly-analyze",component:ye,canActivate:[ft]},{path:"todo",component:Kt,canActivate:[F]},{path:"product-list",component:te,canActivate:[F]},{path:"pipeline",component:Ce,canActivate:[F]},{path:"add-client",component:ce,canActivate:[F]},{path:"personal",children:[{path:"contact-customer",component:Me,canActivate:[F]},{path:"order-review",component:be,canActivate:[F]}]},{path:"cart",component:ne,canActivate:[F]},{path:"cart/print/:orderHeaderId",component:oe,canActivate:[F]},{path:"email-to-us",component:pe,canActivate:[F]},{path:"find-store",component:de,canActivate:[F]},{path:"game-card",component:Xt,canActivate:[F]},{path:"infinite-list",component:ae,canActivate:[F]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:Tt}];class Rt{}Rt.\u0275fac=function(n){return new(n||Rt)},Rt.\u0275mod=t.oAB({type:Rt}),Rt.\u0275inj=t.cJS({imports:[[A.Bz.forRoot(Vs)],A.Bz]});var bn=l(6410);class Pe{constructor(n,e){this._bottomSheetRef=n,this.cookieService=e}ngOnInit(){}acceptCookie(n){this.cookieService.set("acceptCookie",n,{expires:2,sameSite:"Lax"}),this._bottomSheetRef.dismiss()}}Pe.\u0275fac=function(n){return new(n||Pe)(t.Y36(bn.oL),t.Y36(U.N))},Pe.\u0275cmp=t.Xpm({type:Pe,selectors:[["app-cookie-popup"]],decls:8,vars:0,consts:[[1,"main"],["mat-dialog-content","",1,"content"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," We use cookies and other tracking technologies to improve your browsing experience on our website, to show you personalized content and targeted ads, to analyze our website traffic, and to understand where our visitors are coming from "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.acceptCookie("yes")}),t._uU(5," I agree "),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return e.acceptCookie("no")}),t._uU(7,"I decline"),t.qZA(),t.qZA(),t.qZA())},directives:[M.xY,M.H8,C.lW],styles:[".main[_ngcontent-%COMP%]{min-width:100vw;margin:16px 0 0;padding:2px}.content[_ngcontent-%COMP%]{white-space:normal;padding:2px 4px}.actions[_ngcontent-%COMP%]{margin:2rem auto}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:16px}"]});var Mn=l(5072),tl=l(8049);class Ut{constructor(n){this.router=n,this.currentUrl=new st.X(null),this.router.events.pipe((0,tl.P)()).subscribe(e=>{e instanceof A.m2&&this.currentUrl.next(e.urlAfterRedirects)})}closeNav(){this.appDrawer.close()}openNav(){this.appDrawer.open()}}Ut.\u0275fac=function(n){return new(n||Ut)(t.LFG(A.F0))},Ut.\u0275prov=t.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"});class kt{constructor(){this._loading=new st.X(!1),this.laoding$=this._loading.asObservable()}show(){this._loading.next(!0)}hide(){this._loading.next(!1)}}kt.\u0275fac=function(n){return new(n||kt)},kt.\u0275prov=t.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"});var On=l(2522),el=l(4395),nl=l(7519);function ol(o,n){1&o&&(t.TgZ(0,"mat-icon"),t._uU(1,"search"),t.qZA())}function il(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().resetSearchTerm()}),t._uU(1,"clear"),t.qZA()}}class qe{constructor(n,e,i){this.router=n,this.activeRoute=e,this.service=i,this.destroy$=new v.xQ,this.productInput=new a.NI("",[a.kI.required,a.kI.maxLength(50),a.kI.minLength(3)])}ngOnInit(){this.sub=this.productInput.valueChanges.pipe((0,el.b)(300),(0,nl.x)(),(0,rt.U)(n=>{this.service.setSearchTerms(n),this.router.url.includes("product-list")||this.router.navigateByUrl("/product-list")}),(0,h.R)(this.destroy$)).subscribe()}ngOnDestroy(){var n;null===(n=this.sub)||void 0===n||n.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}resetSearchTerm(){this.productInput.reset()}}qe.\u0275fac=function(n){return new(n||qe)(t.Y36(A.F0),t.Y36(A.gz),t.Y36(bt))},qe.\u0275cmp=t.Xpm({type:qe,selectors:[["app-search-box"]],decls:6,vars:3,consts:[["role","search"],[1,"search-box-wrapper"],["id","mySearch","name","mySearch","type","search","aria-label","search","placeholder","Search product...",1,"search-input",3,"formControl"],["searchBox",""],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){if(1&n&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t._UZ(2,"input",2,3),t.YNc(4,ol,2,0,"mat-icon",4),t.YNc(5,il,2,0,"mat-icon",5),t.qZA(),t.qZA()),2&n){const i=t.MAs(3);t.xp6(2),t.Q6J("formControl",e.productInput),t.xp6(2),t.Q6J("ngIf",""===i.value||void 0===i.value),t.xp6(1),t.Q6J("ngIf",i.value.length>0)}},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.oH,u.O5,y.Hw],styles:["[_nghost-%COMP%]{margin-right:16px}.search-box-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;min-width:120px;height:100%;margin:0 16px}.search-box-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;right:0px;top:50%;transform:translateY(-50%);color:#d3d3d3}input[_ngcontent-%COMP%]{color:#444;background-color:#fff;border:none;outline:none;border-radius:20px;padding:8px 16px;width:100%;line-height:1.1rem;-webkit-appearance:none;transition:width .4s ease-in-out}input[_ngcontent-%COMP%]:focus{width:102%}"]});var fn=l(4935);const rl=function(o){return{"show-scrollTop":o}};class Ue{constructor(n){this.document=n,this.windowScrolled=!1}onWindowScroll(){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop>100?this.windowScrolled=!0:(this.windowScrolled&&window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop<10)&&(this.windowScrolled=!1)}scrollToTop(){!function n(){var e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(n),window.scrollTo(0,e-e/8))}()}ngOnInit(){}}Ue.\u0275fac=function(n){return new(n||Ue)(t.Y36(u.K0))},Ue.\u0275cmp=t.Xpm({type:Ue,selectors:[["app-scroll-to-top"]],hostBindings:function(n,e){1&n&&t.NdJ("scroll",function(){return e.onWindowScroll()},!1,t.Jf7)},decls:5,vars:3,consts:[[1,"scroll-to-top",3,"ngClass"],[1,"back-top-button-container"],["mat-fab","","color","primary","data-toggle","button","aria-pressed","true","aria-label","back to top",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return e.scrollToTop()}),t.TgZ(3,"mat-icon"),t._uU(4,"north"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&t.Q6J("ngClass",t.VKq(1,rl,e.windowScrolled))},directives:[u.mk,B.oO,C.lW,y.Hw],styles:[".scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:35px;right:10px;opacity:0;transition:all .2s ease-in-out}.show-scrollTop[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}.back-top-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100px}"]});class ke{constructor(){}ngOnInit(){}}ke.\u0275fac=function(n){return new(n||ke)},ke.\u0275cmp=t.Xpm({type:ke,selectors:[["app-footer"]],decls:48,vars:0,consts:[["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.gt-md","33%","fxFlex.md","50%","fxFlex.lt-md","100%",1,"footer-block"],["href","mailto:jenniferyao1996@hotmail.com"],[1,"image-container"],["src","https://source.unsplash.com/random/100\xd7100/?gasoline","alt","company image",1,"image"],[1,"property_text"]],template:function(n,e){1&n&&(t.TgZ(0,"footer"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"h3"),t._uU(4,"Contact Details"),t.qZA(),t.TgZ(5,"ul"),t.TgZ(6,"li"),t.TgZ(7,"mat-icon"),t._uU(8,"email"),t.qZA(),t.TgZ(9,"a",2),t.TgZ(10,"span"),t._uU(11,"jenniferyao1996@hotmail.com"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"li"),t.TgZ(13,"mat-icon"),t._uU(14,"call"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"866 2323-2345 poste 111"),t.qZA(),t.qZA(),t.TgZ(17,"li"),t.TgZ(18,"mat-icon"),t._uU(19,"place"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"Saint-Laurent 152, Quebec, QC H4A 3D2"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",1),t.TgZ(23,"h3"),t._uU(24,"Since 1980"),t.qZA(),t.TgZ(25,"span",3),t._UZ(26,"img",4),t.qZA(),t.qZA(),t.TgZ(27,"div",1),t.TgZ(28,"h3"),t._uU(29,"Best days to shop"),t.qZA(),t.TgZ(30,"ul"),t.TgZ(31,"li"),t.TgZ(32,"mat-icon"),t._uU(33,"celebration"),t.qZA(),t.TgZ(34,"span"),t._uU(35,"June 13,\xa02021 summer holiday sale"),t.qZA(),t.qZA(),t.TgZ(36,"li"),t.TgZ(37,"mat-icon"),t._uU(38,"celebration"),t.qZA(),t.TgZ(39,"span"),t._uU(40,"Sep 01,\xa02021 return to school sale"),t.qZA(),t.qZA(),t.TgZ(41,"li"),t.TgZ(42,"mat-icon"),t._uU(43,"celebration"),t.qZA(),t.TgZ(44,"span"),t._uU(45,"Dec 12,\xa02021 snow tyres sale"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",5),t._uU(47," @2021 Excel Company\xa0|\xa0 All rights reserved. "),t.qZA(),t.qZA())},directives:[w.xw,w.SQ,w.yH,y.Hw],styles:['footer[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-size:14px;padding:16px}.footer-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-position:inside;list-style-type:none;padding:0;margin:0}.footer-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:8px}.footer-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;position:relative;color:#fff}.footer-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover:after{position:absolute;content:"";width:100%;left:0;bottom:-4px;border:1px solid #00d9ff}.footer-block[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.footer-block[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:10px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.property_text[_ngcontent-%COMP%]{width:100%;margin-top:10px;text-align:center}']});var al=l(346);function sl(o,n){if(1&o&&(t.TgZ(0,"span",3),t._UZ(1,"span",3),t.TgZ(2,"mat-icon"),t._uU(3,"expand_more"),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("@indicatorRotate",e.expanded?"expanded":"collapsed")}}function ll(o,n){if(1&o&&t._UZ(0,"app-menu-list-item",5),2&o){const e=n.$implicit,i=t.oxw(2);t.Q6J("item",e)("depth",(void 0===i.depth?0:i.depth)+1)}}function cl(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ll,1,2,"app-menu-list-item",4),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.item.children)}}const dl=function(o){return{"padding-left":o}},pl=function(o,n){return{active:o,expanded:n}};class $t{constructor(n,e){this.navService=n,this.router=e,this.destroy$=new v.xQ,this.expanded=!1,this.ariaExpanded=this.expanded,void 0===this.depth&&(this.depth=0)}ngOnInit(){this.navService.currentUrl.pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.item.route&&n&&(this.expanded=0===n.indexOf(`/${this.item.route}`),this.ariaExpanded=this.expanded)})}onItemSelected(n){(!n.children||!n.children.length)&&("over"===this.navService.appDrawer.mode?(this.router.navigate([n.route]),this.navService.closeNav()):this.router.navigate([n.route])),n.children&&n.children.length&&(this.expanded=!this.expanded)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}$t.\u0275fac=function(n){return new(n||$t)(t.Y36(Ut),t.Y36(A.F0))},$t.\u0275cmp=t.Xpm({type:$t,selectors:[["app-menu-list-item"]],hostVars:1,hostBindings:function(n,e){2&n&&t.uIk("aria-expanded",e.ariaExpanded)},inputs:{item:"item",depth:"depth"},decls:6,vars:11,consts:[["mat-list-item","",1,"menu-list-item",3,"ngStyle","ngClass","click"],["fxFlex","",4,"ngIf"],[4,"ngIf"],["fxFlex",""],[3,"item","depth",4,"ngFor","ngForOf"],[3,"item","depth"]],template:function(n,e){1&n&&(t.TgZ(0,"a",0),t.NdJ("click",function(){return e.onItemSelected(e.item)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t._uU(3),t.YNc(4,sl,4,1,"span",1),t.qZA(),t.YNc(5,cl,2,1,"div",2)),2&n&&(t.Q6J("ngStyle",t.VKq(6,dl,12*(void 0===e.depth?0:e.depth)+"px"))("ngClass",t.WLB(8,pl,!!e.item.route&&e.router.isActive(e.item.route,!0),e.expanded)),t.xp6(2),t.Oqu(e.item.icon),t.xp6(1),t.hij(" ",e.item.label," "),t.xp6(1),t.Q6J("ngIf",e.item.children&&e.item.children.length),t.xp6(1),t.Q6J("ngIf",e.expanded))},directives:[I.Tg,u.PC,B.Zl,u.mk,B.oO,y.Hw,u.O5,w.yH,u.sg,$t],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;outline:none;width:100%}.mat-list-item[_ngcontent-%COMP%]{font-size:14px!important}.mat-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}"],data:{animation:[(0,m.X$)("indicatorRotate",[(0,m.SB)("collapsed",(0,m.oB)({transform:"rotate(0deg)"})),(0,m.SB)("expanded",(0,m.oB)({transform:"rotate(180deg"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms"))])]}});const ul=["drawer"],ml=["spin"];function gl(o,n){1&o&&(t.TgZ(0,"mat-icon"),t._uU(1,"dark_mode"),t.qZA())}function hl(o,n){1&o&&(t.TgZ(0,"mat-icon"),t._uU(1,"light_mode"),t.qZA())}const _l=function(){return["/email-to-us"]},fl=function(){return["/find-store"]};function Zl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-toolbar-row",25),t.TgZ(1,"span",26),t.TgZ(2,"a",27),t._uU(3,"Contact Us"),t.qZA(),t.qZA(),t.TgZ(4,"span",26),t.TgZ(5,"a",27),t._uU(6,"FIND A STORE"),t.qZA(),t.qZA(),t._UZ(7,"span",6),t.TgZ(8,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleTheme()}),t.YNc(9,gl,2,0,"mat-icon",19),t.YNc(10,hl,2,0,"mat-icon",19),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.DdM(6,_l)),t.xp6(3),t.Q6J("routerLink",t.DdM(7,fl)),t.xp6(3),t.Q6J("title",e.getThemeLabel()),t.uIk("aria-label",e.getThemeLabel()),t.xp6(1),t.Q6J("ngIf",!e.isDark),t.xp6(1),t.Q6J("ngIf",e.isDark)}}function xl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",29),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(31).toggle()}),t.TgZ(1,"mat-icon",30),t._uU(2,"menu"),t.qZA(),t.qZA()}}function Cl(o,n){1&o&&(t.TgZ(0,"h1",31),t._uU(1," Center "),t.qZA())}function vl(o,n){1&o&&(t.TgZ(0,"a",32),t.TgZ(1,"mat-icon"),t._uU(2,"account_circle"),t.qZA(),t._uU(3,"Login "),t.qZA())}function Tl(o,n){if(1&o&&(t.TgZ(0,"a",33),t.TgZ(1,"span"),t.TgZ(2,"button",34),t.TgZ(3,"mat-icon",35),t._uU(4,"account_circle"),t.qZA(),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(),i=t.MAs(20);t.xp6(2),t.Q6J("matMenuTriggerFor",i),t.xp6(3),t.hij(" ",null==e.authService.currentUser?null:e.authService.currentUser.name," ")}}function Al(o,n){if(1&o&&(t.TgZ(0,"a",36),t.TgZ(1,"mat-icon",37),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3,"cart"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("matBadge",e.cartService.getTotalQuantity())}}function wl(o,n){if(1&o&&t._UZ(0,"app-menu-list-item",38),2&o){const e=n.$implicit;t.Q6J("item",e)}}function yl(o,n){if(1&o&&(t.ynx(0),t.YNc(1,wl,1,1,"app-menu-list-item",21),t._UZ(2,"mat-divider"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.commonItems)}}function bl(o,n){if(1&o&&t._UZ(0,"app-menu-list-item",38),2&o){const e=n.$implicit;t.Q6J("item",e)}}function Ml(o,n){if(1&o&&t._UZ(0,"app-menu-list-item",38),2&o){const e=n.$implicit;t.Q6J("item",e)}}function Ol(o,n){if(1&o&&t._UZ(0,"app-menu-list-item",38),2&o){const e=n.$implicit;t.Q6J("item",e)}}function Pl(o,n){if(1&o&&t._UZ(0,"app-menu-list-item",38),2&o){const e=n.$implicit;t.Q6J("item",e)}}function ql(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"mat-divider"),t.TgZ(2,"h3",20),t._uU(3,"Other Information"),t.qZA(),t.YNc(4,Pl,1,1,"app-menu-list-item",21),t._UZ(5,"mat-divider"),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.referItems)}}function Ul(o,n){1&o&&t._UZ(0,"mat-progress-spinner",39,40),2&o&&t.Q6J("mode","indeterminate")}class De{constructor(n,e,i,r,s,c,d,g){this.breakpointObserver=n,this.themeService=e,this.navService=i,this.cartService=r,this.authService=s,this.loader=c,this.cookieService=d,this._bottomSheet=g,this.destroy$=new v.xQ,this.title="ng-center",this.isDark=!1,this.currentLanguage="English",this.siteLocale="en",this.cookieValue="",this.languageList=[{code:"en",label:"English"},{code:"fr",label:"Fran\xe7ais"}],this.commonItems=[{label:"Home",icon:"home",route:"home"}],this.adminItems=[{label:"Products",icon:"addchart",route:"add-product"},{label:"Authorization",icon:"vpn_key",route:"authorize"},{label:"Logs",icon:"event_note",route:"list-logs"}],this.managerItems=[{label:"Monthly Data Analyse",icon:"bar_chart",route:"monthly-analyze"},{label:"Yearly Data Analyse",icon:"bar_chart",route:"yearly-analyze"},{label:"Pipeline Management",icon:"contact_page",route:"pipeline"},{label:"Task Management",icon:"edit_calendar",route:"assign-task"}],this.salespersonItems=[{label:"Contact Management",icon:"location_on",route:"todo"},{label:"Place Order",icon:"add_shopping_cart",route:"product-list"},{label:"Lead Management",icon:"person_add",route:"add-client"},{label:"Personal Data",icon:"analytics",route:"personal",children:[{label:"Contact Customer",icon:"contact_page",route:"personal/contact-customer"},{label:"Order Review",icon:"sell",route:"personal/order-review"}]}],this.referItems=[{label:"Find A Store",icon:"storefront",route:"find-store"},{label:"Contact US",icon:"email",route:"email-to-us"},{label:"Infinite List",icon:"toc",route:"infinite-list"},{label:"Flip Card",icon:"gamepad",route:"game-card"}],this.loading$=this.loader.laoding$}ngOnInit(){var n;this.siteLocale=window.location.pathname.split("/")[1],this.currentLanguage=(null===(n=this.languageList.find(e=>e.code===this.siteLocale))||void 0===n?void 0:n.label)||"English",this.breakpointObserver.observe(["(max-width: 800px)"]).pipe((0,rt.U)(e=>e.matches),(0,h.R)(this.destroy$)).subscribe(e=>{this.themeService.setHandset(e)}),this.authService.setCurrentUser()}toggleTheme(){this.isDark=!this.isDark,this.themeService.setDarkTheme(this.isDark)}getThemeLabel(){return this.isDark?"Switch to light mode":"Switch to dark mode"}toggleLanguage(){this.currentLanguage="french"}getLanguageLabel(){return"english"===this.currentLanguage?"Switch to french":"Switch to english"}ngAfterViewInit(){this.navService.appDrawer=this.appDrawer,this.cookieValue=this.cookieService.get("acceptCookie"),"yes"!==this.cookieValue.trim()&&setTimeout(()=>{this._bottomSheet.open(Pe,{panelClass:"my-bottom-sheet"})},1e3)}prepareRoute(n){return n&&n.activatedRouteData&&n.activatedRouteData.animation}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}De.\u0275fac=function(n){return new(n||De)(t.Y36(Mn.Yg),t.Y36(tt),t.Y36(Ut),t.Y36(X),t.Y36($.e),t.Y36(kt),t.Y36(U.N),t.Y36(bn.ch))},De.\u0275cmp=t.Xpm({type:De,selectors:[["app-root"]],viewQuery:function(n,e){if(1&n&&(t.Gf(ul,5),t.Gf(ml,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.appDrawer=i.first),t.iGM(i=t.CRH())&&(e.spin=i.first)}},decls:60,vars:48,consts:[[1,"app-container"],["color","primary",1,"toolbar"],["class","pliable-toolbar",4,"ngIf"],[1,"fix-toolbar"],["class","nav-link","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["class","app-name","routerLink","/home",4,"ngIf"],[1,"spacer"],["routerLink","/home",1,"nav-link","home-icon"],["class","nav-link login","routerLink","/login",4,"ngIf"],["class","nav-link",4,"ngIf"],["yPosition","below"],["profileMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/change-password"],["mat-menu-item","","routerLink","/dashboard"],["class","nav-link","routerLink","/cart",4,"ngIf"],[1,"sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport","opened"],["drawer",""],[4,"ngIf"],["mat-subheader",""],[3,"item",4,"ngFor","ngForOf"],[1,"content-wrapper"],["outlet","outlet"],[3,"mode",4,"ngIf"],[1,"pliable-toolbar"],[1,"link-item"],[3,"routerLink"],["mat-icon-button","",3,"title","click"],["aria-label","Toggle sidenav","mat-icon-button","",1,"nav-link",3,"click"],["aria-label","Side nav toggle icon"],["routerLink","/home",1,"app-name"],["routerLink","/login",1,"nav-link","login"],[1,"nav-link"],["mat-button","",3,"matMenuTriggerFor"],[1,"account-icon"],["routerLink","/cart",1,"nav-link"],["matBadgeColor","accent","aria-label","Shopping cart icon",3,"matBadge"],[3,"item"],[3,"mode"],["spin",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.ALo(2,"async"),t.TgZ(3,"mat-toolbar",1),t.YNc(4,Zl,11,8,"mat-toolbar-row",2),t.ALo(5,"async"),t.TgZ(6,"mat-toolbar-row",3),t.YNc(7,xl,3,0,"span",4),t.ALo(8,"async"),t.YNc(9,Cl,2,0,"h1",5),t.ALo(10,"async"),t._UZ(11,"span",6),t._UZ(12,"app-search-box"),t.TgZ(13,"a",7),t.TgZ(14,"mat-icon"),t._uU(15,"home"),t.qZA(),t._uU(16," Home"),t.qZA(),t.YNc(17,vl,4,0,"a",8),t.YNc(18,Tl,6,2,"a",9),t.TgZ(19,"mat-menu",10,11),t.TgZ(21,"button",12),t.NdJ("click",function(){return e.authService.logout()}),t._uU(22," Logout "),t.qZA(),t.TgZ(23,"button",13),t._uU(24," Change Password "),t.qZA(),t.TgZ(25,"button",14),t._uU(26,"Dashboard"),t.qZA(),t.qZA(),t.YNc(27,Al,4,1,"a",15),t.qZA(),t.qZA(),t.TgZ(28,"mat-sidenav-container",16),t.ALo(29,"async"),t.TgZ(30,"mat-sidenav",17,18),t.ALo(32,"async"),t.ALo(33,"async"),t.ALo(34,"async"),t.ALo(35,"async"),t.TgZ(36,"mat-nav-list"),t.YNc(37,yl,3,1,"ng-container",19),t.ALo(38,"async"),t.TgZ(39,"h3",20),t._uU(40,"Administrator"),t.qZA(),t.YNc(41,bl,1,1,"app-menu-list-item",21),t._UZ(42,"mat-divider"),t.TgZ(43,"h3",20),t._uU(44,"Manager"),t.qZA(),t.YNc(45,Ml,1,1,"app-menu-list-item",21),t._UZ(46,"mat-divider"),t.TgZ(47,"h3",20),t._uU(48,"Salesperson"),t.qZA(),t.YNc(49,Ol,1,1,"app-menu-list-item",21),t.YNc(50,ql,6,1,"ng-container",19),t.ALo(51,"async"),t.qZA(),t.qZA(),t.TgZ(52,"mat-sidenav-content"),t.TgZ(53,"div",22),t._UZ(54,"router-outlet",null,23),t.qZA(),t.YNc(56,Ul,2,1,"mat-progress-spinner",24),t.ALo(57,"async"),t._UZ(58,"app-scroll-to-top"),t._UZ(59,"app-footer"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.ekj("darkMode",t.lcZ(1,22,e.themeService.isDarkTheme))("is-handset",t.lcZ(2,24,e.themeService.isHandset)),t.xp6(4),t.Q6J("ngIf",!1===t.lcZ(5,26,e.themeService.isHandset)),t.xp6(3),t.Q6J("ngIf",t.lcZ(8,28,e.themeService.isHandset)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(10,30,e.themeService.isHandset)),t.xp6(8),t.Q6J("ngIf",!(null!=e.authService.currentUser&&e.authService.currentUser.name)),t.xp6(1),t.Q6J("ngIf",null==e.authService.currentUser?null:e.authService.currentUser.name),t.xp6(9),t.Q6J("ngIf",e.cartService.items.length>0),t.xp6(1),t.Udp("margin-top",t.lcZ(29,32,e.themeService.isHandset)?56:0,"px"),t.xp6(2),t.Q6J("mode",t.lcZ(32,34,e.themeService.isHandset)?"over":"side")("fixedInViewport",t.lcZ(33,36,e.themeService.isHandset))("opened",!1===t.lcZ(34,38,e.themeService.isHandset)),t.uIk("role",t.lcZ(35,40,e.themeService.isHandset)?"dialog":"navigation"),t.xp6(7),t.Q6J("ngIf",t.lcZ(38,42,e.themeService.isHandset)),t.xp6(4),t.Q6J("ngForOf",e.adminItems),t.xp6(4),t.Q6J("ngForOf",e.managerItems),t.xp6(4),t.Q6J("ngForOf",e.salespersonItems),t.xp6(1),t.Q6J("ngIf",t.lcZ(51,44,e.themeService.isHandset)),t.xp6(6),t.Q6J("ngIf",t.lcZ(57,46,e.loading$)))},directives:[On.Ye,u.O5,On.rD,qe,A.yS,y.Hw,et.VK,et.OP,A.rH,fn.TM,fn.JX,I.Hk,I.gs,u.sg,it.d,fn.Rh,A.lC,Ue,ke,C.lW,et.p6,al.k,$t,Tn.Ou],pipes:[u.Ov],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.toolbar[_ngcontent-%COMP%]{position:relative;z-index:2;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.toolbar[_ngcontent-%COMP%]   .fix-toolbar[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .pliable-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:stretch}.is-handset[_ngcontent-%COMP%]   .account-icon[_ngcontent-%COMP%], .is-handset[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{display:none}.is-handset[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{position:fixed;height:56px}.is-handset[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:2px 0;border-radius:2px}.is-handset[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .is-handset[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active{border:1px solid white;opacity:.8}.is-handset[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:2px}.pliable-toolbar[_ngcontent-%COMP%]{height:30px;background-color:#000;font-size:.7rem;font-weight:300}.pliable-toolbar[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:24px;text-decoration:none;color:#fff}.pliable-toolbar[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-radius:4px;padding:4px 0;box-shadow:0 2px 2px 2px #d3d3d3}.toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:14px;font-weight:400;margin:8px;padding:4px;transition:all .3s;border-radius:4px}.toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active{border:1px solid white;opacity:.8}.toolbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;vertical-align:middle}h1.app-name[_ngcontent-%COMP%]{margin-left:8px}.sidenav-container[_ngcontent-%COMP%]{flex:1}.is-handset[_ngcontent-%COMP%]   .sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}.mat-sidenav[_ngcontent-%COMP%]{width:240px}.mat-divider[_ngcontent-%COMP%]{margin:8px auto;background-color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]{margin:16px;min-height:calc(100vh - 140px)}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1001}"]});var kl=l(3806);class zt{intercept(n,e){return e.handle(n).pipe((0,At.X)(1),(0,ut.K)(i=>{let r="";return r=i.error instanceof ErrorEvent?`Error: ${i.error.message}`:`Error Code: ${i.status}\nMessage:${i.error} \n${i.message}`,(0,Ie._)(r)}))}}zt.\u0275fac=function(n){return new(n||zt)},zt.\u0275prov=t.Yz7({token:zt,factory:zt.\u0275fac});var Dl=l(8939);class Bt{constructor(n){this.loader=n}intercept(n,e){return this.loader.show(),e.handle(n).pipe((0,Dl.x)(()=>{this.loader.hide()}))}}Bt.\u0275fac=function(n){return new(n||Bt)(t.LFG(kt))},Bt.\u0275prov=t.Yz7({token:Bt,factory:Bt.\u0275fac});class Ht{constructor(n){this.cookieService=n}intercept(n,e){let i,r;return i=this.cookieService.get(P.N.cookieName),null===i||n.headers.has(P.N.tokenHeaderName)?e.handle(n):(r=n.clone({headers:n.headers.set(P.N.tokenHeaderName,i),body:n.body}),e.handle(r))}}Ht.\u0275fac=function(n){return new(n||Ht)(t.LFG(U.N))},Ht.\u0275prov=t.Yz7({token:Ht,factory:Ht.\u0275fac});const Sl=[{provide:b.TP,useClass:Ht,multi:!0},{provide:b.TP,useClass:Bt,multi:!0},{provide:b.TP,useClass:zt,multi:!0}];class jt{}jt.\u0275fac=function(n){return new(n||jt)},jt.\u0275mod=t.oAB({type:jt,bootstrap:[De]}),jt.\u0275inj=t.cJS({providers:[U.N,k,Sl],imports:[[D.b2,Y.PW,Q.Iq,j.o9,a.u5,a.UX,Z.Y4,b.JF,kl.q,V.Ns.forRoot({echarts:()=>l.e("node_modules_echarts_index_js").then(l.bind(l,181))}),Rt,mn.N6,T.QW,et.Tx,y.Ps,C.ot,Mn.xu]]}),P.N.production&&(0,t.G48)(),D.q6().bootstrapModule(jt).catch(o=>console.error(o))},7395:(R,N,l)=>{var D={"./take-notes/take-notes.component":[2671,"src_app_lazy-components_take-notes_take-notes_component_ts"]};function t(Y){if(!l.o(D,Y))return Promise.resolve().then(()=>{var j=new Error("Cannot find module '"+Y+"'");throw j.code="MODULE_NOT_FOUND",j});var Q=D[Y],U=Q[0];return l.e(Q[1]).then(()=>l(U))}t.keys=()=>Object.keys(D),t.id=7395,R.exports=t}},R=>{R.O(0,["vendor"],()=>{return D=754,R(R.s=D);var D});R.O()}]);